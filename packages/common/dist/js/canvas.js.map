{"version":3,"file":"canvas.js","sources":["../../js/canvas.js"],"sourcesContent":["/**\n * Copyright (c) 2023 - present TinyEngine Authors.\n * Copyright (c) 2023 - present Huawei Cloud Computing Technologies Co., Ltd.\n *\n * Use of this source code is governed by an MIT-style license.\n *\n * THE OPEN SOURCE SOFTWARE IN THIS PRODUCT IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL,\n * BUT WITHOUT ANY WARRANTY, WITHOUT EVEN THE IMPLIED WARRANTY OF MERCHANTABILITY OR FITNESS FOR\n * A PARTICULAR PURPOSE. SEE THE APPLICABLE LICENSES FOR MORE DETAILS.\n *\n */\n\nimport { PAGE_STATUS } from './constants'\nimport { useResource, getMetaApi, META_SERVICE } from '@opentiny/tiny-engine-meta-register'\n\nexport const getCanvasStatus = (data) => {\n  const globalState = getMetaApi(META_SERVICE.GlobalService).getState()\n  const isDemo = useResource().appSchemaState.isDemo\n  let state = ''\n\n  if (isDemo) {\n    state = PAGE_STATUS.Guest\n  } else if (!data) {\n    state = PAGE_STATUS.Release\n  } else {\n    state = globalState.userInfo.id === data.id ? PAGE_STATUS.Occupy : PAGE_STATUS.Lock\n  }\n\n  return {\n    state,\n    data\n  }\n}\n"],"names":["getCanvasStatus","data","globalState","getMetaApi","META_SERVICE","isDemo","useResource","state","PAGE_STATUS"],"mappings":";;AAeY,MAACA,IAAkB,CAACC,MAAS;AACvC,QAAMC,IAAcC,EAAWC,EAAa,aAAa,EAAE,SAAQ,GAC7DC,IAASC,EAAW,EAAG,eAAe;AAC5C,MAAIC,IAAQ;AAEZ,SAAIF,IACFE,IAAQC,EAAY,QACVP,IAGVM,IAAQL,EAAY,SAAS,OAAOD,EAAK,KAAKO,EAAY,SAASA,EAAY,OAF/ED,IAAQC,EAAY,SAKf;AAAA,IACL,OAAAD;AAAA,IACA,MAAAN;AAAA,EACJ;AACA;"}