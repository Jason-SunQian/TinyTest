import * as N from "vue";
import { createElementBlock as k, openBlock as C, createElementVNode as T, createStaticVNode as Ct, createVNode as E, Transition as Ot, withCtx as q, withDirectives as ae, normalizeStyle as ke, normalizeClass as W, createCommentVNode as P, renderSlot as G, toDisplayString as j, createTextVNode as de, vShow as De, resolveComponent as K, resolveDirective as Qe, Fragment as ie, renderList as $e, createBlock as z, resolveDynamicComponent as Te, withModifiers as X, mergeProps as it, toHandlers as na, vModelCheckbox as xi, createSlots as kr, withKeys as Se, vModelText as Yt, isVNode as ud, vModelRadio as ra, defineComponent as rr, ref as ut, computed as ot, unref as Oe, useModel as Ar, watch as gn, onUnmounted as cd, mergeModels as So } from "vue";
import { S as xn, s as J, a as mt, t as ln, n as oe, e as an, Z as ee, R as sn, m as be, b as Ee, c as _e, P as oa, d as U, f as ve, p as Ne, $ as Ie, g as te, h as le, i as Dn, j as F, k as lt, D as xe, V as Ke, l as ft, o as Tr, q as Ae, r as cn, u as or, J as ia, B as fd, _ as ir, v as la, w as lr, G as Ve, X as aa, x as Ut, y as Rt, z as ii, A as hd, L as pd, C as li, E as vd, F as gd, H as sa, I as da, K as md, M as Lr, N as ua, O as ai, Q as ca, T as nt, U as fa, W as yd, Y as ha, a0 as ar, a1 as pa, a2 as bd, a3 as va, a4 as Cd, a5 as wd, a6 as Sd, a7 as ga, a8 as ma, a9 as $d, aa as si, ab as di, ac as kd, ad as ya, ae as Cr, af as Td, ag as _d, ah as Id, ai as Di, aj as Ed, ak as Od, al as Md, am as xd, an as Dd, ao as Ai, ap as Ad, aq as Ld, ar as Rd, as as ba, at as $o, au as Vd, av as ui, aw as Ca, ax as wa, ay as Nd } from "../index7.js";
import { B as Be, i as An } from "../index5.js";
import { k as ci, T as $t } from "../index2.js";
import { a as _n, _ as Ue, c as sr, b as Mt, O as Pd, I as Yn, i as Fd, d as zd, h as Hd } from "../index6.js";
import { i as dn } from "../close.js";
import { L as Bd, a as jd, X as Wd, x as Sa, $ as Kd, e as Li } from "../tiny-robot-svgs.js";
import { _ as dr } from "../_plugin-vue_export-helper.js";
import { d as qd, o as Gd } from "../index3.js";
function Ud() {
  return xn ? !1 : window.navigator && window.navigator.userAgent && (/iP(?:ad|hone|od)/.test(window.navigator.userAgent) || // The new iPad Pro Gen3 does not identify itself as iPad, but as Macintosh.
  // https://github.com/vueuse/vueuse/issues/3577
  window.navigator.maxTouchPoints > 2 && /iPad|Macintosh/.test(window.navigator.userAgent));
}
const Zd = () => ({ isIOS: Ud() });
var Yd = {
  viewBox: "0 0 14 14",
  xmlns: "http://www.w3.org/2000/svg"
}, Xd = /* @__PURE__ */ T(
  "path",
  {
    d: "M3.284 4h7.432a1 1 0 0 1 .735 1.678L7.735 9.704a1 1 0 0 1-1.47 0L2.55 5.678A1 1 0 0 1 3.284 4Z"
  },
  null,
  -1
  /* HOISTED */
), Qd = [Xd];
function Jd(e, t) {
  return C(), k("svg", Yd, [].concat(Qd));
}
var eu = {
  render: Jd
}, $a = function() {
  return J({
    name: "IconArrowBottom",
    component: eu
  })();
}, tu = {
  width: "16",
  height: "16",
  viewBox: "0 0 16 16",
  fill: "none",
  xmlns: "http://www.w3.org/2000/svg"
}, nu = /* @__PURE__ */ T(
  "path",
  {
    d: "M16 4c0-2-2-4-4-4H4C2 0 0 2 0 4v8c0 2 2 4 4 4h8c2 0 4-2 4-4V4Z",
    fill: "#fff",
    "fill-rule": "evenodd"
  },
  null,
  -1
  /* HOISTED */
), ru = /* @__PURE__ */ T(
  "path",
  {
    d: "M16 4c0-2.21-1.8-4-4-4H4C1.79 0 0 1.79 0 4v8c0 2.2 1.79 4 4 4h8c2.2 0 4-1.8 4-4V4Zm-1 0c0-1.66-1.35-3-3-3H4C2.34 1 1 2.34 1 4v8c0 1.65 1.34 3 3 3h8c1.65 0 3-1.35 3-3V4Z",
    fill: "#191919",
    "fill-rule": "evenodd"
  },
  null,
  -1
  /* HOISTED */
), ou = [nu, ru];
function iu(e, t) {
  return C(), k("svg", tu, [].concat(ou));
}
var lu = {
  render: iu
}, Vt = function() {
  return J({
    name: "IconCheck",
    component: lu
  })();
}, au = {
  width: "16",
  height: "16",
  viewBox: "0 0 16 16",
  fill: "none",
  xmlns: "http://www.w3.org/2000/svg"
}, su = /* @__PURE__ */ T(
  "path",
  {
    d: "M4 16h8c2.2 0 4-1.8 4-4V4c0-2.21-1.8-4-4-4H4C1.79 0 0 1.79 0 4v8c0 2.2 1.79 4 4 4Zm3.26-4.38 5.99-6.43a.6.6 0 1 0-.88-.82L6.8 10.35 3.6 7.19a.6.6 0 1 0-.84.86l3.64 3.59c.28.28.57.26.86-.02Z",
    fill: "currentColor",
    "fill-rule": "evenodd"
  },
  null,
  -1
  /* HOISTED */
), du = /* @__PURE__ */ T(
  "path",
  {
    d: "M13.25 5.17 7.26 11.6c-.29.29-.58.3-.86.02L2.76 8.03a.6.6 0 0 1-.01-.85c.24-.24.61-.24.85 0l3.2 3.15 5.57-5.98a.6.6 0 0 1 .85-.02c.24.22.26.6.03.84Z",
    fill: "#FFF",
    "fill-rule": "evenodd"
  },
  null,
  -1
  /* HOISTED */
), uu = [su, du];
function cu(e, t) {
  return C(), k("svg", au, [].concat(uu));
}
var fu = {
  render: cu
}, Nt = function() {
  return J({
    name: "IconCheckedSur",
    component: fu
  })();
}, hu = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 16 16",
  style: {
    "enable-background": "new 0 0 16 16"
  },
  "xml:space": "preserve"
}, pu = /* @__PURE__ */ T(
  "rect",
  {
    style: {
      fill: "none"
    }
  },
  null,
  -1
  /* HOISTED */
), vu = /* @__PURE__ */ T(
  "path",
  {
    class: "chevron-down_svg__st1",
    d: "M3.16 5.36a.61.61 0 0 1 .79-.07l.09.07L8 9.32l3.96-3.96a.61.61 0 0 1 .79-.07l.09.07c.22.22.24.55.07.79l-.07.09-4.4 4.4a.61.61 0 0 1-.79.07l-.09-.07-4.4-4.4a.628.628 0 0 1 0-.88z"
  },
  null,
  -1
  /* HOISTED */
), gu = [pu, vu];
function mu(e, t) {
  return C(), k("svg", hu, [].concat(gu));
}
var yu = {
  render: mu
}, ka = function() {
  return J({
    name: "IconChevronDown",
    component: yu
  })();
}, bu = {
  viewBox: "0 0 16 16",
  xmlns: "http://www.w3.org/2000/svg"
}, Cu = /* @__PURE__ */ T(
  "path",
  {
    d: "M5.42 7.42c-.31.32-.31.83 0 1.14l4.1 4.1c.23.23.62.23.85 0a.61.61 0 0 0 0-.85L6.56 8l3.81-3.83c.21-.2.23-.53.06-.76-.23-.24-.67-.3-.91-.08l-4.1 4.09Z"
  },
  null,
  -1
  /* HOISTED */
), wu = [Cu];
function Su(e, t) {
  return C(), k("svg", bu, [].concat(wu));
}
var $u = {
  render: Su
}, Ta = function() {
  return J({
    name: "IconChevronLeft",
    component: $u
  })();
}, ku = {
  viewBox: "0 0 16 16",
  xmlns: "http://www.w3.org/2000/svg"
}, Tu = /* @__PURE__ */ T(
  "path",
  {
    d: "M10.56 7.43c.32.31.32.82 0 1.13l-4.1 4.1c-.23.24-.61.24-.85 0a.61.61 0 0 1 0-.85L9.43 8 5.61 4.18a.607.607 0 0 1-.06-.78l.06-.07c.24-.24.62-.24.85 0l4.1 4.1Z"
  },
  null,
  -1
  /* HOISTED */
), _u = [Tu];
function Iu(e, t) {
  return C(), k("svg", ku, [].concat(_u));
}
var Eu = {
  render: Iu
}, Rr = function() {
  return J({
    name: "IconChevronRight",
    component: Eu
  })();
}, Ou = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  "xml:space": "preserve"
}, Mu = /* @__PURE__ */ T(
  "path",
  {
    class: "chevron-up_svg__st0",
    d: "M3 17c0-.2.1-.5.2-.6l8-9.9c.2-.2.5-.4.8-.4s.6.1.8.4l7.9 9.9c.4.4.3 1.1-.2 1.4-.4.4-1.1.3-1.4-.2L12 8.7l-7.2 8.9c-.4.4-1 .5-1.4.2-.3-.2-.4-.5-.4-.8z"
  },
  null,
  -1
  /* HOISTED */
), xu = [Mu];
function Du(e, t) {
  return C(), k("svg", Ou, [].concat(xu));
}
var Au = {
  render: Du
}, _a = function() {
  return J({
    name: "IconChevronUp",
    component: Au
  })();
}, Lu = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  "xml:space": "preserve"
}, Ru = /* @__PURE__ */ T(
  "path",
  {
    class: "conment-refresh_svg__st0",
    d: "M23.2 12c-.5 0-.9.3-.9.8-.2 2.6-1.4 5-3.3 6.8-1.9 1.8-4.4 2.8-7 2.8-2 0-4-.6-5.7-1.7-1.5-1-2.7-2.3-3.5-3.9h2.3c.5 0 .8-.4.8-.8.1-.6-.3-1-.7-1H.8c-.4 0-.8.4-.8.8v4.3c0 .5.4.9.8.9s.8-.4.8-.8v-2c1 1.5 2.3 2.8 3.8 3.8 2 1.3 4.3 2 6.6 2 3 0 6-1.1 8.2-3.2 2.2-2.1 3.6-4.9 3.8-7.9 0-.5-.3-.9-.8-.9zm0-9c-.5 0-.8.4-.8.8v2c-1-1.5-2.3-2.8-3.8-3.8-2-1.3-4.3-2-6.6-2-3 0-6 1.1-8.2 3.2C1.6 5.3.3 8.1 0 11.1c0 .5.3.9.8.9s.9-.3.9-.8C1.9 8.6 3 6.2 5 4.4c1.9-1.8 4.4-2.8 7-2.8 2 0 4 .6 5.7 1.7 1.5 1 2.7 2.3 3.5 3.9h-2.3c-.5 0-.8.4-.8.8-.1.6.3 1 .7 1h4.3c.5 0 .9-.4.9-.8V3.8c0-.4-.4-.8-.8-.8z"
  },
  null,
  -1
  /* HOISTED */
), Vu = [Ru];
function Nu(e, t) {
  return C(), k("svg", Lu, [].concat(Vu));
}
var Pu = {
  render: Nu
}, Fu = function() {
  return J({
    name: "IconConmentRefresh",
    component: Pu
  })();
}, zu = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  "xml:space": "preserve"
}, Hu = /* @__PURE__ */ T(
  "path",
  {
    class: "copy_svg__st0",
    d: "m21.5 5.6-5-5.1-.3-.3s-.1 0-.1-.1H16c-.2 0-.4-.1-.7-.1H7c-.9 0-2 1.1-2 2v1H4c-.9 0-2 1.1-2 2v17c0 .9 1.1 2 2 2h13c.9 0 2-1.1 2-2v-1h1c.9 0 2-1.1 2-2V7c0-.4-.2-1.1-.5-1.4zM16 3l3 3h-3V3zm1 19H4V5h1v14c0 .9 1.2 2 2 2h10v1zm3-3H7V2h7v4c0 .9 1.1 2 2 2h4v11zm-5-9c0-.6-.4-1-.8-1H9.9c-.5 0-.9.4-.9 1s.4 1 .8 1h4.3c.5 0 .9-.4.9-1zm3 3c0-.6-.4-1-.8-1H9.9c-.5 0-.8.4-.8 1s.4 1 .8 1h7.3c.4 0 .8-.4.8-1zm-1 3c0-.6-.4-1-.9-1H9.9c-.5 0-.9.4-.9 1s.4 1 .9 1h6.2c.5 0 .9-.4.9-1z"
  },
  null,
  -1
  /* HOISTED */
), Bu = [Hu];
function ju(e, t) {
  return C(), k("svg", zu, [].concat(Bu));
}
var Wu = {
  render: ju
}, Ia = function() {
  return J({
    name: "IconCopy",
    component: Wu
  })();
}, Ku = {
  viewBox: "0 0 16 16",
  xmlns: "http://www.w3.org/2000/svg"
}, qu = /* @__PURE__ */ T(
  "path",
  {
    d: "M9.37 1.03c.58 0 1.09.33 1.25.83l.5 1.76h3.01c.25 0 .5.25.5.5s-.25.5-.5.5H1.86c-.25 0-.5-.25-.5-.5s.25-.5.5-.5h2.92l.67-1.76c.17-.5.67-.83 1.17-.83h2.75Zm-2.67.92h2.67c.17 0 .25.08.33.16l.42 1.42H5.87l.5-1.42c0-.08.17-.16.33-.16Zm6.34 3.83c0-.25-.25-.5-.5-.5s-.5.25-.5.5v7.34c0 .5-.42.839-.83.839H4.45c-.5 0-.83-.42-.83-.84V5.78c0-.25-.25-.5-.5-.5s-.5.25-.5.5v7.34c0 1 .83 1.84 1.83 1.84h6.76c1 0 1.83-.84 1.83-1.84V5.78ZM6.28 6.79c.26 0 .51.25.51.5v4.58c0 .17-.09.25-.17.339-.08.08-.25.16-.34.16-.33 0-.5-.25-.5-.5V7.29c0-.25.25-.5.5-.5Zm3.59.5c0-.25-.25-.5-.5-.5s-.5.25-.5.5v4.58c0 .25.25.5.5.5s.5-.25.5-.5V7.29Z",
    "clip-rule": "evenodd",
    "fill-rule": "evenodd"
  },
  null,
  -1
  /* HOISTED */
), Gu = [qu];
function Uu(e, t) {
  return C(), k("svg", Ku, [].concat(Gu));
}
var Zu = {
  render: Uu
}, Yu = function() {
  return J({
    name: "IconDel",
    component: Zu
  })();
}, Xu = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  "xml:space": "preserve"
}, Qu = /* @__PURE__ */ T(
  "path",
  {
    class: "delta-down_svg__st0",
    d: "M2 6h20L12 19z"
  },
  null,
  -1
  /* HOISTED */
), Ju = [Qu];
function ec(e, t) {
  return C(), k("svg", Xu, [].concat(Ju));
}
var tc = {
  render: ec
}, nc = function() {
  return J({
    name: "IconDeltaDown",
    component: tc
  })();
}, rc = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 16 16",
  style: {
    "enable-background": "new 0 0 16 16"
  },
  "xml:space": "preserve"
}, oc = /* @__PURE__ */ T(
  "path",
  {
    style: {
      fill: "none"
    },
    d: "M0 0v16h16V0z"
  },
  null,
  -1
  /* HOISTED */
), ic = /* @__PURE__ */ T(
  "path",
  {
    class: "double-left_svg__st1",
    d: "M7.8 12.4c.2.2.2.6 0 .8-.2.2-.5.2-.7.1l-.1-.1-4.8-4.7c-.1-.2-.2-.5 0-.7l.1-.1L7 2.8c.2-.2.6-.2.8 0 .2.2.2.5 0 .7v.1L3.4 8.1l4.4 4.3zM13.8 12.4c.2.2.2.6 0 .8-.2.2-.5.2-.7.1l-.1-.1-4.8-4.7c-.1-.2-.2-.5 0-.7l.1-.1L13 2.8c.2-.2.6-.2.8 0 .2.2.2.5 0 .7l-.1.1-4.3 4.5 4.4 4.3z"
  },
  null,
  -1
  /* HOISTED */
), lc = [oc, ic];
function ac(e, t) {
  return C(), k("svg", rc, [].concat(lc));
}
var sc = {
  render: ac
}, ko = function() {
  return J({
    name: "IconDoubleLeft",
    component: sc
  })();
}, dc = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 16 16",
  style: {
    "enable-background": "new 0 0 16 16"
  },
  "xml:space": "preserve"
}, uc = /* @__PURE__ */ T(
  "path",
  {
    style: {
      fill: "none"
    },
    d: "M16 0v16H0V0z"
  },
  null,
  -1
  /* HOISTED */
), cc = /* @__PURE__ */ T(
  "path",
  {
    class: "double-right_svg__st1",
    d: "M7.7 2.7c-.2.1-.2.4 0 .7l.1.1 4.4 4.4-4.4 4.3c-.2.2-.2.6 0 .8.2.2.5.2.7.1l.1-.1 4.8-4.7c.2-.2.2-.5.1-.7l-.1-.1-4.9-4.8c-.2-.3-.5-.3-.8 0zm-5 0c-.2.1-.2.4-.1.7l.1.1 4.4 4.4-4.4 4.3c-.2.2-.2.6 0 .8.2.2.5.2.7.1l.1-.1 4.8-4.7c.2-.2.2-.5.1-.7l-.1-.1-4.8-4.8c-.2-.3-.6-.3-.8 0z"
  },
  null,
  -1
  /* HOISTED */
), fc = [uc, cc];
function hc(e, t) {
  return C(), k("svg", dc, [].concat(fc));
}
var pc = {
  render: hc
}, To = function() {
  return J({
    name: "IconDoubleRight",
    component: pc
  })();
}, vc = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 16 16",
  style: {
    "enable-background": "new 0 0 16 16"
  },
  "xml:space": "preserve"
}, gc = /* @__PURE__ */ T(
  "rect",
  {
    style: {
      fill: "none"
    }
  },
  null,
  -1
  /* HOISTED */
), mc = /* @__PURE__ */ T(
  "path",
  {
    d: "M5.48 14.29c.19-.08.35-.19.49-.33l7.69-7.69c.13-.13.25-.27.34-.42.08-.13.15-.27.21-.41s.1-.29.13-.44a2.074 2.074 0 0 0 0-1c-.03-.15-.07-.3-.13-.44s-.13-.28-.21-.41c-.09-.15-.21-.29-.34-.42-.13-.13-.27-.24-.42-.34-.13-.08-.26-.15-.4-.21-.15-.05-.29-.1-.44-.13-.17-.03-.33-.05-.5-.05-.18 0-.34.02-.51.05-.15.03-.29.08-.44.13-.14.06-.27.13-.4.21-.15.1-.29.21-.42.34l-7.69 7.69c-.15.15-.25.31-.33.49-.08.18-.11.38-.11.58v2.21c0 .1.01.19.05.27.03.08.08.16.15.22.07.07.14.12.23.16.08.03.17.05.27.05h2.21c.2 0 .39-.04.57-.11zm7.48-8.73-1.13 1.13-2.12-2.13 1.12-1.12c.09-.08.18-.15.27-.21.07-.05.15-.09.23-.12.08-.03.17-.06.25-.08a1.733 1.733 0 0 1 .63 0c.08.02.17.05.25.08.08.03.16.07.23.12.09.06.18.13.27.21.08.08.15.17.21.27.04.07.08.15.12.23.03.08.05.16.07.25.02.1.04.2.04.31s-.02.21-.04.31c-.02.09-.04.17-.07.25-.08.19-.19.36-.33.5zm-7.7 7.69 5.86-5.86L9 5.27l-5.86 5.86c-.1.1-.14.22-.14.36v1.91h1.91c.14 0 .26-.05.35-.15zm2.75.63c0-.28.22-.5.5-.5h5c.28 0 .5.22.5.5s-.22.5-.5.5h-5c-.28 0-.5-.22-.5-.5z",
    style: {
      "fill-rule": "evenodd",
      "clip-rule": "evenodd"
    }
  },
  null,
  -1
  /* HOISTED */
), yc = [gc, mc];
function bc(e, t) {
  return C(), k("svg", vc, [].concat(yc));
}
var Cc = {
  render: bc
}, Ea = function() {
  return J({
    name: "IconEdit",
    component: Cc
  })();
}, wc = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 16 16",
  style: {
    "enable-background": "new 0 0 16 16"
  },
  "xml:space": "preserve"
}, Sc = /* @__PURE__ */ T(
  "rect",
  {
    style: {
      fill: "none"
    }
  },
  null,
  -1
  /* HOISTED */
), $c = /* @__PURE__ */ T(
  "path",
  {
    d: "M5.48 14.29c.19-.08.35-.19.49-.33l7.69-7.69c.13-.13.25-.27.34-.42.08-.13.15-.27.21-.41s.1-.29.13-.44a2.074 2.074 0 0 0 0-1c-.03-.15-.07-.3-.13-.44s-.13-.28-.21-.41c-.09-.15-.21-.29-.34-.42-.13-.13-.27-.24-.42-.34-.13-.08-.26-.15-.4-.21-.15-.05-.29-.1-.44-.13-.17-.03-.33-.05-.5-.05-.18 0-.34.02-.51.05-.15.03-.29.08-.44.13-.14.06-.27.13-.4.21-.15.1-.29.21-.42.34l-7.69 7.69c-.15.15-.25.31-.33.49-.08.18-.11.38-.11.58v2.21c0 .1.01.19.05.27.03.08.08.16.15.22.07.07.14.12.23.16.08.03.17.05.27.05h2.21c.2 0 .39-.04.57-.11zm7.48-8.73-1.13 1.13-2.12-2.13 1.12-1.12c.09-.08.18-.15.27-.21.07-.05.15-.09.23-.12.08-.03.17-.06.25-.08a1.733 1.733 0 0 1 .63 0c.08.02.17.05.25.08.08.03.16.07.23.12.09.06.18.13.27.21.08.08.15.17.21.27.04.07.08.15.12.23.03.08.05.16.07.25.02.1.04.2.04.31s-.02.21-.04.31c-.02.09-.04.17-.07.25-.08.19-.19.36-.33.5zm-7.7 7.69 5.86-5.86L9 5.27l-5.86 5.86c-.1.1-.14.22-.14.36v1.91h1.91c.14 0 .26-.05.35-.15zm2.75.63c0-.28.22-.5.5-.5h5c.28 0 .5.22.5.5s-.22.5-.5.5h-5c-.28 0-.5-.22-.5-.5z",
    style: {
      "fill-rule": "evenodd",
      "clip-rule": "evenodd"
    }
  },
  null,
  -1
  /* HOISTED */
), kc = [Sc, $c];
function Tc(e, t) {
  return C(), k("svg", wc, [].concat(kc));
}
var _c = {
  render: Tc
}, Ic = function() {
  return J({
    name: "IconEditor",
    component: _c
  })();
}, Ec = {
  width: "16",
  height: "16",
  viewBox: "0 0 16 16",
  fill: "none",
  xmlns: "http://www.w3.org/2000/svg"
}, Oc = /* @__PURE__ */ T(
  "path",
  {
    d: "M2.55 7.96v.08c.02.65.55 1.16 1.2 1.16.66 0 1.2-.53 1.2-1.2 0-.66-.54-1.2-1.2-1.2-.65 0-1.18.52-1.2 1.16ZM6.79 8.01c0 .66.53 1.2 1.2 1.2.66 0 1.2-.54 1.2-1.2 0-.67-.54-1.2-1.2-1.2-.67 0-1.2.53-1.2 1.2ZM11.03 7.96v.08c.02.64.55 1.16 1.2 1.16.66 0 1.2-.54 1.2-1.2 0-.67-.54-1.2-1.2-1.2-.65 0-1.18.51-1.2 1.16Z"
  },
  null,
  -1
  /* HOISTED */
), Mc = [Oc];
function xc(e, t) {
  return C(), k("svg", Ec, [].concat(Mc));
}
var Dc = {
  render: xc
}, Vr = function() {
  return J({
    name: "IconEllipsis",
    component: Dc
  })();
}, Ac = {
  "data-name": "图层 1",
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 16 16"
}, Lc = /* @__PURE__ */ T(
  "path",
  {
    "data-name": "路径",
    d: "M8 1C4.13 1 1 4.13 1 8s3.13 7 7 7 7-3.14 7-7-3.14-7-7-7Z",
    style: {
      "fill-rule": "evenodd",
      fill: "var(--tv-color-error-icon)"
    }
  },
  null,
  -1
  /* HOISTED */
), Rc = /* @__PURE__ */ T(
  "path",
  {
    "data-name": "形状结合",
    d: "M10.62 4.9c.13 0 .24.05.34.14.09.09.14.2.14.34s-.05.24-.14.34L8.67 8.01l2.29 2.29c.09.09.14.2.14.34a.476.476 0 0 1-.48.48c-.14 0-.24-.05-.34-.14L7.99 8.69 5.7 10.98c-.09.09-.2.14-.34.14a.476.476 0 0 1-.48-.48c0-.14.05-.24.14-.34l2.29-2.29-2.29-2.29c-.09-.09-.14-.2-.14-.34a.476.476 0 0 1 .48-.48c.14 0 .24.05.34.14l2.29 2.29 2.29-2.29c.09-.09.2-.14.34-.14Z",
    style: {
      fill: "#fff",
      "fill-rule": "evenodd"
    }
  },
  null,
  -1
  /* HOISTED */
), Vc = [Lc, Rc];
function Nc(e, t) {
  return C(), k("svg", Ac, [].concat(Vc));
}
var Pc = {
  render: Nc
}, Nr = function() {
  return J({
    name: "IconError",
    component: Pc
  })();
}, Fc = {
  width: "16",
  height: "16",
  viewBox: "0 0 16 16",
  fill: "none",
  xmlns: "http://www.w3.org/2000/svg"
}, zc = /* @__PURE__ */ T(
  "defs",
  null,
  [/* @__PURE__ */ T("clipPath", {
    id: "fullscreen-right_svg__a"
  }, [/* @__PURE__ */ T("path", {
    fill: "#fff",
    "fill-opacity": "0",
    d: "M0 0h16v16H0z"
  })])],
  -1
  /* HOISTED */
), Hc = /* @__PURE__ */ T(
  "g",
  {
    "clip-path": "url(#fullscreen-right_svg__a)"
  },
  [/* @__PURE__ */ T("path", {
    d: "M9 3.5c-.28 0-.5.22-.5.5 0 .27.22.5.5.5h1.81L8.31 7c-.18.16-.21.44-.06.65.21.18.57.25.76.06l2.49-2.49V7c0 .24.16.44.41.49.27 0 .59-.23.59-.5V4.4c0-.5-.41-.9-.91-.9H9ZM7.68 8.28a.501.501 0 0 0-.7 0L4.5 10.77V9c0-.25-.17-.45-.42-.5-.27 0-.58.23-.58.5v2.6c0 .5.4.9.9.9H7c.27 0 .5-.22.5-.5 0-.27-.23-.5-.5-.5H5.18L7.68 9c.16-.19.16-.52 0-.72ZM4 2.5h8c.83 0 1.5.66 1.5 1.5v8c0 .83-.67 1.5-1.5 1.5H4c-.84 0-1.5-.67-1.5-1.5V4c0-.84.66-1.5 1.5-1.5Zm0-1C2.61 1.5 1.5 2.61 1.5 4v8c0 1.38 1.11 2.5 2.5 2.5h8a2.5 2.5 0 0 0 2.5-2.5V4c0-1.39-1.12-2.5-2.5-2.5H4Z"
  })],
  -1
  /* HOISTED */
), Bc = [zc, Hc];
function jc(e, t) {
  return C(), k("svg", Fc, [].concat(Bc));
}
var Wc = {
  render: jc
}, Kc = function() {
  return J({
    name: "IconFullscreenRight",
    component: Wc
  })();
}, qc = {
  width: "16",
  height: "16",
  viewBox: "0 0 16 16",
  fill: "none",
  xmlns: "http://www.w3.org/2000/svg"
}, Gc = /* @__PURE__ */ T(
  "path",
  {
    d: "M4 0h8c2.2 0 4 1.79 4 4v8c0 2.2-1.8 4-4 4H4c-2.21 0-4-1.8-4-4V4c0-2.21 1.79-4 4-4Zm6 5H6c-.56 0-1 .44-1 1v4c0 .55.44 1 1 1h4c.55 0 1-.45 1-1V6c0-.56-.45-1-1-1Z",
    fill: "currentColor",
    "fill-rule": "evenodd"
  },
  null,
  -1
  /* HOISTED */
), Uc = /* @__PURE__ */ T(
  "path",
  {
    d: "M6 5h4c.55 0 1 .44 1 1v4c0 .55-.45 1-1 1H6c-.56 0-1-.45-1-1V6c0-.56.44-1 1-1Z",
    fill: "#FFF",
    "fill-rule": "evenodd"
  },
  null,
  -1
  /* HOISTED */
), Zc = [Gc, Uc];
function Yc(e, t) {
  return C(), k("svg", qc, [].concat(Zc));
}
var Xc = {
  render: Yc
}, Xt = function() {
  return J({
    name: "IconHalfselect",
    component: Xc
  })();
}, Qc = {
  viewBox: "0 0 16 16",
  xmlns: "http://www.w3.org/2000/svg"
}, Jc = /* @__PURE__ */ T(
  "path",
  {
    d: "M15 8c0-3.87-3.14-7-7-7-3.87 0-7 3.13-7 7 0 3.86 3.13 7 7 7 3.86 0 7-3.14 7-7ZM2 8c0-3.32 2.68-6 6-6 3.31 0 6 2.68 6 6 0 3.31-2.69 6-6 6-3.32 0-6-2.69-6-6Zm8.2-1.28c0-1.23-1-2.22-2.23-2.22s-2.22.99-2.22 2.22c0 .27.22.5.5.5.27 0 .5-.23.5-.5 0-.68.54-1.22 1.22-1.22.68 0 1.23.54 1.23 1.22 0 .67-.55 1.21-1.23 1.21-.27 0-.5.23-.5.5v1.23c0 .27.23.5.5.5l.09-.01c.24-.04.41-.24.41-.49v-.78l.12-.03c.93-.27 1.61-1.12 1.61-2.13Zm-2.27 3.87c.31 0 .57.25.57.56 0 .31-.26.56-.57.56a.56.56 0 0 1-.56-.56c0-.31.25-.56.56-.56Z",
    "clip-rule": "evenodd",
    "fill-rule": "evenodd"
  },
  null,
  -1
  /* HOISTED */
), ef = [Jc];
function tf(e, t) {
  return C(), k("svg", Qc, [].concat(ef));
}
var nf = {
  render: tf
}, rf = function() {
  return J({
    name: "IconHelpCircle",
    component: nf
  })();
}, of = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  "xml:space": "preserve"
}, lf = /* @__PURE__ */ T(
  "path",
  {
    class: "help-solid_svg__st0",
    d: "M12 24C5.4 24 0 18.6 0 12S5.4 0 12 0s12 5.4 12 12-5.4 12-12 12zm4-15.6c.1-1.1-.3-2.2-1-3-.8-.9-1.9-1.4-3-1.4s-2.1.5-2.8 1.3C8.4 6.1 8 7.2 8 8.4c0 .5.4.9.8.9s.8-.4.8-.9c0-1.4 1.1-2.6 2.4-2.6.7 0 1.3.3 1.8.8.4.5.6 1.1.6 1.7 0 .5 0 1-1.5 2.6-.9 1-1.7 2-1.8 3.2 0 .5.3.9.7 1h.1c.4 0 .8-.3.8-.8.1-.6.6-1.2 1.4-2.1 1.5-1.8 1.8-2.7 1.9-3.8zM12 19c.6 0 1-.4 1-1s-.4-1-1-1-1 .4-1 1 .4 1 1 1z"
  },
  null,
  -1
  /* HOISTED */
), af = [lf];
function sf(e, t) {
  return C(), k("svg", of, [].concat(af));
}
var df = {
  render: sf
}, uf = function() {
  return J({
    name: "IconHelpSolid",
    component: df
  })();
}, cf = {
  "data-name": "图层 1",
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 16 16"
}, ff = /* @__PURE__ */ T(
  "path",
  {
    "data-name": "路径",
    d: "M8 1C4.13 1 1 4.13 1 8s3.13 7 7 7 7-3.14 7-7-3.14-7-7-7Z",
    style: {
      "fill-rule": "evenodd",
      fill: "var(--tv-color-icon-control-active)"
    }
  },
  null,
  -1
  /* HOISTED */
), hf = /* @__PURE__ */ T(
  "path",
  {
    "data-name": "形状结合",
    d: "M7.93 5.71c-.47 0-.87-.39-.87-.87s.4-.84.87-.84.85.38.85.86-.38.85-.85.85Zm-.6 6.79c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h.3v-4h-.08c-.25 0-.45-.18-.49-.41V7c0-.28.22-.5.49-.5h1.08v5h.3c.28 0 .5.22.5.5s-.22.5-.5.5h-1.6Z",
    style: {
      fill: "#fff",
      "fill-rule": "evenodd"
    }
  },
  null,
  -1
  /* HOISTED */
), pf = [ff, hf];
function vf(e, t) {
  return C(), k("svg", cf, [].concat(pf));
}
var gf = {
  render: vf
}, Oa = function() {
  return J({
    name: "IconHelp",
    component: gf
  })();
}, mf = {
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg"
}, yf = /* @__PURE__ */ T(
  "path",
  {
    d: "m520 875.2-29.9-33.6c-3-3.4-74.3-83.8-146.7-185.2-42.9-60.2-77.3-115.2-102-163.6C208.2 427.9 192 375.3 192 332c0-44.3 8.7-87.2 25.8-127.7 16.5-39.1 40.2-74.1 70.3-104.2 30.1-30.1 65.2-53.8 104.2-70.3C432.8 12.7 475.7 4 520 4s87.2 8.7 127.7 25.8c39.1 16.5 74.1 40.2 104.2 70.3 30.1 30.1 53.8 65.2 70.3 104.2C839.3 244.8 848 287.7 848 332c0 43.3-16.2 95.9-49.4 160.8-24.8 48.4-59.1 103.4-102 163.6-72.4 101.4-143.7 181.8-146.7 185.2L520 875.2zM520 84c-136.7 0-248 111.3-248 248 0 32.3 17.7 111.3 136.2 277.3 42 59 84.5 111.5 111.8 144.1 27.3-32.7 69.8-85.2 111.8-144.1C750.3 443.3 768 364.3 768 332c0-136.7-111.3-248-248-248z"
  },
  null,
  -1
  /* HOISTED */
), bf = /* @__PURE__ */ T(
  "path",
  {
    d: "M520 476c-80 0-145-65-145-145s65-145 145-145 145 65 145 145-65 145-145 145zm0-210c-35.8 0-65 29.2-65 65s29.2 65 65 65 65-29.2 65-65-29.2-65-65-65zm-.4 758c-125.6 0-244.4-17.7-334.3-49.9-46.2-16.5-83.1-36.3-109.6-58.8C34.6 880.4 26 845 26 821.5c0-28.1 12.1-69.8 69.8-108.9 37.4-25.4 88.5-46.4 151.8-62.5l19.7 77.5c-53.5 13.6-97.3 31.3-126.6 51.2-22.1 15-34.7 30.5-34.7 42.7 0 19.5 32.9 50.9 106.4 77.2C293.9 927.9 403 944 519.7 944c116.7 0 225.8-16.1 307.3-45.3 73.5-26.3 106.4-57.8 106.4-77.2 0-12.2-12.7-27.7-34.7-42.7-29.3-19.9-73.1-37.6-126.6-51.2l19.7-77.5c63.3 16.1 114.3 37.1 151.8 62.5 57.7 39.1 69.8 80.8 69.8 108.9 0 23.5-8.6 58.9-49.8 93.8-26.5 22.5-63.4 42.2-109.6 58.8-90 32.2-208.7 49.9-334.4 49.9z"
  },
  null,
  -1
  /* HOISTED */
), Cf = [yf, bf];
function wf(e, t) {
  return C(), k("svg", mf, [].concat(Cf));
}
var Sf = {
  render: wf
}, Ma = function() {
  return J({
    name: "IconMarkOn",
    component: Sf
  })();
}, $f = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  "xml:space": "preserve"
}, kf = /* @__PURE__ */ T(
  "path",
  {
    class: "plus-square_svg__st0",
    d: "M13 11h4c.6 0 1 .4 1 1s-.4 1-1 1h-4v4c0 .6-.4 1-1 1s-1-.4-1-1v-4H7c-.6 0-1-.4-1-1s.4-1 1-1h4V7c0-.6.4-1 1-1s1 .4 1 1v4zM3 1h18c.9 0 2 1.1 2 2v18c0 .9-1 2-2 2H3c-.9 0-2-1.1-2-2V3c0-.9 1.1-2 2-2zm0 2v18h18V3H3z"
  },
  null,
  -1
  /* HOISTED */
), Tf = [kf];
function _f(e, t) {
  return C(), k("svg", $f, [].concat(Tf));
}
var If = {
  render: _f
}, Ef = function() {
  return J({
    name: "IconPlusSquare",
    component: If
  })();
}, Of = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 16 16",
  style: {
    "enable-background": "new 0 0 16 16"
  },
  "xml:space": "preserve"
}, Mf = /* @__PURE__ */ T(
  "path",
  {
    style: {
      fill: "none"
    },
    d: "M0 16h16V0H0z"
  },
  null,
  -1
  /* HOISTED */
), xf = /* @__PURE__ */ T(
  "path",
  {
    d: "M14 8c0 .3-.3.6-.6.6H8.6v4.8c0 .3-.3.6-.6.6s-.6-.3-.6-.6V8.6H2.6c-.3 0-.6-.3-.6-.6s.3-.6.6-.6h4.8V2.6c0-.3.3-.6.6-.6s.6.3.6.6v4.8h4.8c.3 0 .6.3.6.6z",
    style: {
      "fill-rule": "evenodd",
      "clip-rule": "evenodd"
    }
  },
  null,
  -1
  /* HOISTED */
), Df = [Mf, xf];
function Af(e, t) {
  return C(), k("svg", Of, [].concat(Df));
}
var Lf = {
  render: Af
}, Rf = function() {
  return J({
    name: "IconPlus",
    component: Lf
  })();
}, Vf = {
  viewBox: "0 0 16 16",
  xmlns: "http://www.w3.org/2000/svg"
}, Nf = /* @__PURE__ */ T(
  "path",
  {
    d: "M2.3 7.78v.08c.02.65.561 1.17 1.221 1.17.68 0 1.229-.54 1.229-1.21 0-.672-.549-1.21-1.229-1.21-.66 0-1.2.519-1.22 1.17Zm4.241.04c0 .67.54 1.21 1.22 1.21.68 0 1.23-.54 1.23-1.21 0-.672-.55-1.21-1.23-1.21-.68 0-1.22.538-1.22 1.21Zm4.24.04v-.08c.02-.651.559-1.17 1.219-1.17.682 0 1.23.538 1.23 1.21 0 .67-.548 1.21-1.23 1.21-.66 0-1.2-.52-1.219-1.17Z",
    "clip-rule": "evenodd",
    "fill-rule": "evenodd"
  },
  null,
  -1
  /* HOISTED */
), Pf = [Nf];
function Ff(e, t) {
  return C(), k("svg", Vf, [].concat(Pf));
}
var zf = {
  render: Ff
}, _r = function() {
  return J({
    name: "IconPopup",
    component: zf
  })();
}, Hf = {
  viewBox: "0 0 16 16",
  xmlns: "http://www.w3.org/2000/svg"
}, Bf = /* @__PURE__ */ T(
  "path",
  {
    d: "M8 1a7 7 0 1 1 0 14A7 7 0 0 1 8 1Zm0 1a6 6 0 1 0 0 12A6 6 0 0 0 8 2Z"
  },
  null,
  -1
  /* HOISTED */
), jf = /* @__PURE__ */ T(
  "path",
  {
    d: "M3.757 12.243a6 6 0 1 0 8.486-8.486 6 6 0 0 0-8.486 8.486Z",
    fill: "#FFF"
  },
  null,
  -1
  /* HOISTED */
), Wf = [Bf, jf];
function Kf(e, t) {
  return C(), k("svg", Hf, [].concat(Wf));
}
var qf = {
  render: Kf
}, xa = function() {
  return J({
    name: "IconRadio",
    component: qf
  })();
}, Gf = {
  viewBox: "0 0 16 16",
  xmlns: "http://www.w3.org/2000/svg"
}, Uf = /* @__PURE__ */ T(
  "path",
  {
    d: "M3.05 12.95a7 7 0 1 1 9.9-9.9 7 7 0 0 1-9.9 9.9Z"
  },
  null,
  -1
  /* HOISTED */
), Zf = /* @__PURE__ */ T(
  "circle",
  {
    fill: "#FFF",
    cx: "8",
    cy: "8",
    r: "3"
  },
  null,
  -1
  /* HOISTED */
), Yf = [Uf, Zf];
function Xf(e, t) {
  return C(), k("svg", Gf, [].concat(Yf));
}
var Qf = {
  render: Xf
}, Da = function() {
  return J({
    name: "IconRadioselected",
    component: Qf
  })();
}, Jf = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 16 16",
  style: {
    "enable-background": "new 0 0 16 16"
  },
  "xml:space": "preserve"
}, eh = /* @__PURE__ */ T(
  "rect",
  {
    style: {
      fill: "none"
    }
  },
  null,
  -1
  /* HOISTED */
), th = /* @__PURE__ */ T(
  "path",
  {
    class: "search_svg__st1",
    d: "M7.22 1.67c3.04 0 5.5 2.46 5.5 5.5 0 1.33-.47 2.55-1.25 3.49l2.73 2.69c.19.19.19.51 0 .7s-.51.19-.7 0l-2.73-2.68c-.96.81-2.19 1.3-3.54 1.3-3.04 0-5.5-2.46-5.5-5.5s2.46-5.5 5.49-5.5zm0 1.01a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9z"
  },
  null,
  -1
  /* HOISTED */
), nh = [eh, th];
function rh(e, t) {
  return C(), k("svg", Jf, [].concat(nh));
}
var oh = {
  render: rh
}, fi = function() {
  return J({
    name: "IconSearch",
    component: oh
  })();
}, ih = {
  viewBox: "0 0 16 16",
  xmlns: "http://www.w3.org/2000/svg"
}, lh = /* @__PURE__ */ T(
  "path",
  {
    d: "M8.87 1.19c.55 0 1.05.289 1.34.789l.07.14.41.97.22.12 1.06-.12c.46-.06.93.1 1.27.44l.11.131.1.139.9 1.55c.27.471.27 1.04-.01 1.54l-.09.14-.64.85v.23l.64.85c.28.38.37.861.25 1.33l-.05.15-.08.16-.9 1.551c-.27.479-.78.76-1.35.76l-.15-.01-1.06-.13-.22.13-.41.97c-.19.429-.56.75-1.03.88l-.16.03-.17.019h-1.8c-.55 0-1.05-.29-1.34-.79l-.07-.14-.42-.969-.21-.13-1.06.13a1.53 1.53 0 0 1-1.27-.441l-.11-.129-.1-.14-.9-1.551c-.27-.47-.27-1.04.01-1.54l.09-.14.64-.85v-.23l-.64-.85c-.28-.379-.37-.86-.25-1.33l.05-.15.08-.16.89-1.55c.28-.48.79-.759 1.36-.759l.15.01 1.06.119.21-.12.42-.97c.19-.43.56-.75 1.03-.879l.16-.031.18-.02h1.79ZM6.63 2.51a.53.53 0 0 1 .4-.31l.1-.01h1.74c.19 0 .37.1.46.269l.04.08.47 1.1c.04.101.12.181.21.24l.5.281c.1.059.2.08.31.069l1.23-.149c.18-.021.35.049.47.19l.05.08.88 1.5c.09.16.09.359 0 .52l-.06.08-.72.96c-.07.09-.1.19-.1.299v.57c0 .11.03.221.1.301l.74.979c.11.15.13.341.07.5l-.04.091-.87 1.5c-.1.159-.27.26-.46.26h-.09l-1.2-.15a.486.486 0 0 0-.31.07l-.5.28c-.09.06-.17.14-.21.24l-.48 1.129a.532.532 0 0 1-.4.31l-.1.01H7.12c-.19 0-.37-.1-.46-.27l-.04-.08-.47-1.1a.618.618 0 0 0-.21-.24l-.5-.279c-.1-.06-.2-.08-.31-.07l-1.23.15a.523.523 0 0 1-.47-.191l-.05-.08-.88-1.5a.534.534 0 0 1 0-.52l.06-.08.72-.959c.06-.08.1-.191.1-.3v-.571c0-.11-.04-.209-.1-.299l-.74-.98a.532.532 0 0 1-.07-.5l.04-.09.87-1.5c.1-.16.27-.26.46-.26h.09l1.2.149c.11.011.21-.01.31-.069l.5-.281a.592.592 0 0 0 .21-.24l.48-1.13Zm1.4 2.869a2.616 2.616 0 1 1 .008 5.233 2.616 2.616 0 0 1-.008-5.233ZM6.42 8c0-.9.72-1.621 1.61-1.621.89 0 1.62.72 1.62 1.621 0 .889-.73 1.61-1.62 1.61-.89 0-1.61-.721-1.61-1.61Z",
    "clip-rule": "evenodd",
    "fill-rule": "evenodd"
  },
  null,
  -1
  /* HOISTED */
), ah = [lh];
function sh(e, t) {
  return C(), k("svg", ih, [].concat(ah));
}
var dh = {
  render: sh
}, uh = function() {
  return J({
    name: "IconSetting",
    component: dh
  })();
}, ch = {
  "data-name": "图层 1",
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 16 16"
}, fh = /* @__PURE__ */ T(
  "path",
  {
    "data-name": "路径",
    d: "M8 1C4.13 1 1 4.13 1 8s3.13 7 7 7 7-3.14 7-7-3.14-7-7-7Z",
    style: {
      "fill-rule": "evenodd",
      fill: "var(--tv-color-success-icon)"
    }
  },
  null,
  -1
  /* HOISTED */
), hh = /* @__PURE__ */ T(
  "path",
  {
    "data-name": "形状结合",
    d: "M10.38 5.97c.18-.16.46-.16.63 0a.5.5 0 0 1 0 .65L7.73 9.9c-.18.17-.4.26-.63.26s-.46-.09-.65-.26L4.97 8.42a.487.487 0 0 1 0-.64c.18-.16.46-.16.64 0l1.48 1.48 3.28-3.28Z",
    style: {
      fill: "#fff",
      "fill-rule": "evenodd"
    }
  },
  null,
  -1
  /* HOISTED */
), ph = [fh, hh];
function vh(e, t) {
  return C(), k("svg", ch, [].concat(ph));
}
var gh = {
  render: vh
}, Aa = function() {
  return J({
    name: "IconSuccess",
    component: gh
  })();
}, mh = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 16 16",
  style: {
    "enable-background": "new 0 0 16 16"
  },
  "xml:space": "preserve"
}, yh = /* @__PURE__ */ T(
  "rect",
  {
    style: {
      fill: "none"
    }
  },
  null,
  -1
  /* HOISTED */
), bh = /* @__PURE__ */ T(
  "path",
  {
    class: "triangle-down_svg__st1",
    d: "M3.16 5.36a.61.61 0 0 1 .79-.07l.09.07L8 9.32l3.96-3.96a.61.61 0 0 1 .79-.07l.09.07c.22.22.24.55.07.79l-.07.09-4.4 4.4a.61.61 0 0 1-.79.07l-.09-.07-4.4-4.4a.628.628 0 0 1 0-.88z"
  },
  null,
  -1
  /* HOISTED */
), Ch = [yh, bh];
function wh(e, t) {
  return C(), k("svg", mh, [].concat(Ch));
}
var Sh = {
  render: wh
}, $h = function() {
  return J({
    name: "IconTriangleDown",
    component: Sh
  })();
}, kh = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 126 151",
  "xml:space": "preserve"
}, Th = /* @__PURE__ */ T(
  "path",
  {
    d: "M112.524 12.653 75.041 62.736l-.023 74.905 12.502 12.484V62.736l37.507-50.083V.193H.002v12.46L37.51 62.736v62.42l12.502 12.485V62.736L12.505 12.653z"
  },
  null,
  -1
  /* HOISTED */
), _h = [Th];
function Ih(e, t) {
  return C(), k("svg", kh, [].concat(_h));
}
var Eh = {
  render: Ih
}, Oh = function() {
  return J({
    name: "IconUnfilter",
    component: Eh
  })();
}, Mh = {
  "data-name": "图层 1",
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 16 16"
}, xh = /* @__PURE__ */ T(
  "path",
  {
    "data-name": "三角形",
    d: "m8.84 1.5 6.04 11.13c.25.45.07 1.02-.39 1.26-.14.08-.29.12-.45.12H1.95c-.53 0-.95-.42-.95-.94 0-.16.03-.31.11-.44L7.15 1.5c.25-.46.83-.63 1.29-.38.17.08.31.22.4.38Z",
    style: {
      "fill-rule": "evenodd",
      fill: "var(--tv-color-warn-icon)"
    }
  },
  null,
  -1
  /* HOISTED */
), Dh = /* @__PURE__ */ T(
  "path",
  {
    "data-name": "形状结合",
    d: "M8 12.01a.749.749 0 1 1 0-1.5c.42 0 .75.33.75.75s-.34.75-.75.75Zm0-7c.28 0 .5.22.5.5v3.5c0 .28-.22.5-.5.5s-.5-.22-.5-.5v-3.5c0-.28.22-.5.5-.5Z",
    style: {
      fill: "#fff",
      "fill-rule": "evenodd"
    }
  },
  null,
  -1
  /* HOISTED */
), Ah = [xh, Dh];
function Lh(e, t) {
  return C(), k("svg", Mh, [].concat(Ah));
}
var Rh = {
  render: Lh
}, Vh = function() {
  return J({
    name: "IconWarningTriangle",
    component: Rh
  })();
}, Nh = {
  "data-name": "图层 1",
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 16 16"
}, Ph = /* @__PURE__ */ T(
  "path",
  {
    "data-name": "三角形",
    d: "m8.84 1.5 6.04 11.13c.25.45.07 1.02-.39 1.26-.14.08-.29.12-.45.12H1.95c-.53 0-.95-.42-.95-.94 0-.16.03-.31.11-.44L7.15 1.5c.25-.46.83-.63 1.29-.38.17.08.31.22.4.38Z",
    style: {
      "fill-rule": "evenodd",
      fill: "var(--tv-color-warn-icon)"
    }
  },
  null,
  -1
  /* HOISTED */
), Fh = /* @__PURE__ */ T(
  "path",
  {
    "data-name": "形状结合",
    d: "M8 12.01a.749.749 0 1 1 0-1.5c.42 0 .75.33.75.75s-.34.75-.75.75Zm0-7c.28 0 .5.22.5.5v3.5c0 .28-.22.5-.5.5s-.5-.22-.5-.5v-3.5c0-.28.22-.5.5-.5Z",
    style: {
      fill: "#fff",
      "fill-rule": "evenodd"
    }
  },
  null,
  -1
  /* HOISTED */
), zh = [Ph, Fh];
function Hh(e, t) {
  return C(), k("svg", Nh, [].concat(zh));
}
var Bh = {
  render: Hh
}, La = function() {
  return J({
    name: "IconWarning",
    component: Bh
  })();
}, jh = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 16 16",
  style: {
    "enable-background": "new 0 0 16 16"
  },
  "xml:space": "preserve"
}, Wh = /* @__PURE__ */ T(
  "path",
  {
    style: {
      fill: "none"
    },
    d: "M16 0v16H0V0z"
  },
  null,
  -1
  /* HOISTED */
), Kh = /* @__PURE__ */ T(
  "path",
  {
    class: "yes_svg__st1",
    d: "M12.37 4.38a.601.601 0 0 1 .95.73l-.07.09-5.99 6.43a.61.61 0 0 1-.78.09l-.08-.08-3.63-3.59a.589.589 0 0 1-.01-.84c.21-.21.53-.24.76-.08l.09.07 3.2 3.15 5.56-5.97z"
  },
  null,
  -1
  /* HOISTED */
), qh = [Wh, Kh];
function Gh(e, t) {
  return C(), k("svg", jh, [].concat(qh));
}
var Uh = {
  render: Gh
}, Zh = function() {
  return J({
    name: "IconYes",
    component: Uh
  })();
}, Yh = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 16 16",
  style: {
    "enable-background": "new 0 0 16 16"
  },
  "xml:space": "preserve"
}, Xh = /* @__PURE__ */ T(
  "rect",
  {
    style: {
      fill: "none"
    }
  },
  null,
  -1
  /* HOISTED */
), Qh = /* @__PURE__ */ T(
  "path",
  {
    d: "M11.5 0h-7C2 0 0 2 0 4.5v7C0 14 2 16 4.5 16h7c2.5 0 4.5-2 4.5-4.5v-7C16 2 14 0 11.5 0zM15 11.5c0 1.9-1.6 3.5-3.5 3.5h-7C2.6 15 1 13.4 1 11.5v-7C1 2.6 2.6 1 4.5 1h7C13.4 1 15 2.6 15 4.5v7zM11 8c0 .3-.2.5-.5.5h-5c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h5c.3 0 .5.2.5.5z",
    style: {
      "fill-rule": "evenodd",
      "clip-rule": "evenodd"
    }
  },
  null,
  -1
  /* HOISTED */
), Jh = [Xh, Qh];
function ep(e, t) {
  return C(), k("svg", Yh, [].concat(Jh));
}
var tp = {
  render: ep
}, Ra = function() {
  return J({
    name: "IconExpand",
    component: tp
  })();
}, np = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 16 16",
  style: {
    "enable-background": "new 0 0 16 16"
  },
  "xml:space": "preserve"
}, rp = /* @__PURE__ */ T(
  "rect",
  {
    style: {
      fill: "none"
    }
  },
  null,
  -1
  /* HOISTED */
), op = /* @__PURE__ */ T(
  "path",
  {
    d: "M11.5 0h-7C2 0 0 2 0 4.5v7C0 14 2 16 4.5 16h7c2.5 0 4.5-2 4.5-4.5v-7C16 2 14 0 11.5 0zM15 11.5c0 1.9-1.6 3.5-3.5 3.5h-7C2.6 15 1 13.4 1 11.5v-7C1 2.6 2.6 1 4.5 1h7C13.4 1 15 2.6 15 4.5v7zM11 8c0 .3-.2.5-.5.5h-2v2c0 .3-.2.5-.5.5s-.5-.2-.5-.5v-2h-2c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h2v-2c0-.3.2-.5.5-.5s.5.2.5.5v2h2c.3 0 .5.2.5.5z",
    style: {
      "fill-rule": "evenodd",
      "clip-rule": "evenodd"
    }
  },
  null,
  -1
  /* HOISTED */
), ip = [rp, op];
function lp(e, t) {
  return C(), k("svg", np, [].concat(ip));
}
var ap = {
  render: lp
}, Va = function() {
  return J({
    name: "IconPutAway",
    component: ap
  })();
}, sp = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 16 16",
  style: {
    "enable-background": "new 0 0 16 16"
  },
  "xml:space": "preserve"
}, dp = /* @__PURE__ */ T(
  "rect",
  {
    style: {
      fill: "none"
    }
  },
  null,
  -1
  /* HOISTED */
), up = /* @__PURE__ */ T(
  "path",
  {
    d: "M8 1.5C4.4 1.5 1.5 4.4 1.5 8s2.9 6.5 6.5 6.5 6.5-2.9 6.5-6.5S11.6 1.5 8 1.5zm0 12C5 13.5 2.5 11 2.5 8S5 2.5 8 2.5 13.5 5 13.5 8 11 13.5 8 13.5zM12 8c0 .3-.2.5-.5.5h-3v3c0 .3-.2.5-.5.5s-.5-.2-.5-.5v-3h-3c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h3v-3c0-.3.2-.5.5-.5s.5.2.5.5v3h3c.3 0 .5.2.5.5z",
    style: {
      "fill-rule": "evenodd",
      "clip-rule": "evenodd"
    }
  },
  null,
  -1
  /* HOISTED */
), cp = [dp, up];
function fp(e, t) {
  return C(), k("svg", sp, [].concat(cp));
}
var hp = {
  render: fp
}, Na = function() {
  return J({
    name: "IconAddCircle",
    component: hp
  })();
}, pp = {
  viewBox: "0 0 16 16",
  xmlns: "http://www.w3.org/2000/svg"
}, vp = /* @__PURE__ */ T(
  "path",
  {
    d: "M8.49 10.45c-.27.27-.72.27-.99 0l-4.1-4.1c-.2-.2-.2-.51 0-.71.19-.19.51-.19.71 0L8 9.53l3.88-3.89c.18-.17.45-.19.64-.06l.07.06c.2.2.2.51 0 .71l-4.1 4.1Z"
  },
  null,
  -1
  /* HOISTED */
), gp = [vp];
function mp(e, t) {
  return C(), k("svg", pp, [].concat(gp));
}
var yp = {
  render: mp
}, Hn = function() {
  return J({
    name: "IconDownWard",
    component: yp
  })();
}, bp = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 16 16",
  style: {
    "enable-background": "new 0 0 16 16"
  },
  "xml:space": "preserve"
}, Cp = /* @__PURE__ */ T(
  "path",
  {
    d: "m5.84 8.78-.09-.1a1.06 1.06 0 0 1 .09-1.46L9.6 3.65l.07-.06c.21-.13.49-.12.67.06.21.2.21.51 0 .71L6.58 7.93l-.02.03c-.02.04-.01.08.02.11l3.76 3.57.06.07c.14.19.12.46-.06.64-.21.2-.54.2-.74 0L5.84 8.78z"
  },
  null,
  -1
  /* HOISTED */
), wp = [Cp];
function Sp(e, t) {
  return C(), k("svg", bp, [].concat(wp));
}
var $p = {
  render: Sp
}, kp = function() {
  return J({
    name: "IconLeftWardArrow",
    component: $p
  })();
}, Tp = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 16 16",
  style: {
    "enable-background": "new 0 0 16 16"
  },
  "xml:space": "preserve"
}, _p = /* @__PURE__ */ T(
  "rect",
  {
    style: {
      fill: "none"
    }
  },
  null,
  -1
  /* HOISTED */
), Ip = /* @__PURE__ */ T(
  "path",
  {
    class: "sort-triangle_svg__st1",
    d: "m8 1.26.15.01c.18.03.36.1.52.23l.05.04 3.85 4.18.07.1c.28.4.22.95-.16 1.26l-.1.07c-.17.11-.36.17-.57.17H4.19l-.12-.01c-.5-.06-.88-.46-.88-.96l.01-.12c.02-.19.11-.38.24-.52l3.81-4.15c.2-.18.47-.3.75-.3zm.01 1.01h-.02L4.24 6.34h7.52L8.02 2.28h.01l-.02-.01zm3.8 5.92c.56 0 .99.44.99.97 0 .23-.08.46-.25.64l-3.79 4.13c-.36.4-.99.44-1.41.08l-.05-.02-3.86-4.2a.946.946 0 0 1 .08-1.36c.18-.16.42-.24.67-.24h7.62zm-.05 1H4.24l3.75 4.07h.02l3.75-4.07z"
  },
  null,
  -1
  /* HOISTED */
), Ep = [_p, Ip];
function Op(e, t) {
  return C(), k("svg", Tp, [].concat(Ep));
}
var Mp = {
  render: Op
}, xp = function() {
  return J({
    name: "IconSortTriangle",
    component: Mp
  })();
}, Dp = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 16 16",
  style: {
    "enable-background": "new 0 0 16 16"
  },
  "xml:space": "preserve"
}, Ap = /* @__PURE__ */ T(
  "rect",
  {
    style: {
      fill: "none"
    }
  },
  null,
  -1
  /* HOISTED */
), Lp = /* @__PURE__ */ T(
  "path",
  {
    class: "sort-triangle-ascending_svg__st1",
    d: "m8 1.26.15.01c.18.03.36.1.52.23l.05.04 3.85 4.18.07.1c.28.4.22.95-.16 1.26l-.1.07c-.17.11-.36.17-.57.17H4.19l-.12-.01c-.5-.06-.88-.46-.88-.96l.01-.12c.02-.19.11-.38.24-.52l3.81-4.15c.2-.18.47-.3.75-.3zm3.81 6.93c.56 0 .99.44.99.97 0 .23-.08.46-.25.64l-3.79 4.13c-.36.4-.99.44-1.41.08l-.05-.02-3.86-4.2a.946.946 0 0 1 .08-1.36c.18-.16.42-.24.67-.24h7.62zm-.05 1H4.24l3.75 4.07h.02l3.75-4.07z"
  },
  null,
  -1
  /* HOISTED */
), Rp = [Ap, Lp];
function Vp(e, t) {
  return C(), k("svg", Dp, [].concat(Rp));
}
var Np = {
  render: Vp
}, Pp = function() {
  return J({
    name: "IconSortTriangleAscending",
    component: Np
  })();
}, Fp = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 16 16",
  style: {
    "enable-background": "new 0 0 16 16"
  },
  "xml:space": "preserve"
}, zp = /* @__PURE__ */ T(
  "rect",
  {
    style: {
      fill: "none"
    }
  },
  null,
  -1
  /* HOISTED */
), Hp = /* @__PURE__ */ T(
  "path",
  {
    class: "sort-triangle-descending_svg__st1",
    d: "m8 1.26.15.01c.18.03.36.1.52.23l.05.04 3.85 4.18.07.1c.28.4.22.95-.16 1.26l-.1.07c-.17.11-.36.17-.57.17H4.19l-.12-.01c-.5-.06-.88-.46-.88-.96l.01-.12c.02-.19.11-.38.24-.52l3.81-4.15c.2-.18.47-.3.75-.3zm.01 1.01h-.02L4.24 6.34h7.52L8.02 2.28h.01l-.02-.01zm3.8 5.92c.56 0 .99.44.99.97 0 .23-.08.46-.25.64l-3.79 4.13c-.36.4-.99.44-1.41.08l-.05-.02-3.86-4.2a.946.946 0 0 1 .08-1.36c.18-.16.42-.24.67-.24h7.62z"
  },
  null,
  -1
  /* HOISTED */
), Bp = [zp, Hp];
function jp(e, t) {
  return C(), k("svg", Fp, [].concat(Bp));
}
var Wp = {
  render: jp
}, Kp = function() {
  return J({
    name: "IconSortTriangleDescending",
    component: Wp
  })();
}, qp = {
  viewBox: "0 0 16 16",
  xmlns: "http://www.w3.org/2000/svg"
}, Gp = /* @__PURE__ */ T(
  "path",
  {
    d: "M16 0v16H0V0h16Z",
    fill: "none"
  },
  null,
  -1
  /* HOISTED */
), Up = /* @__PURE__ */ T(
  "path",
  {
    d: "M6.98 10.15a.828.828 0 0 1-.43-.18l-.09-.07-1.48-1.49a.435.435 0 0 1 0-.63.43.43 0 0 1 .56-.06l.07.06 1.48 1.48 3.29-3.28c.17-.18.46-.18.63 0 .16.15.18.39.06.56l-.06.07L7.73 9.9c-.14.14-.32.23-.52.25l-.12.01-.11-.01Z",
    "fill-rule": "evenodd"
  },
  null,
  -1
  /* HOISTED */
), Zp = [Gp, Up];
function Yp(e, t) {
  return C(), k("svg", qp, [].concat(Zp));
}
var Xp = {
  render: Yp
}, Pa = J({
  name: "IconFinish",
  component: Xp
}), Qp = {
  width: "16",
  height: "16",
  viewBox: "0 0 16 16",
  fill: "none",
  xmlns: "http://www.w3.org/2000/svg"
}, Jp = /* @__PURE__ */ T(
  "defs",
  null,
  [/* @__PURE__ */ T("clipPath", {
    id: "minscreen-right_svg__a"
  }, [/* @__PURE__ */ T("path", {
    fill: "#fff",
    "fill-opacity": "0",
    d: "M0 0h16v16H0z"
  })])],
  -1
  /* HOISTED */
), ev = /* @__PURE__ */ T(
  "g",
  {
    "clip-path": "url(#minscreen-right_svg__a)"
  },
  [/* @__PURE__ */ T("path", {
    d: "M11.66 7.85c.27 0 .5-.21.5-.5 0-.27-.23-.5-.5-.5H9.84l2.5-2.51a.49.49 0 0 0 .06-.65c-.18-.19-.55-.25-.74-.06l-2.5 2.5V4.35c0-.24-.17-.44-.41-.5-.28 0-.59.23-.59.5V7c0 .5.4.9.9.9l2.6-.05Zm-8 4.49c.17.19.49.21.67.02l2.5-2.5v1.78c0 .24.17.44.42.5.27 0 .58-.23.58-.5V9c0-.5-.4-.91-.9-.91h-2.6c-.27 0-.5.23-.5.5 0 .29.23.5.5.5h1.82l-2.5 2.51c-.16.2-.15.56.01.74ZM4 2.5h8c.83 0 1.5.66 1.5 1.5v8c0 .83-.67 1.5-1.5 1.5H4c-.84 0-1.5-.67-1.5-1.5V4c0-.84.66-1.5 1.5-1.5Zm0-1C2.61 1.5 1.5 2.61 1.5 4v8c0 1.38 1.11 2.5 2.5 2.5h8a2.5 2.5 0 0 0 2.5-2.5V4c0-1.39-1.12-2.5-2.5-2.5H4Z"
  })],
  -1
  /* HOISTED */
), tv = [Jp, ev];
function nv(e, t) {
  return C(), k("svg", Qp, [].concat(tv));
}
var rv = {
  render: nv
}, ov = function() {
  return J({
    name: "IconMinscreenRight",
    component: rv
  })();
}, iv = {
  viewBox: "0 0 96 96",
  xmlns: "http://www.w3.org/2000/svg"
}, lv = /* @__PURE__ */ Ct('<g fill="none" fill-rule="evenodd"><path d="M0 1h96v96H0z"></path><path d="M3 .5h90v90H3z"></path><path d="M18.3 29.3h61.406c.88 0 1.594.714 1.594 1.594v44.25a4.555 4.555 0 0 1-4.555 4.556h-53.89a4.555 4.555 0 0 1-4.555-4.555V29.3Z" fill="#EEE"></path><path d="M15.394 29.3H64.2v45.845a4.555 4.555 0 0 1-4.555 4.555h-41.29a4.555 4.555 0 0 1-4.555-4.555v-44.25c0-.881.714-1.595 1.594-1.595Z" fill="#FFF"></path><path d="M64.2 29.3H14.74c-.784 0-1.514.404-1.93 1.069L4.99 42.857a1.139 1.139 0 0 0 .966 1.743h45.865a4.555 4.555 0 0 0 3.824-2.08L64.2 29.3ZM64.2 29.3h16.832c.775 0 1.497.395 1.916 1.047l8.026 12.499a1.139 1.139 0 0 1-.959 1.754h-14.21a4.555 4.555 0 0 1-3.926-2.246L64.2 29.3Z" fill="#FFF"></path><path d="M3 .5h90v90H3z"></path><path d="M81.813 44.102V75.65a4.05 4.05 0 0 1-4.05 4.05H60.207v-.9h17.556a3.15 3.15 0 0 0 3.15-3.15V44.102h.9Z" fill="#818181" fill-rule="nonzero"></path><path d="M64.65 29.3v46.35a4.05 4.05 0 0 1-4.05 4.05H17.4a4.05 4.05 0 0 1-4.05-4.05V44.102h.9V75.65a3.15 3.15 0 0 0 3.15 3.15h43.2a3.15 3.15 0 0 0 3.15-3.15V30.2H15.06v-.9h49.59Z" fill="#818181" fill-rule="nonzero"></path><path d="M14.476 29.3a1.8 1.8 0 0 0-1.526.845L4.762 43.222a.9.9 0 0 0 .763 1.378h46.817a3.6 3.6 0 0 0 3.022-1.644L64.2 29.3H14.476Zm0 .9h48.07l-7.938 12.267a2.7 2.7 0 0 1-2.266 1.233H5.525l8.188-13.078a.9.9 0 0 1 .763-.422ZM81.293 29.3a1.8 1.8 0 0 1 1.514.827l8.403 13.087a.9.9 0 0 1-.757 1.386H75.259a3.6 3.6 0 0 1-3.103-1.775L64.2 29.3h17.093Zm0 .9h-15.52l7.159 12.169a2.7 2.7 0 0 0 2.327 1.331h15.194L82.05 30.614a.9.9 0 0 0-.757-.414Z" fill="#818181" fill-rule="nonzero"></path><g fill="#818181" fill-rule="nonzero"><path d="M48.9 10.85v6.3a.45.45 0 0 1-.9 0v-6.3a.45.45 0 1 1 .9 0ZM65.344 14.13l-3.15 5.455a.45.45 0 1 1-.78-.45l3.15-5.456a.45.45 0 0 1 .78.45ZM32.336 13.68l3.15 5.455a.45.45 0 1 1-.78.45l-3.15-5.456a.45.45 0 0 1 .78-.45Z"></path></g><g transform="translate(20.1 60.8)"><rect fill="#0067D1" width="14.4" height="4.5" rx="1.14"></rect><rect fill="#818181" y="8.1" width="10.8" height="1" rx=".399"></rect><rect fill="#818181" y="11.7" width="5.4" height="1" rx=".399"></rect></g></g>', 1), av = [lv];
function sv(e, t) {
  return C(), k("svg", iv, [].concat(av));
}
var dv = {
  render: sv
}, uv = function() {
  return J({
    name: "IconNoData",
    component: dv
  })();
}, cv = {
  width: "80",
  height: "80",
  viewBox: "0 0 80 80",
  fill: "none",
  xmlns: "http://www.w3.org/2000/svg"
}, fv = /* @__PURE__ */ Ct('<path fill="none" d="M0 0h80v80H0z"></path><path d="M12.5 24.87h57.18c2.1 0 3.82 1.71 3.82 3.82V70.1c0 2.08-1.69 3.77-3.77 3.77H16.26c-2.08 0-3.76-1.69-3.76-3.77V24.87Z" fill="var(--tv-color-no-data-gary-1)" fill-rule="evenodd"></path><path d="M8.81 25.37H56.5V70.1c0 2.08-1.69 3.77-3.77 3.77H11.26c-2.08 0-3.76-1.79-3.76-3.87V39.5h-7c0-.73 7.59-14.13 8.31-14.13Z" fill="var(--tv-color-no-data-gary-2)" fill-rule="evenodd"></path><path d="M56.29 25.37h13.8c.68 0 1.51-.13 1.85.47l6.77 12.13c.26.45.74 1.15.29 1.4-.15.08-.95 0-1.11 0H66.22c-1.42 0-2.71-.79-3.36-2.05l-6.57-11.95Z" fill="var(--tv-color-no-data-gary-2)" fill-rule="evenodd"></path><path d="M73.61 39.39v30.67c0 2.17-1.76 3.93-3.94 3.93H52.59v-.87h17.08c1.7 0 3.07-1.37 3.07-3.06V39.39h.87Z" fill="var(--tv-color-no-data-border)"></path><path d="M56.92 25v45.06a3.94 3.94 0 0 1-3.94 3.93H10.94A3.94 3.94 0 0 1 7 70.06V39.39h.88v30.67a3.06 3.06 0 0 0 3.06 3.06h42.04a3.06 3.06 0 0 0 3.06-3.06V25.87H10.67V25h46.25Z" fill="var(--tv-color-no-data-border)"></path><path d="M9.43 25c-.6 0-1.15.31-1.46.82L.13 38.64c-.26.42-.13.96.27 1.22.14.09.3.14.46.14h44.82c1.17 0 2.26-.61 2.9-1.62L57.04 25H9.43Zm.22 1h45.52l-7.52 11.81c-.47.74-1.28 1.19-2.14 1.19H1.17l7.75-12.6c.16-.25.43-.4.73-.4Z" fill="var(--tv-color-no-data-border)"></path><path d="M70.75 25c.56 0 1.08.3 1.39.8l7.72 12.72c.25.41.14.95-.25 1.21-.13.09-.28.14-.44.14H66.14c-1.17 0-2.25-.66-2.85-1.73L55.98 25h14.77Zm-.03 1H57.79l6.39 11.71c.43.8 1.22 1.29 2.08 1.29h12.63L71.4 26.39a.802.802 0 0 0-.68-.39Z" fill="var(--tv-color-no-data-border)"></path><rect x="13.5" y="56" rx="1.886" width="14" height="4" fill="var(--tv-color-no-data-brand)"></rect><path d="M23.56 63c.24 0 .44.22.44.5 0 .27-.2.5-.44.5h-9.63c-.24 0-.43-.23-.43-.5 0-.28.19-.5.43-.5h9.63Z" fill="var(--tv-color-no-data-border)"></path><rect x="13.5" y="66" rx=".5" width="5" height="1" fill="var(--tv-color-no-data-border)"></rect><path d="M40 6c.27 0 .5.19.5.44v6.16c0 .25-.23.44-.5.44-.28 0-.51-.19-.51-.44V6.44c0-.25.23-.44.51-.44ZM56.55 8.64c.24.14.34.42.21.63l-3.08 5.34c-.12.21-.42.27-.66.13-.24-.14-.33-.42-.21-.63l3.08-5.34c.12-.21.42-.27.66-.13ZM23.44 8.64c.24-.14.54-.08.66.13l3.08 5.34c.12.21.03.49-.21.63s-.54.08-.66-.13l-3.08-5.34c-.13-.21-.03-.49.21-.63Z" fill="var(--tv-color-no-data-border)"></path>', 12), hv = [fv];
function pv(e, t) {
  return C(), k("svg", cv, [].concat(hv));
}
var vv = {
  render: pv
}, gv = function() {
  return J({
    name: "IconGridNoData",
    component: vv
  })();
}, mv = {
  viewBox: "0 0 96 96",
  xmlns: "http://www.w3.org/2000/svg"
}, yv = /* @__PURE__ */ Ct('<g fill="none" fill-rule="evenodd"><path d="M0 0h96v96H0z"></path><path d="m13.076 37.224 31.573-22.36a4.555 4.555 0 0 1 5.265 0l31.574 22.36a4.555 4.555 0 0 1 1.922 3.718V80.36a3.417 3.417 0 0 1-3.416 3.417H14.57a3.417 3.417 0 0 1-3.417-3.417V40.942c0-1.478.717-2.864 1.923-3.718Z" fill="#FFF"></path><path d="m49.612 14.65 32.114 22.743a3.98 3.98 0 0 1 1.684 3.247v40.146a3 3 0 0 1-3.01 2.99H14.164a3 3 0 0 1-3.01-2.99V40.64a3.98 3.98 0 0 1 1.683-3.247L44.951 14.65a4.036 4.036 0 0 1 4.661 0Zm-4.078.812L13.42 38.205a2.984 2.984 0 0 0-1.263 2.435v40.146a2 2 0 0 0 2.007 1.994H80.4a2 2 0 0 0 2.007-1.994V40.64c0-.967-.47-1.874-1.263-2.435L49.03 15.462a3.027 3.027 0 0 0-3.496 0Z" fill="#818181" fill-rule="nonzero"></path><path d="M44.638 56.15a4.541 4.541 0 0 1 5.096-.13l.192.13L83.41 80.548a.628.628 0 0 1-.998.508L49.338 56.958a3.532 3.532 0 0 0-3.935-.12l-.178.12-33.074 24.098a.628.628 0 0 1-.998-.508L44.638 56.15Z" fill="#818181" fill-rule="nonzero"></path><path d="M83.41 40.912 52.3 59.062l29.3 21.399a1.139 1.139 0 0 0 1.81-.92v-38.63Z" fill="#EEE"></path><path d="M83.41 40.912v38.9c0 .213-.068.42-.195.591a1.008 1.008 0 0 1-1.403.213L52.3 59.063l31.11-18.151Zm-1.003 1.74L54.12 59.157l28.286 20.657v-37.16Z" fill="#818181" fill-rule="nonzero"></path><path d="m11.153 40.912 31.11 18.15-29.3 21.399a1.139 1.139 0 0 1-1.81-.92v-38.63Z" fill="#EEE"></path><path d="M11.153 40.912v38.9c0 .213.068.42.195.591.328.444.957.539 1.403.213l29.513-21.553-31.11-18.151Zm1.004 1.74 28.285 16.504-28.285 20.657v-37.16Z" fill="#818181" fill-rule="nonzero"></path><g fill-rule="nonzero"><path d="M82.964 52.173c-5.533 0-10.035 4.472-10.035 9.968 0 5.497 4.502 9.969 10.035 9.969C88.498 72.11 93 67.638 93 62.14c0-5.496-4.502-9.968-10.036-9.968" fill="#0067D1"></path><path d="M82.964 56.908a.75.75 0 0 1 .753.747v5.856a.75.75 0 0 1-.753.748.75.75 0 0 1-.752-.748v-5.856a.75.75 0 0 1 .752-.747M82.964 67.624a1 1 0 0 1-1.003-.997 1 1 0 0 1 1.003-.997 1 1 0 0 1 1.004.997 1 1 0 0 1-1.004.997" fill="#FFF"></path></g><g fill="#818181"><path d="M17.064 20.162h-1v7.45h1zM6.982 24.117a.464.464 0 0 0 0 .658l4.64 4.61a.47.47 0 0 0 .664 0 .464.464 0 0 0 0-.658l-4.641-4.61a.47.47 0 0 0-.663 0ZM3 33.666c0 .257.208.466.466.466h6.57a.466.466 0 0 0 0-.932h-6.57a.466.466 0 0 0-.466.466Z"></path></g></g>', 1), bv = [yv];
function Cv(e, t) {
  return C(), k("svg", mv, [].concat(bv));
}
var wv = {
  render: Cv
}, Sv = function() {
  return J({
    name: "IconNoNews",
    component: wv
  })();
}, $v = {
  viewBox: "0 0 96 96",
  xmlns: "http://www.w3.org/2000/svg"
}, kv = /* @__PURE__ */ Ct('<g fill="none" fill-rule="evenodd"><path d="M0 0h96v96H0z"></path><g transform="translate(3 17)"><rect fill="#FFF" width="81.173" height="61.765" rx="4.218"></rect><path d="M77.432 0c2.066 0 3.741 1.656 3.741 3.698v54.368c0 2.043-1.675 3.699-3.74 3.699H3.74C1.675 61.765 0 60.109 0 58.066V3.698C0 1.656 1.675 0 3.74 0h73.692Zm0 1H3.741C2.233 1 1.01 2.208 1.01 3.698v54.368c0 1.49 1.222 2.7 2.73 2.7h73.691c1.508 0 2.73-1.21 2.73-2.7V3.698c0-1.49-1.222-2.698-2.73-2.698Z" fill="#8F8F8F" fill-rule="nonzero"></path><path d="M4.218 0h72.627a4.218 4.218 0 0 1 4.218 4.218v9.266H0V4.218A4.218 4.218 0 0 1 4.218 0Z" fill="#EEE"></path><path d="M77.322 0c2.066 0 3.741 1.656 3.741 3.698v9.786H0V3.698C0 1.656 1.675 0 3.74 0h73.582Zm0 1H3.741C2.233 1 1.01 2.208 1.01 3.698v8.786h79.041V3.698c0-1.454-1.163-2.64-2.62-2.696L77.322 1Z" fill="#818181" fill-rule="nonzero"></path><path d="M74.504 8.464c.89 0 1.61-.71 1.61-1.587s-.72-1.587-1.61-1.587c-.89 0-1.61.71-1.61 1.587 0 .876.72 1.587 1.61 1.587Zm-5.37 0c.89 0 1.612-.71 1.612-1.587s-.722-1.587-1.611-1.587c-.89 0-1.61.71-1.61 1.587 0 .876.72 1.587 1.61 1.587Zm-5.368 0c.89 0 1.61-.71 1.61-1.587s-.72-1.587-1.61-1.587c-.89 0-1.61.71-1.61 1.587 0 .876.72 1.587 1.61 1.587Z" fill="#818181"></path></g><g fill-rule="nonzero"><path d="M82.9 49.622c-5.569 0-10.1 4.48-10.1 9.986s4.531 9.985 10.1 9.985c5.57 0 10.1-4.48 10.1-9.985 0-5.507-4.53-9.986-10.1-9.986" fill="#0067D1"></path><path d="M82.9 54.365c.418 0 .758.335.758.749v5.866c0 .413-.34.749-.758.749a.754.754 0 0 1-.757-.75v-5.865c0-.414.339-.75.757-.75M82.9 65.1c-.557 0-1.01-.447-1.01-.999s.453-.998 1.01-.998c.558 0 1.01.446 1.01.998s-.452.999-1.01.999" fill="#FFF"></path></g><path d="M43.137 46.478c2.134 0 3.864 1.61 3.864 3.596v1.766h.11c1.27 0 2.308.925 2.38 2.09l.005.13v4.993c0 1.225-1.068 2.219-2.385 2.219h-7.949c-1.317 0-2.385-.994-2.385-2.22V54.06c0-1.225 1.069-2.22 2.385-2.22h.11v-1.766c0-1.933 1.638-3.509 3.693-3.593l.172-.003Zm-3.325 6.288h-.704c-.667 0-1.208.51-1.208 1.138v5.12c0 .629.54 1.138 1.208 1.138h8.057c.667 0 1.209-.51 1.209-1.138v-5.12c0-.628-.542-1.138-1.209-1.138h-7.353Zm3.138 1.849a.56.56 0 0 1 .556.48l.005.075.001 1.478a.921.921 0 0 1 .373.74.93.93 0 0 1-.935.925.93.93 0 0 1-.936-.925c0-.303.147-.571.374-.74V55.17c0-.307.252-.555.562-.555Zm.187-7.028c-1.446 0-2.619 1.065-2.619 2.379v1.69h5.237v-1.69c0-1.27-1.095-2.307-2.474-2.375l-.144-.004Z" fill="#818181" fill-rule="nonzero"></path></g>', 1), Tv = [kv];
function _v(e, t) {
  return C(), k("svg", $v, [].concat(Tv));
}
var Iv = {
  render: _v
}, Ev = function() {
  return J({
    name: "IconNoPerm",
    component: Iv
  })();
}, Ov = {
  viewBox: "0 0 96 96",
  xmlns: "http://www.w3.org/2000/svg"
}, Mv = /* @__PURE__ */ Ct('<g fill="none" fill-rule="evenodd"><path d="M0 0h96v96H0z"></path><path d="M59.584 11h8.796a5.062 5.062 0 0 1 5.062 5.062v9.875c0 .698-.567 1.265-1.266 1.265H59.584V11Z" fill="#EEE"></path><path d="M68.822 11a4.624 4.624 0 0 1 4.62 4.63v10.415c0 .639-.517 1.157-1.155 1.157H59.584V11h9.238Zm0 1.043h-8.197v14.116h11.662a.115.115 0 0 0 .114-.114V15.629a3.583 3.583 0 0 0-3.579-3.586Z" fill="#818181" fill-rule="nonzero"></path><path d="M14.257 11h54.546l.31.988c-5.005 0-4.363 3.19-4.363 13.066V37.04a5.483 5.483 0 1 0 0 .007v40.221a5.483 5.483 0 0 1-5.484 5.483H14.257a5.483 5.483 0 0 1-5.483-5.483V16.483A5.483 5.483 0 0 1 14.257 11Z" fill="#FFF"></path><path d="m68.803 11 .31.988c-5.005 0-4.363 3.19-4.363 13.066v52.683a5.01 5.01 0 0 1-5.004 5.014H13.778a5.01 5.01 0 0 1-5.004-5.014V16.015A5.01 5.01 0 0 1 13.778 11h55.025Zm-55.025 1.043a3.968 3.968 0 0 0-3.964 3.972v61.722a3.968 3.968 0 0 0 3.964 3.972h45.968a3.968 3.968 0 0 0 3.963-3.972v-52.84c0-.784-.004-1.5-.013-2.654-.006-.781-.01-1.48-.01-2.106v-.408c.005-3.379.121-4.57.546-5.829.263-.783.646-1.396 1.162-1.856l-51.616-.001Z" fill="#818181" fill-rule="nonzero"></path><path d="M60.002 82.751H10.33A7.33 7.33 0 0 1 3 75.422v-6.486c0-.466.378-.843.844-.843h50.381c.466 0 .844.377.844.843v8.561c0 1.886 1.277 4.226 4.006 4.226 1.714 0 .094 1.028.927 1.028Z" fill="#FFF"></path><path d="M54.299 68.093a.77.77 0 0 1 .77.771v8.633c0 1.886 1.277 4.226 4.006 4.226 1.714 0 .094 1.028.927 1.028H10.314C6.274 82.751 3 79.47 3 75.422v-6.558a.77.77 0 0 1 .77-.771h50.529Zm-.27 1.042H4.04v6.287c0 3.42 2.725 6.201 6.117 6.285l.157.002H55.97l-.033-.027c-1.173-.954-1.868-2.44-1.907-4.043l-.002-.142v-8.362Z" fill="#818181" fill-rule="nonzero"></path><path d="m81.398 74.93-2.891-2.897a.634.634 0 0 1 .894-.896l2.892 2.897a.634.634 0 0 1-.895.897Z" fill="#818181"></path><path d="M81.637 74.326a2.076 2.076 0 0 1 2.94 0l5.88 5.891a2.085 2.085 0 0 1 0 2.946 2.076 2.076 0 0 1-2.94 0l-5.88-5.892a2.085 2.085 0 0 1 0-2.945Z" fill="#FFF"></path><path d="M81.628 74.326a2.08 2.08 0 0 1 2.943.003l5.891 5.892a2.08 2.08 0 0 1 .004 2.942 2.08 2.08 0 0 1-2.943-.003l-5.892-5.892a2.08 2.08 0 0 1-.003-2.942Zm.736.736a1.04 1.04 0 0 0 .002 1.471l5.892 5.892a1.04 1.04 0 1 0 1.47-1.47l-5.892-5.891a1.04 1.04 0 0 0-1.472-.002Z" fill="#818181" fill-rule="nonzero"></path><path d="M69.578 46.265c8.023 0 14.55 6.54 14.55 14.581s-6.527 14.582-14.55 14.582-14.55-6.541-14.55-14.582c0-8.04 6.527-14.581 14.55-14.581Z" fill="#FFF"></path><path d="M69.578 46.265c8.023 0 14.55 6.54 14.55 14.581s-6.527 14.582-14.55 14.582-14.55-6.541-14.55-14.582c0-8.04 6.527-14.581 14.55-14.581Zm0 1.041c-7.45 0-13.511 6.075-13.511 13.54 0 7.466 6.062 13.54 13.51 13.54 7.45 0 13.512-6.074 13.512-13.54 0-7.465-6.062-13.54-13.511-13.54Z" fill="#818181" fill-rule="nonzero"></path><g fill="#818181"><path d="M78.435 35.48h1v7.785h-1zM88.876 39.613c.19.19.19.498 0 .688l-4.806 4.816a.485.485 0 1 1-.686-.688l4.806-4.816a.485.485 0 0 1 .686 0ZM93 49.59a.487.487 0 0 1-.487.486H85.72a.487.487 0 0 1 0-.973h6.794c.27 0 .487.218.487.487Z"></path></g><g fill-rule="nonzero"><path d="M37.009 32.603c-5.73 0-10.393 4.672-10.393 10.415 0 5.743 4.662 10.416 10.393 10.416 5.73 0 10.393-4.673 10.393-10.416s-4.663-10.415-10.393-10.415" fill="#0067D1"></path><path d="M37.009 37.55c.43 0 .78.35.78.781v6.118a.78.78 0 1 1-1.56 0v-6.118a.78.78 0 0 1 .78-.781M37.009 48.747a1.04 1.04 0 0 1-1.04-1.042 1.04 1.04 0 1 1 2.08 0 1.04 1.04 0 0 1-1.04 1.042" fill="#FFF"></path></g></g>', 1), xv = [Mv];
function Dv(e, t) {
  return C(), k("svg", Ov, [].concat(xv));
}
var Av = {
  render: Dv
}, Lv = function() {
  return J({
    name: "IconNoResult",
    component: Av
  })();
}, Rv = {
  viewBox: "0 0 120 120",
  xmlns: "http://www.w3.org/2000/svg"
}, Vv = /* @__PURE__ */ Ct('<g fill="none" fill-rule="evenodd"><path d="M0 0h120v120H0z"></path><g fill-rule="nonzero"><g transform="translate(4 21)"><rect fill="#FFF" width="102.819" height="78" rx="4.218"></rect><path d="M98.08 0c2.618 0 4.74 2.091 4.74 4.67v68.66c0 2.579-2.122 4.67-4.74 4.67H4.739C2.121 78 0 75.909 0 73.33V4.67C0 2.092 2.121 0 4.738 0h93.343Zm0 1.262H4.739c-1.91 0-3.457 1.526-3.457 3.409v68.658c0 1.883 1.548 3.409 3.457 3.409h93.343c1.91 0 3.458-1.526 3.458-3.409V4.671c0-1.883-1.549-3.409-3.458-3.409Z" fill="#8F8F8F"></path><path d="M4.218 0h94.244a4.218 4.218 0 0 1 4.218 4.218v12.81H0V4.219A4.218 4.218 0 0 1 4.218 0Z" fill="#EEE"></path><path d="M97.942 0c2.617 0 4.738 2.091 4.738 4.67V17.03H0V4.67C0 2.09 2.121 0 4.738 0h93.204Zm0 1.262H4.738c-1.91 0-3.457 1.526-3.457 3.409v11.095h100.118V4.671c0-1.837-1.473-3.334-3.318-3.406l-.14-.003Z" fill="#818181"></path><path d="M94.371 10.689c1.127 0 2.04-.898 2.04-2.004 0-1.107-.913-2.005-2.04-2.005-1.126 0-2.04.898-2.04 2.005 0 1.106.914 2.004 2.04 2.004Zm-6.8 0c1.127 0 2.04-.898 2.04-2.004 0-1.107-.913-2.005-2.04-2.005s-2.04.898-2.04 2.005c0 1.106.913 2.004 2.04 2.004Zm-6.8 0c1.126 0 2.04-.898 2.04-2.004 0-1.107-.914-2.005-2.04-2.005-1.128 0-2.041.898-2.041 2.005 0 1.106.913 2.004 2.04 2.004Z" fill="#818181"></path></g><path d="M105.207 62.196c-7.054 0-12.793 5.658-12.793 12.611 0 6.954 5.739 12.611 12.793 12.611 7.054 0 12.793-5.657 12.793-12.61 0-6.954-5.739-12.612-12.793-12.612" fill="#0067D1"></path><path d="M105.207 68.187c.53 0 .96.423.96.945v7.408c0 .522-.43.946-.96.946a.953.953 0 0 1-.96-.946v-7.408c0-.522.43-.945.96-.945M105.207 81.743a1.27 1.27 0 0 1-1.28-1.26 1.27 1.27 0 0 1 1.28-1.262c.706 0 1.28.564 1.28 1.261a1.27 1.27 0 0 1-1.28 1.261" fill="#FFF"></path><path d="M54.84 58.226c2.703 0 4.894 2.033 4.894 4.541v2.231h.14c1.608 0 2.924 1.168 3.016 2.639l.005.164v6.306c0 1.547-1.353 2.802-3.021 2.802H49.805c-1.668 0-3.02-1.255-3.02-2.802V67.8c0-1.547 1.353-2.802 3.02-2.802l.14-.001v-2.23c0-2.441 2.074-4.431 4.677-4.537l.218-.005Zm-4.212 7.941h-.891c-.845 0-1.53.644-1.53 1.437v6.467c0 .793.685 1.437 1.53 1.437h10.205c.846 0 1.531-.644 1.531-1.437v-6.467c0-.793-.686-1.437-1.53-1.437h-9.315Zm3.975 2.335c.36 0 .657.264.704.606l.007.095.001 1.867c.287.213.472.552.472.934 0 .645-.53 1.169-1.184 1.169a1.177 1.177 0 0 1-1.185-1.17c0-.381.186-.72.473-.934l.001-1.866c0-.387.318-.701.71-.701Zm.237-8.874c-1.832 0-3.317 1.344-3.317 3.003v2.134h6.633v-2.134c0-1.604-1.387-2.913-3.134-2.999l-.182-.004Z" fill="#818181"></path></g></g>', 1), Nv = [Vv];
function Pv(e, t) {
  return C(), k("svg", Rv, [].concat(Nv));
}
var Fv = {
  render: Pv
}, zv = function() {
  return J({
    name: "IconPageNoperm",
    component: Fv
  })();
}, Hv = {
  viewBox: "0 0 120 120",
  xmlns: "http://www.w3.org/2000/svg"
}, Bv = /* @__PURE__ */ Ct('<g fill="none" fill-rule="evenodd"><path d="M0 0h120v120H0z"></path><g fill-rule="nonzero" transform="translate(3 21)"><rect fill="#FFF" width="102.903" height="78.69" rx="4.218"></rect><path d="M98.16 0c2.62 0 4.743 2.11 4.743 4.712v69.266c0 2.603-2.123 4.712-4.742 4.712H4.742C2.123 78.69 0 76.58 0 73.978V4.712C0 2.11 2.123 0 4.742 0h93.419Zm0 1.274H4.743c-1.911 0-3.46 1.539-3.46 3.438v69.266c0 1.9 1.549 3.439 3.46 3.439h93.419c1.91 0 3.46-1.54 3.46-3.439V4.712c0-1.899-1.55-3.438-3.46-3.438Z" fill="#8F8F8F"></path><path d="M4.218 0h94.327a4.218 4.218 0 0 1 4.218 4.218v12.961H0V4.218A4.218 4.218 0 0 1 4.218 0Z" fill="#EEE"></path><path d="M98.021 0c2.62 0 4.742 2.11 4.742 4.712v12.467H0V4.712C0 2.11 2.123 0 4.742 0h93.28Zm0 1.274H4.742c-1.911 0-3.46 1.539-3.46 3.438v11.194h100.2V4.712c0-1.853-1.475-3.363-3.321-3.436l-.14-.002Z" fill="#818181"></path><path d="M94.448 10.783a2.032 2.032 0 0 0 2.042-2.022 2.032 2.032 0 0 0-2.042-2.021 2.032 2.032 0 0 0-2.042 2.021c0 1.117.914 2.022 2.042 2.022Zm-6.806 0a2.032 2.032 0 0 0 2.042-2.022 2.032 2.032 0 0 0-2.042-2.021A2.032 2.032 0 0 0 85.6 8.76c0 1.117.914 2.022 2.042 2.022Zm-6.806 0a2.032 2.032 0 0 0 2.042-2.022 2.032 2.032 0 0 0-2.042-2.021 2.032 2.032 0 0 0-2.042 2.021c0 1.117.914 2.022 2.042 2.022Z" fill="#818181"></path></g><g transform="translate(36.861 58.897)" stroke="#818181" stroke-width="1.139"><rect fill="#FFF" fill-rule="nonzero" width="36.189" height="19.038" rx="2.278"></rect><ellipse cx="17.858" cy="9.999" rx="2.266" ry="2.313"></ellipse><ellipse cx="26.363" cy="9.999" rx="2.266" ry="2.313"></ellipse><ellipse cx="9.353" cy="9.999" rx="2.266" ry="2.313"></ellipse></g><g fill-rule="nonzero"><path d="M106.39 62.363c-6.954 0-12.611 5.657-12.611 12.61 0 6.954 5.657 12.611 12.61 12.611 6.954 0 12.611-5.657 12.611-12.61 0-6.954-5.657-12.611-12.61-12.611" fill="#0067D1"></path><path d="M106.39 68.353c.521 0 .945.424.945.946v7.407a.946.946 0 0 1-1.891 0V69.3c0-.522.423-.946.945-.946M106.39 81.91a1.26 1.26 0 1 1-.001-2.522 1.26 1.26 0 0 1 0 2.521" fill="#FFF"></path></g></g>', 1), jv = [Bv];
function Wv(e, t) {
  return C(), k("svg", Hv, [].concat(jv));
}
var Kv = {
  render: Wv
}, qv = function() {
  return J({
    name: "IconPageNothing",
    component: Kv
  })();
}, Gv = {
  viewBox: "0 0 155 126",
  xmlns: "http://www.w3.org/2000/svg"
}, Uv = /* @__PURE__ */ Ct('<g fill="none" fill-rule="evenodd"><path d="M0 0h155v126H0z"></path><g fill-rule="nonzero"><g transform="translate(83.562 20.562)"><path d="M58.876 55.25v26.94c0 .465-.189.887-.494 1.192a1.68 1.68 0 0 1-1.192.494H1.686a1.68 1.68 0 0 1-1.192-.494A1.68 1.68 0 0 1 0 82.19V55.25h58.876Z" stroke="#818181" stroke-width="1.124" fill="#FFF"></path><path stroke="#818181" stroke-width="1.124" fill="#FFF" d="M0 27.625h58.876v28.626H0z"></path><path d="M57.19 0c.465 0 .887.189 1.192.494.305.305.494.727.494 1.192v26.94H0V1.686C0 1.221.189.8.494.494A1.68 1.68 0 0 1 1.686 0H57.19Z" stroke="#818181" stroke-width="1.124" fill="#FFF"></path><circle fill="#0067D1" cx="44.938" cy="13.938" r="2.5"></circle><circle fill="#EEE" cx="44.938" cy="41.938" r="2.5"></circle><circle fill="#EEE" cx="44.938" cy="69.938" r="2.5"></circle><path fill="#EEE" d="M17.438 13.438h21v1h-21zM17.438 41.438h21v1h-21zM17.438 69.438h21v1h-21z"></path></g><path d="M3.444 104.021h147.112a.444.444 0 1 1 0 .888H3.444a.444.444 0 0 1 0-.888Z" fill="#818181"></path><g stroke="#818181" stroke-width=".964"><path d="M109.414 31.482c.931 0 1.775.377 2.385.988.61.61.988 1.454.988 2.385v61.014H14.213V34.855c0-.931.378-1.775.988-2.385a3.363 3.363 0 0 1 2.385-.988h91.828Z" fill="#EEE"></path><path d="m120.036 95.871.482 4.324a4.31 4.31 0 0 1-1.266 3.057 4.31 4.31 0 0 1-3.057 1.266H10.805a4.31 4.31 0 0 1-3.057-1.266 4.31 4.31 0 0 1-1.266-3.057v-3.842l113.554-.482Z" fill="#FFF"></path><path d="m78.817 95.871-.537 2.004a1.182 1.182 0 0 1-1.143.877H50.829a1.182 1.182 0 0 1-1.143-.877l-.537-2.004h29.668Z" fill="#EEE"></path><path d="M106.512 35.326c.665 0 1.268.27 1.704.706.436.436.705 1.038.705 1.703V95.87H18.08V37.735c0-.665.27-1.267.705-1.703a2.402 2.402 0 0 1 1.704-.706h86.024Z" fill="#FFF"></path></g><path d="M43.86 53.611c-6.892 0-12.5 5.608-12.5 12.5 0 6.893 5.608 12.5 12.5 12.5s12.5-5.607 12.5-12.5c0-6.892-5.608-12.5-12.5-12.5" fill="#0067D1"></path><path d="M44.195 59.714c.531 0 .962.431.962.963v7.547a.963.963 0 1 1-1.925 0v-7.547c0-.532.431-.963.963-.963M44.195 73.524a1.284 1.284 0 1 1 0-2.567 1.284 1.284 0 0 1 0 2.567" fill="#FFF"></path><g fill="#818181"><path d="M66.857 52.143h4.837a.48.48 0 0 1 0 .96h-4.837a.48.48 0 1 1 0-.96ZM77.487 52.143h17.668a.48.48 0 1 1 0 .96H77.487a.48.48 0 1 1 0-.96ZM66.857 58.87h28.147a.48.48 0 1 1 0 .961H66.857a.48.48 0 1 1 0-.96ZM66.857 65.597h28.147a.48.48 0 1 1 0 .961H66.857a.48.48 0 1 1 0-.96ZM66.857 72.325h28.147a.48.48 0 1 1 0 .96H66.857a.48.48 0 1 1 0-.96ZM66.857 79.052h4.837a.48.48 0 0 1 0 .961h-4.837a.48.48 0 0 1 0-.961ZM76.04 79.052h7.731v1h-7.73z"></path></g></g></g>', 1), Zv = [Uv];
function Yv(e, t) {
  return C(), k("svg", Gv, [].concat(Zv));
}
var Xv = {
  render: Yv
}, Qv = function() {
  return J({
    name: "IconPageServererror",
    component: Xv
  })();
}, Jv = {
  viewBox: "0 0 120 120",
  xmlns: "http://www.w3.org/2000/svg"
}, eg = /* @__PURE__ */ Ct('<g fill="none" fill-rule="evenodd"><path d="M0 0h120v120H0z"></path><g fill-rule="nonzero"><g transform="translate(4 24)"><rect fill="#FFF" width="102.903" height="78.69" rx="4.218"></rect><path d="M98.16 0c2.62 0 4.743 2.11 4.743 4.712v69.266c0 2.603-2.123 4.712-4.742 4.712H4.742C2.123 78.69 0 76.58 0 73.978V4.712C0 2.11 2.123 0 4.742 0h93.419Zm0 1.274H4.743c-1.911 0-3.46 1.539-3.46 3.438v69.266c0 1.9 1.549 3.439 3.46 3.439h93.419c1.91 0 3.46-1.54 3.46-3.439V4.712c0-1.899-1.55-3.438-3.46-3.438Z" fill="#8F8F8F"></path><path d="M4.218 0h94.327a4.218 4.218 0 0 1 4.218 4.218v12.961H0V4.218A4.218 4.218 0 0 1 4.218 0Z" fill="#EEE"></path><path d="M98.021 0c2.62 0 4.742 2.11 4.742 4.712v12.467H0V4.712C0 2.11 2.123 0 4.742 0h93.28Zm0 1.274H4.742c-1.911 0-3.46 1.539-3.46 3.438v11.194h100.2V4.712c0-1.853-1.475-3.363-3.321-3.436l-.14-.002Z" fill="#818181"></path><path d="M94.448 10.783a2.032 2.032 0 0 0 2.042-2.022 2.032 2.032 0 0 0-2.042-2.021 2.032 2.032 0 0 0-2.042 2.021c0 1.117.914 2.022 2.042 2.022Zm-6.806 0a2.032 2.032 0 0 0 2.042-2.022 2.032 2.032 0 0 0-2.042-2.021A2.032 2.032 0 0 0 85.6 8.76c0 1.117.914 2.022 2.042 2.022Zm-6.806 0a2.032 2.032 0 0 0 2.042-2.022 2.032 2.032 0 0 0-2.042-2.021 2.032 2.032 0 0 0-2.042 2.021c0 1.117.914 2.022 2.042 2.022Z" fill="#818181"></path></g><path d="M54.175 78.041a1.421 1.421 0 0 1 2.02 0 1.445 1.445 0 0 1 0 2.034 1.421 1.421 0 0 1-2.02 0 1.445 1.445 0 0 1 0-2.034Zm5.512-3.995c.342.38.342.994 0 1.373a.818.818 0 0 1-1.24 0c-1.935-2.143-5.066-2.143-7 0a.818.818 0 0 1-1.24 0 1.046 1.046 0 0 1 0-1.373c2.619-2.901 6.86-2.901 9.48 0Zm4.285-3.562a.775.775 0 0 1 0 1.148.91.91 0 0 1-1.227 0c-4.18-3.908-10.942-3.908-15.12 0a.91.91 0 0 1-1.228 0 .775.775 0 0 1 0-1.148c4.857-4.542 12.718-4.542 17.575 0Zm3.333-3.945a.888.888 0 0 1 0 1.24.852.852 0 0 1-1.22 0 15.554 15.554 0 0 0-22.277 0 .852.852 0 0 1-1.22 0 .888.888 0 0 1 0-1.24 17.258 17.258 0 0 1 24.717 0Z" fill="#818181"></path><path d="M105.39 65.363c-6.954 0-12.611 5.657-12.611 12.61 0 6.954 5.657 12.611 12.61 12.611 6.954 0 12.611-5.657 12.611-12.61 0-6.954-5.657-12.611-12.61-12.611" fill="#0067D1"></path><path d="M105.39 71.353c.521 0 .945.424.945.946v7.407a.946.946 0 0 1-1.891 0V72.3c0-.522.423-.946.945-.946M105.39 84.91a1.26 1.26 0 1 1-.001-2.522 1.26 1.26 0 0 1 0 2.521" fill="#FFF"></path></g></g>', 1), tg = [eg];
function ng(e, t) {
  return C(), k("svg", Jv, [].concat(tg));
}
var rg = {
  render: ng
}, og = function() {
  return J({
    name: "IconPageWeaknet",
    component: rg
  })();
}, ig = {
  viewBox: "0 0 96 96",
  xmlns: "http://www.w3.org/2000/svg"
}, lg = /* @__PURE__ */ Ct('<g fill="none" fill-rule="evenodd"><path d="M0 0h96v96H0z"></path><g transform="translate(3 17)"><rect fill="#FFF" width="81.055" height="61.765" rx="4.218"></rect><path d="M77.32 0c2.062 0 3.735 1.656 3.735 3.698v54.368c0 2.043-1.673 3.699-3.736 3.699H3.735C1.672 61.765 0 60.109 0 58.066V3.698C0 1.656 1.672 0 3.735 0H77.32Zm0 1H3.734C2.23 1 1.01 2.208 1.01 3.698v54.368c0 1.49 1.22 2.7 2.725 2.7H77.32c1.506 0 2.726-1.21 2.726-2.7V3.698c0-1.49-1.22-2.698-2.726-2.698Z" fill="#8F8F8F" fill-rule="nonzero"></path><path d="M4.218 0h72.509a4.218 4.218 0 0 1 4.218 4.218v9.266H0V4.218A4.218 4.218 0 0 1 4.218 0Z" fill="#EEE"></path><path d="M77.21 0c2.063 0 3.735 1.656 3.735 3.698v9.786H0V3.698C0 1.656 1.672 0 3.735 0H77.21Zm0 1H3.735C2.23 1 1.01 2.208 1.01 3.698v8.786h78.925V3.698c0-1.454-1.161-2.64-2.616-2.696L77.21 1Z" fill="#818181" fill-rule="nonzero"></path><path d="M74.395 8.464c.888 0 1.608-.71 1.608-1.587s-.72-1.587-1.608-1.587c-.888 0-1.608.71-1.608 1.587 0 .876.72 1.587 1.608 1.587Zm-5.361 0c.888 0 1.608-.71 1.608-1.587s-.72-1.587-1.608-1.587c-.888 0-1.608.71-1.608 1.587 0 .876.72 1.587 1.608 1.587Zm-5.361 0c.888 0 1.608-.71 1.608-1.587s-.72-1.587-1.608-1.587c-.888 0-1.608.71-1.608 1.587 0 .876.72 1.587 1.608 1.587Z" fill="#818181"></path></g><path d="M42.023 59.418a1.129 1.129 0 0 1 1.585 0 1.102 1.102 0 0 1 0 1.569 1.129 1.129 0 0 1-1.585 0 1.102 1.102 0 0 1 0-1.57Zm4.326-3.084a.797.797 0 0 1 0 1.06.65.65 0 0 1-.973 0c-1.519-1.654-3.976-1.654-5.494 0a.65.65 0 0 1-.973 0 .797.797 0 0 1 0-1.06c2.055-2.24 5.384-2.24 7.44 0Zm3.364-2.749a.591.591 0 0 1 0 .886.724.724 0 0 1-.963 0c-3.28-3.016-8.589-3.016-11.869 0a.724.724 0 0 1-.963 0 .591.591 0 0 1 0-.886c3.812-3.505 9.982-3.505 13.795 0Zm2.616-3.045a.677.677 0 0 1-.957.958c-4.832-4.835-12.654-4.835-17.486 0a.676.676 0 1 1-.957-.958c5.36-5.363 14.04-5.363 19.4 0Z" fill="#818181" fill-rule="nonzero"></path><g fill-rule="nonzero"><path d="M82.915 49.382c-5.561 0-10.085 4.48-10.085 9.986s4.524 9.986 10.085 9.986c5.56 0 10.085-4.48 10.085-9.986 0-5.507-4.524-9.986-10.085-9.986" fill="#0067D1"></path><path d="M82.915 54.125c.417 0 .756.336.756.749v5.866a.753.753 0 0 1-.756.749.753.753 0 0 1-.757-.75v-5.865c0-.413.34-.749.757-.749M82.915 64.86a1.003 1.003 0 0 1-1.009-.999c0-.552.452-.998 1.009-.998.557 0 1.008.446 1.008.998 0 .553-.451.999-1.008.999" fill="#FFF"></path></g></g>', 1), ag = [lg];
function sg(e, t) {
  return C(), k("svg", ig, [].concat(ag));
}
var dg = {
  render: sg
}, ug = function() {
  return J({
    name: "IconWeaknet",
    component: dg
  })();
};
const cg = (e, t) => {
  const n = e.$slots.default;
  let r;
  if (typeof n == "function") {
    r = [];
    const o = n(), i = ({ type: l, componentOptions: a, props: s }) => {
      let d = l && l.componentName;
      if (d || (d = a && a.Ctor.extendOptions.componentName), d === "TabItem") {
        const u = s && s.name || a && a.propsData.name;
        r.push(u);
      }
    };
    o.forEach(({ type: l, componentOptions: a, props: s, children: d }) => {
      l && (l.toString() === "Symbol(Fragment)" || // vue@3.3之前的开发模式
      l.toString() === "Symbol(v-fgt)" || //   vue@3.3.1 的变更
      l.toString() === "Symbol()") ? Array.isArray(d) && d.forEach(({ type: u, componentOptions: c, props: f }) => i({ type: u, componentOptions: c, props: f })) : i({ type: l, componentOptions: a, props: s });
    });
  }
  if (r.length > 0) {
    let o = [];
    r.forEach((i) => {
      let l = t.find((a) => a.name === i);
      l && o.push(l);
    }), t = o;
  }
  return t;
}, fg = ({
  constants: e,
  parent: t,
  state: n,
  childrenHandler: r
}) => (o = !1) => {
  const i = t.$slots.default;
  if (i) {
    const l = [];
    i().forEach((u) => {
      var c;
      if (Array.isArray(u.children))
        u.children.forEach((f) => {
          var h;
          const p = (h = f.props) == null ? void 0 : h.name;
          p && l.push(p);
        });
      else {
        const f = (c = u.props) == null ? void 0 : c.name;
        f && l.push(f);
      }
    });
    const a = [];
    r(({ vm: u, isLevel1: c }) => {
      if (c && u.$options.componentName === e.TAB_ITEM) {
        const f = l.findIndex((h) => h === u.name);
        f > -1 ? a[f] = u : a.push(u);
      }
    });
    const s = cg(t, a), d = !(s.length === n.panes.length && s.every((u, c) => u.state === n.panes[c].state));
    (o || d) && (n.panes = s);
  } else n.panes.length !== 0 && (n.panes = []);
}, hg = ({ parent: e, props: t, state: n, refs: r }) => () => {
  if (!t.showMoreTabs)
    return;
  const i = e.$el.querySelectorAll(".tiny-tabs__item"), l = r.nav.$refs;
  if (t.moreShowAll) {
    n.showPanesCount = 0;
    return;
  }
  if (i && i.length) {
    let a = 0;
    n.currentIndex === -1 && (n.currentIndex = n.panes.findIndex((u) => u.state.paneName === n.currentName));
    const s = n.currentIndex < 0 ? 0 : n.currentIndex, d = l.navScroll.offsetWidth;
    for (let u = 0; u < i.length; u++) {
      const c = i[u];
      if (a = c.offsetLeft + c.offsetWidth / 2, a > d && s >= 0) {
        s >= u + 1 ? n.showPanesCount = s : n.showPanesCount = u;
        break;
      }
    }
  }
}, pg = ({ parent: e, props: t, state: n }) => () => {
  if (!t.showExpandTabs)
    return;
  const o = e.$el.querySelector(".tiny-mobile-tabs__header");
  o && (n.expandPanesWidth = o.clientWidth);
}, vg = ({ api: e, emit: t, props: n, refs: r }) => (o, i, l) => {
  o.disabled || (e.setCurrentName(i), t("click", o, l), n.showExpandTabs && r.nav && r.nav.expandTabHide());
}, gg = ({ emit: e, props: t }) => (n, r) => {
  if (n.disabled)
    return;
  r.stopPropagation();
  const o = () => {
    e("edit", n.name, "remove"), e("close", n.name);
  };
  if (typeof t.beforeClose == "function") {
    const i = t.beforeClose(n.name);
    i && i.then ? i.then((l) => l && o()) : i && o();
  } else
    o();
}, mg = (e) => () => {
  e("edit", null, "add"), e("add");
}, yg = ({ api: e, props: t, refs: n, state: r }) => (o) => {
  if (e.changeDirection(r.currentName), r.currentName !== o && t.beforeLeave) {
    const i = t.beforeLeave(o, r.currentName);
    i && i.then ? i.then(() => {
      e.changeCurrentName(o), n.nav && n.nav.removeFocus(o);
    }).catch(() => null) : i !== !1 && e.changeCurrentName(o);
  } else
    e.changeCurrentName(o);
}, bg = ({ emit: e, state: t }) => (n) => {
  t.currentName = n, e("update:modelValue", n);
}, Cg = ({ api: e, parent: t, state: n }) => () => {
  e.changeDirection(n.currentName), t.$on("tab-nav-update", e.calcPaneInstances.bind(null, !0));
}, wg = ({ props: e, state: t }) => (n) => {
  t.panes.forEach((o, i) => {
    if (o.state.paneName === n && t.currentIndex !== i) {
      const l = ~["top", "bottom"].indexOf(e.position), a = t.currentIndex < i;
      t.direction = l ? a ? "right" : "left" : a ? "bottom" : "top", t.currentIndex = i;
    }
  });
}, Sg = ({ emit: e }) => (t) => {
  e("tab-drag-start", t);
}, $g = ({ emit: e }) => (t) => {
  e("tab-drag-over", t);
}, kg = ({ state: e, emit: t }) => (n) => {
  const { oldDraggableIndex: r, newDraggableIndex: o } = n, i = e.panes.splice(r, 1)[0];
  e.panes.splice(o, 0, i), t("tab-drag-end", n);
}, Tg = [
  "state",
  "handleTabAdd",
  "calcPaneInstances",
  "handleTabRemove",
  "handleTabClick",
  "handleTabDragStart",
  "handleTabDragOver",
  "handleTabDragEnd",
  "setCurrentName",
  "getNavRefs"
], _g = ({ reactive: e, props: t }) => e({
  panes: [],
  currentName: t.modelValue || t.activeName,
  currentIndex: -1,
  showPanesCount: -1,
  startX: 0,
  startY: 0,
  deltaX: 0,
  deltaY: 0,
  offsetX: 0,
  offsetY: 0,
  direction: "",
  expandPanesWidth: "",
  activeIndex: 1,
  separator: t.separator
}), Ig = ({
  watch: e,
  props: t,
  api: n,
  state: r,
  nextTick: o,
  refs: i
}) => {
  e(() => t.modelValue, n.setCurrentName), e(() => t.activeName, n.setCurrentName), e(
    () => r.currentName,
    () => {
      o(() => {
        i.nav.scrollToActiveTab();
      });
    },
    { deep: !0 }
  ), e(
    () => t.showMoreTabs,
    (l) => {
      l || (r.morePanes = [], r.showPanesCount = -1);
    },
    { immediate: !0 }
  );
}, Eg = (e, { onMounted: t, onUpdated: n, provide: r, reactive: o, watch: i, onUnmounted: l }, { vm: a, refs: s, parent: d, emit: u, constants: c, nextTick: f, childrenHandler: h }) => {
  const p = {}, v = _g({ reactive: o, props: e });
  return Object.assign(p, {
    state: v,
    handleTabAdd: mg(u),
    handleTabRemove: gg({ emit: u, props: e }),
    changeDirection: wg({ props: e, state: v }),
    changeCurrentName: bg({ emit: u, state: v }),
    calcMorePanes: hg({ parent: d, props: e, state: v, refs: s }),
    calcExpandPanes: pg({ parent: d, props: e, state: v }),
    calcPaneInstances: fg({ constants: c, parent: d, state: v, childrenHandler: h }),
    handleTabDragStart: Sg({ emit: u }),
    handleTabDragOver: $g({ emit: u }),
    handleTabDragEnd: kg({ state: v, emit: u }),
    handleTabClick: vg({ api: p, emit: u, props: e, refs: s }),
    setCurrentName: yg({ api: p, props: e, refs: s, state: v }),
    created: Cg({ api: p, parent: d, state: v })
  }), p.created(), r("rootTabs", d), r("separator", v.separator), Ig({ watch: i, props: e, api: p, state: v, nextTick: f, refs: s }), t(() => {
    p.calcPaneInstances(), p.calcMorePanes(), p.calcExpandPanes();
  }), n(() => {
    p.calcPaneInstances(), p.calcMorePanes(), p.calcExpandPanes();
  }), l(() => {
    a.$off("tab-nav-update");
  }), p;
}, Og = (e) => {
  const t = ~[mt.Top, mt.Bottom].indexOf(e.rootTabs.position) ? "X" : "Y";
  if (e.mode === "mobile") {
    const { offset: n, width: r } = e.lineStyle;
    return {
      width: `${r}px`,
      transform: `translate${t}(${n}px) translate${t}(-50%)`
    };
  } else
    return {
      transform: `translate${t}(-${e.navOffset}px)`
    };
}, Mg = ({ parent: e, vm: t, state: n }) => () => {
  if (!n.scrollable)
    return;
  const r = t.$refs.nav, o = e.$el.querySelector(".is-active");
  if (!o)
    return;
  const i = o.offsetLeft - (r.offsetWidth - o.offsetWidth) / 2, l = r.scrollLeft;
  if (n.mode === "mobile") {
    r.scrollLeft += i - l;
    const a = o.querySelector(".tiny-mobile-tabs__name");
    n.lineStyle.width = a.offsetWidth, n.lineStyle.offset = o.offsetLeft + o.offsetWidth / 2;
  }
}, xg = (e) => ~[mt.Top, mt.Bottom].indexOf(e.rootTabs.position) ? "width" : "height", Dg = ({ api: e, vm: t, state: n }) => () => {
  if (!t.$refs.nav || n.dragging)
    return;
  let r = t.$refs.nav[`offset${sn(n.sizeName)}`];
  n.mode === "mobile" && Array.prototype.forEach.call(t.$refs.nav.children, (l) => {
    if (l.classList && l.classList.contains("tiny-mobile-tabs__item") && (r += l.offsetWidth), l.classList && l.classList.contains("is-active")) {
      const a = l.querySelector(".tiny-mobile-tabs__name");
      n.isActive = !0, n.lineStyle.width = a.offsetWidth, n.lineStyle.offset = l.offsetLeft + l.offsetWidth / 2;
    }
  });
  const o = t.$refs.navScroll[`offset${sn(n.sizeName)}`], i = n.navOffset;
  if (o < r) {
    const l = n.navOffset;
    n.scrollable || (n.scrollable = {
      prev: l,
      next: l + o < r
    }), r - l < o && (n.navOffset = r - o);
  } else
    n.scrollable = !1, i > 0 && (n.navOffset = 0);
  if (n.isActive && e.scrollIntoView(), t.$refs.tabBar)
    t.$refs.tabBar.state.barStyle = t.$refs.tabBar.computedBarStyle(t.$refs.tabBar, n);
  else {
    const l = t.$refs.nav.querySelector("tiny-mobile-tabs__line");
    l && l.style && (l.style.transform = e.computedNavStyle(n).transform);
  }
}, Ag = ({ api: e, parent: t }) => {
  const n = t.$refs.nav.$el;
  an(n, e.updated), ee(document, "visibilitychange", e.visibilityChangeHandler), ee(window, "blur", e.windowBlurHandler), ee(window, "focus", e.windowFocusHandler), e.scrollToActiveTab(), e.scrollIntoView(), e.sortableEvent();
}, Lg = ({ api: e, parent: t }) => {
  const n = t.$refs.nav && t.$refs.nav.$el;
  n && e.updated && ln(n, e.updated), oe(document, "visibilitychange", e.visibilityChangeHandler), oe(window, "blur", e.windowBlurHandler), oe(window, "focus", e.windowFocusHandler);
}, Rg = (e) => () => {
  const t = document.visibilityState;
  t === "hidden" ? e.focusable = !1 : t === "visible" && setTimeout(() => {
    e.focusable = !0;
  }, 50);
}, Vg = (e) => () => {
  e.focusable = !1;
}, Ng = (e) => () => {
  setTimeout(() => {
    e.focusable = !0;
  }, 50);
}, Pg = ({ parent: e, vm: t, state: n }) => () => {
  if (!n.scrollable)
    return;
  const r = t.$refs.nav, o = e.$el.querySelector(".is-active");
  if (!o)
    return;
  const i = t.$refs.navScroll, l = o.getBoundingClientRect(), a = i.getBoundingClientRect();
  let s = r.offsetWidth - a.width;
  n.mode === "mobile" && (l.left > a.width ? s = l.left - a.width + l.width : s = l.width);
  const d = n.navOffset;
  let u = d;
  l.left < a.left && (u = d - (a.left - l.left)), l.right > a.right && (u = d + l.right - a.right), u = Math.max(u, 0), n.navOffset = Math.min(u, s);
}, Fg = ({ vm: e, state: t }) => () => {
  const n = e.$refs.navScroll[`offset${sn(t.sizeName)}`], r = t.navOffset;
  if (!r)
    return;
  const o = r > n ? r - n : 0;
  t.navOffset = o;
}, zg = ({ vm: e, state: t }) => () => {
  const n = e.$refs.nav[`offset${sn(t.sizeName)}`], r = e.$refs.navScroll[`offset${sn(t.sizeName)}`], o = t.navOffset;
  if (n - o <= r)
    return;
  const i = n - o > r * 2 ? o + r : n - r;
  t.navOffset = i;
}, Hg = (e) => (t) => {
  const n = t.keyCode;
  let r, o, i;
  if (~[be.ArrowLeft, be.ArrowRight, be.ArrowUp, be.ArrowDown].indexOf(n) && t.currentTarget)
    i = t.currentTarget.querySelectorAll("[role=tab]"), o = Array.prototype.indexOf.call(i, t.target);
  else
    return;
  n === be.ArrowLeft || n === be.ArrowUp ? o === 0 ? r = i.length - 1 : r = o - 1 : o < i.length - 1 ? r = o + 1 : r = 0, i[r].focus(), i[r].click(), e.setFocus();
}, Bg = (e) => () => {
  e.focusable && (e.isFocus = !0);
}, jg = (e) => () => {
  e.isFocus = !0;
}, Wg = (e) => () => {
  e.showMoreItem ? e.showMoreItem = !1 : e.showMoreItem = !0;
}, Kg = ({ api: e, state: t }) => () => {
  t.showExpandItem = !t.showExpandItem, t.showExpandItem && e.computedHeaderStyle();
}, qg = (e) => () => e.showExpandItem = !1, Gg = ({ vm: e, state: t }) => () => (e.$refs.nav && (t.expandHeaderStyle[t.sizeName] = e.$refs.nav[`offset${sn(t.sizeName)}`] + "px"), t.expandHeaderStyle), Ug = ({ state: e, vm: t, emit: n }) => (r) => {
  if (e.dragging = !0, ![mt.Top, mt.Bottom].includes(e.rootTabs.position)) {
    n("tab-drag-start", r);
    return;
  }
  const o = t.$refs.navScroll, i = t.$refs.nav, l = o.offsetWidth;
  if (i.offsetWidth > l) {
    const s = i.offsetHeight;
    o.style.height = s + "px", i.style.transition = "none", i.style.transform = "", i.style.width = l + "px", i.style.overflowX = "scroll", i.scrollTo(e.navOffset, 0);
  }
  n("tab-drag-start", r);
}, Zg = ({ vm: e, state: t, nextTick: n }) => () => {
  if (t.dragging = !1, ![mt.Top, mt.Bottom].includes(t.rootTabs.position))
    return;
  const r = e.$refs.nav;
  if (r.style.width) {
    const o = r.scrollLeft, i = e.$refs.navScroll;
    i.style.height = "", r.style.width = "", r.style.overflowX = "", t.navOffset = o, n(() => {
      r.style.transition = "";
    });
  }
}, Yg = ({
  api: e,
  props: t,
  state: n,
  vm: r,
  emit: o,
  markRaw: i
}) => () => {
  if (!t.dropConfig || typeof t.dropConfig.plugin != "function")
    return;
  const l = new t.dropConfig.plugin(r.$refs.nav, {
    sort: !0,
    draggable: ".tiny-tabs__item",
    onUpdate(a) {
      o("tab-drag-end", a);
    },
    onMove(a) {
      o("tab-drag-over", a);
    },
    onStart(a) {
      e.handleTabDragStart(a);
    },
    onEnd() {
      e.handleTabDragEnd();
    }
  });
  n.navSortableObj = i(l);
}, Xg = ({ nextTick: e, vm: t, state: n }) => () => {
  e(() => {
    const r = t.$refs.tabBar;
    r && (r.state.barStyle = r.computedBarStyle(r, n));
  });
}, Qg = ({ state: e, vm: t, props: n }) => (r, o) => {
  const i = r.target, l = o == null ? void 0 : o.el;
  if (!n.tooltipConfig && i && l && l.scrollWidth > l.offsetWidth) {
    const a = t.$refs.tooltip;
    a.state.referenceElm = i, a.state.popperElm && (a.state.popperElm.style.display = "none"), a.doDestroy(), e.tooltipContent = o, e.tooltipVisible = !0, setTimeout(a.updatePopper, 20);
  }
}, Jg = ({ state: e }) => () => {
  e.tooltipVisible = !1;
}, em = [
  "state",
  "setFocus",
  "removeFocus",
  "scrollPrev",
  "scrollNext",
  "changeTab",
  "scrollToActiveTab",
  "scrollIntoView",
  "moreTabShow",
  "expandTabShow",
  "expandTabHide",
  "computedHeaderStyle",
  "swiperHandle",
  "updated",
  "handleTitleMouseenter",
  "handleTitleMouseleave"
], tm = (e, { computed: t, inject: n, onBeforeUnmount: r, onMounted: o, onUpdated: i, reactive: l, markRaw: a }, { parent: s, vm: d, nextTick: u, mode: c, emit: f }) => {
  const h = { mounted: Ag, beforeUnmount: Lg, computedNavStyle: Og, computedSizeName: xg }, p = l({
    dragging: !1,
    navOffset: 0,
    lineStyle: {
      width: 20,
      offset: 0
    },
    scrollable: !1,
    isFocus: !1,
    focusable: !1,
    showMoreItem: !1,
    isActive: !1,
    tooltipVisible: !1,
    tooltipContent: "",
    showMoreTabs: e.showMoreTabs,
    showExpandItem: !1,
    showExpandTabs: e.showExpandTabs,
    expandHeaderStyle: {},
    mode: e._mode || s.$mode || c || "pc",
    rootTabs: n("rootTabs"),
    sizeName: t(() => h.computedSizeName(p)),
    navStyle: t(() => h.computedNavStyle(p)),
    navSortableObj: {},
    separator: n("separator", null)
  });
  return Object.assign(h, {
    state: p,
    setFocus: Bg(p),
    removeFocus: jg(p),
    moreTabShow: Wg(p),
    expandTabShow: Kg({ api: h, state: p }),
    expandTabHide: qg(p),
    scrollPrev: Fg({ vm: d, state: p }),
    scrollNext: zg({ vm: d, state: p }),
    windowBlurHandler: Vg(p),
    windowFocusHandler: Ng(p),
    visibilityChangeHandler: Rg(p),
    scrollToActiveTab: Pg({ parent: s, vm: d, state: p }),
    scrollIntoView: Mg({ parent: s, vm: d, state: p }),
    computedHeaderStyle: Gg({ vm: d, state: p }),
    watchCurrentName: Xg({ nextTick: u, vm: d, state: p }),
    handleTabDragStart: Ug({ state: p, vm: d, emit: f }),
    handleTabDragEnd: Zg({ state: p, vm: d, nextTick: u }),
    sortableEvent: Yg({ api: h, props: e, state: p, vm: d, emit: f, markRaw: a }),
    handleTitleMouseenter: Qg({ state: p, vm: d, props: e }),
    handleTitleMouseleave: Jg({ state: p })
  }), Object.assign(h, { updated: Dg({ api: h, vm: d, state: p }), changeTab: Hg(h) }), i(() => h.updated()), o(() => h.mounted({ api: h, parent: s })), r(() => h.beforeUnmount({ api: h, parent: s })), h;
}, nm = ({ broadcast: e, emit: t, nextTick: n }) => (r) => {
  e("TinyDropdownMenu", "visible", r), n(() => t("visible-change", r));
}, rm = (e) => (t) => {
  const n = e.$el.querySelector(".tiny-dropdown-selfdefine");
  n && (t ? Ee(n, "focusing") : _e(n, "focusing"));
}, om = ({ props: e, state: t, emit: n }) => () => {
  e.disabled || (t.visibleIsBoolean ? n("update:visible", !0) : (clearTimeout(Number(t.timeout)), t.timeout = setTimeout(
    () => {
      t.visible = !0;
    },
    t.trigger === "click" ? 0 : e.showTimeout
  )));
}, im = ({ api: e, props: t, state: n, emit: r }) => () => {
  t.disabled || (e.removeTabindex(), t.tabindex >= 0 && n.triggerElm && e.resetTabindex(n.triggerElm), n.visibleIsBoolean ? r("update:visible", !1) : (clearTimeout(Number(n.timeout)), n.timeout = setTimeout(
    () => {
      n.visible = !1;
    },
    n.trigger === "click" ? 0 : t.hideTimeout
  )));
}, lm = ({ api: e, props: t, state: n, emit: r }) => () => {
  t.disabled || (n.visibleIsBoolean ? r("handle-click", t.visible) : (r("handle-click", n.visible), n.visible ? e.hide() : e.show()));
}, am = ({ api: e, state: t }) => (n) => {
  const r = n.keyCode;
  ~[be.ArrowUp, be.ArrowDown].indexOf(r) ? (e.removeTabindex(), t.menuItems && (e.resetTabindex(t.menuItems[0]), t.menuItems[0].focus()), n.preventDefault(), n.stopPropagation()) : r === be.Enter ? e.handleClick() : ~[be.Tab, be.Escape].indexOf(r) && e.hide();
}, sm = ({ api: e, props: t, state: n, emit: r }) => (o) => {
  const i = o.keyCode, l = o.target, a = n.menuItemsArray.indexOf(l), s = n.menuItemsArray.length - 1;
  let d;
  ~[be.ArrowUp, be.ArrowDown].indexOf(i) ? (i === be.ArrowUp ? d = a !== 0 ? a - 1 : 0 : d = a < s ? a + 1 : s, e.removeTabindex(), n.menuItems && (e.resetTabindex(n.menuItems[d]), n.menuItems[d].focus()), o.preventDefault(), o.stopPropagation()) : i === be.Enter ? (e.triggerElmFocus(), l == null || l.click(), t.hideOnClick && (n.visible = !1)) : ~[be.Tab, be.Escape].indexOf(i) && (e.hide(), e.triggerElmFocus());
}, dm = (e) => (t) => {
  e.removeTabindex(), t.setAttribute("tabindex", "0");
}, um = (e) => () => {
  var t, n;
  (t = e.triggerElm) == null || t.setAttribute("tabindex", "-1"), (n = e.menuItemsArray) == null || n.forEach((r) => {
    r.setAttribute("tabindex", "-1");
  });
}, cm = ({ state: e, props: t }) => () => {
  var n, r, o, i, l;
  (n = e.dropdownElm) == null || n.setAttribute("id", e.listId), (r = e.triggerElm) == null || r.setAttribute("aria-haspopup", "list"), (o = e.triggerElm) == null || o.setAttribute("aria-controls", e.listId), (!t.splitButton || !t.singleButton) && ((i = e.triggerElm) == null || i.setAttribute("role", "button"), (l = e.triggerElm) == null || l.setAttribute("tabindex", String(t.tabindex)), Ee(e.triggerElm, "tiny-dropdown-selfdefine"));
}, Ri = ({ state: e, value: t }) => () => {
  e.focusing = t;
}, fm = ({ api: e, props: t, state: n, vm: r, mode: o }) => () => {
  var i;
  let l = t.splitButton || t.singleButton;
  n.triggerElm = l || t.border ? r.$refs.trigger.$el : r.$refs.trigger, ee(n.triggerElm, "keydown", e.handleTriggerKeyDown), (i = n.dropdownElm) == null || i.addEventListener("keydown", e.handleItemKeyDown, !0), (!t.splitButton || !t.singleButton) && (ee(n.triggerElm, "focus", e.toggleFocusOnTrue), ee(n.triggerElm, "blur", e.toggleFocusOnFalse), ee(n.triggerElm, "click", e.toggleFocusOnFalse)), !n.visibleIsBoolean && (n.trigger === "hover" ? (ee(n.triggerElm, "mouseenter", e.show), ee(n.triggerElm, "mouseleave", e.hide), ee(n.dropdownElm, "mouseenter", e.show), ee(n.dropdownElm, "mouseleave", e.hide)) : n.trigger === "click" && ee(n.triggerElm, "click", e.handleClick), o === "mobile-first" && (t.splitButton || t.singleButton) && ee(n.triggerElm, "click", e.handleClick));
}, hm = ({ props: e, state: t, emit: n }) => ({ itemData: r, vm: o, disabled: i }) => {
  e.hideOnClick && !i && (t.visible = !1), i || n("item-click", { itemData: r, vm: o });
}, pm = (e) => () => {
  var t;
  (t = e.triggerElm) != null && t.focus && e.triggerElm.focus();
}, vm = ({ api: e, state: t, vm: n }) => () => {
  var r;
  t.dropdownElm = n.popperElm, t.menuItems = (r = t.dropdownElm) == null ? void 0 : r.querySelectorAll('[tabindex="-1"]'), t.menuItemsArray = [].slice.call(t.menuItems), e.initEvent(), e.initAria();
}, gm = ({ api: e, emit: t }) => (n) => {
  t("button-click", n), e.hide();
}, mm = ({
  api: e,
  vm: t,
  state: n,
  broadcast: r,
  props: o
}) => () => {
  n.showSelfIcon && (n.showIcon = !1), t.$on("menu-item-click", e.handleMenuItemClick), t.$on("current-item-click", e.handleMenuItemClick), t.$on("selected-index", (i) => {
    r("TinyDropdownMenu", "menu-selected-index", i);
  }), n.visibleIsBoolean ? o.visible && r("TinyDropdownMenu", "visible", !0) : t.$on("is-disabled", e.clickOutside);
}, ym = ({ vm: e, api: t, state: n }) => () => {
  n.triggerElm && (oe(n.triggerElm, "keydown", t.handleTriggerKeyDown), oe(n.triggerElm, "focus", t.toggleFocusOnTrue), oe(n.triggerElm, "blur", t.toggleFocusOnFalse), oe(n.triggerElm, "click", t.toggleFocusOnFalse), oe(n.triggerElm, "mouseenter", t.show), oe(n.triggerElm, "mouseleave", t.hide), oe(n.triggerElm, "click", t.handleClick), n.triggerElm = null), n.dropdownElm && (n.dropdownElm.removeEventListener("keydown", t.handleItemKeyDown, !0), oe(n.dropdownElm, "mouseenter", t.show), oe(n.dropdownElm, "mouseleave", t.hide), n.dropdownElm = null), e.$off("menu-item-click"), e.$off("current-item-click"), e.$off("selected-index"), e.$off("is-disabled");
}, bm = ({ props: e, api: t }) => (n) => {
  e.hideOnClick && (n ? t.show() : t.hide());
}, Cm = ["state", "handleMainButtonClick", "hide", "show", "initDomOperation", "handleClick", "clickOutside"], wm = (e, { reactive: t, watch: n, provide: r, onMounted: o, computed: i, onBeforeUnmount: l }, { emit: a, parent: s, broadcast: d, vm: u, nextTick: c, mode: f, designConfig: h }) => {
  const p = {}, v = t({
    visible: !1,
    timeout: null,
    focusing: !1,
    menuItems: [],
    menuItemsArray: [],
    triggerElm: null,
    dropdownElm: null,
    listId: `dropdown-menu-${oa()}`,
    showIcon: e.showIcon,
    showSelfIcon: e.showSelfIcon,
    designConfig: h,
    trigger: i(() => {
      var g;
      return e.trigger || ((g = h == null ? void 0 : h.props) == null ? void 0 : g.trigger) || "hover";
    }),
    visibleIsBoolean: i(() => typeof e.visible == "boolean")
  });
  return r("dropdownVm", u), Object.assign(p, {
    state: v,
    watchVisible: nm({ broadcast: d, emit: a, nextTick: c }),
    watchFocusing: rm(s),
    show: om({ props: e, state: v, emit: a }),
    hide: im({ api: p, props: e, state: v, emit: a }),
    mounted: mm({ api: p, vm: u, state: v, broadcast: d, props: e }),
    handleClick: lm({ api: p, props: e, state: v, emit: a }),
    handleTriggerKeyDown: am({ api: p, state: v }),
    handleItemKeyDown: sm({ api: p, props: e, state: v, emit: a }),
    resetTabindex: dm(p),
    removeTabindex: um(v),
    initAria: cm({ state: v, props: e }),
    initEvent: fm({ api: p, props: e, state: v, vm: u, mode: f }),
    handleMenuItemClick: hm({ props: e, state: v, emit: a }),
    handleMainButtonClick: gm({ api: p, emit: a }),
    triggerElmFocus: pm(v),
    initDomOperation: vm({ api: p, state: v, vm: u }),
    beforeDistory: ym({ vm: u, api: p, state: v }),
    clickOutside: bm({ props: e, api: p }),
    toggleFocusOnTrue: Ri({ state: v, value: !0 }),
    toggleFocusOnFalse: Ri({ state: v, value: !1 })
  }), typeof e.visible == "boolean" ? n(() => e.visible, p.watchVisible) : n(() => v.visible, p.watchVisible), n(() => v.focusing, p.watchFocusing), o(p.mounted), l(p.beforeDistory), p;
}, Sm = ({ emit: e, state: t }) => () => {
  t.disabled || e("change", t.value);
}, $m = ({ emit: e, props: t, state: n }) => (r) => {
  !n.disabled && !r.disabled && n.value !== r[t.valueField] && (n.value = r[t.valueField], e("update:modelValue", n.value));
}, km = ({ emit: e, props: t, state: n }) => (r) => {
  if (!n.disabled) {
    const o = n.moreData.indexOf(r);
    n.moreData.splice(o, 1, n.buttonData[n.buttonData.length - 1]), n.buttonData.splice(n.buttonData.length - 1, 1, r), n.value = r[t.valueField], e("update:modelValue", n.value);
  }
}, Tm = ({ props: e, state: t }) => (n) => t.disabled || n.disabled ? { disabled: !0 } : e.plain ? {
  plain: e.plain,
  medium: e.size === "medium",
  small: e.size === "small",
  mini: e.size === "mini"
} : {}, _m = ["state", "handleClick", "moreNodeClick", "handleChange", "getItemClass"], Im = (e, { computed: t, reactive: n, watch: r, inject: o }, { emit: i, parent: l }) => {
  var a, s;
  l.tinyForm = l.tinyForm || o("form", null);
  const d = n({
    value: e.modelValue,
    buttonData: ((a = e.data) == null ? void 0 : a.slice(0, e.showMore)) || [],
    moreData: ((s = e.data) == null ? void 0 : s.slice(e.showMore, e.data.length)) || [],
    formDisabled: t(() => (l.tinyForm || {}).disabled),
    disabled: t(() => e.disabled || d.formDisabled)
  });
  r(
    () => e.modelValue,
    (c) => {
      !d.disabled && d.value !== c && (d.value = c);
    },
    { immediate: !0 }
  ), r(
    () => d.value,
    () => u.handleChange()
  );
  const u = {
    state: d,
    handleClick: $m({ emit: i, props: e, state: d }),
    moreNodeClick: km({ emit: i, props: e, state: d }),
    handleChange: Sm({ emit: i, state: d }),
    getItemClass: Tm({ props: e, state: d })
  };
  return u;
}, Em = ({
  api: e,
  state: t,
  props: n,
  nextTick: r
}) => {
  const { referenceElm: o, popperElm: i } = t;
  n.trigger === "click" ? (ee(o, "click", e.doToggle), ee(document, "click", e.handleDocumentClick)) : n.trigger === "hover" ? (ee(o, "mouseenter", e.handleMouseEnter), ee(i, "mouseenter", e.handleMouseEnter), ee(o, "mouseleave", e.handleMouseLeave), ee(i, "mouseleave", e.handleMouseLeave)) : n.trigger === "focus" ? o.querySelector("input, textarea") ? (ee(o, "focusin", e.doShow), ee(o, "focusout", e.doClose)) : (ee(o, "mousedown", e.doShow), ee(o, "mouseup", e.doClose)) : n.trigger === "manual" && n.modelValue && r(e.doShow);
}, Om = ({
  api: e,
  state: t,
  constants: n,
  props: r,
  nextTick: o,
  mode: i
}) => () => {
  t.mounted = !0;
  const { referenceElm: l, popperElm: a, tooltipId: s } = t;
  l && (i !== "mobile-first" && Ee(l, `${n.IDPREFIX}__reference`), l.setAttribute("aria-describedby", s), l.setAttribute("tabindex", r.tabindex.toString()), a.setAttribute("tabindex", 0), r.trigger !== "click" && (ee(l, "focusin", () => {
    e.handleFocus();
    const d = l.__vue__;
    d && typeof d.focus == "function" && d.focus();
  }), ee(a, "focusin", e.handleFocus), ee(l, "focusout", e.handleBlur), ee(a, "focusout", e.handleBlur)), ee(l, "keydown", e.handleKeydown), ee(l, "click", e.handleClick)), Em({ api: e, state: t, props: r, nextTick: o });
}, Mm = (e) => () => {
  e.showPopper = !e.showPopper;
}, xm = (e) => () => {
  e.showPopper = !0;
}, Dm = (e) => () => {
  e.showPopper = !1;
}, Am = ({ props: e, state: t }) => () => {
  Ee(t.referenceElm, "focusing"), (e.trigger === "click" || e.trigger === "focus") && (t.showPopper = !0);
}, Lm = (e) => (t) => {
  const n = e.popperElm;
  t != null && t.target && n && (e.webCompEventTarget = t.target), _e(e.referenceElm, "focusing");
}, Rm = ({ props: e, state: t }) => () => {
  _e(t.referenceElm, "focusing"), (e.trigger === "click" || e.trigger === "focus") && (t.showPopper = !1);
}, Vm = ({ props: e, state: t }) => () => {
  clearTimeout(t.timer), e.openDelay ? t.timer = window.setTimeout(() => {
    t.showPopper = !0;
  }, e.openDelay) : t.showPopper = !0;
}, Nm = ({ api: e, props: t }) => (n) => {
  n.keyCode === be.Escape && t.trigger !== "manual" && e.doClose();
}, Pm = ({ props: e, state: t }) => () => {
  clearTimeout(t.timer), e.closeDelay ? t.timer = window.setTimeout(() => {
    t.showPopper = !1;
  }, e.closeDelay) : t.showPopper = !1;
}, Fm = ({ vm: e, state: t }) => (n) => {
  const r = t.referenceElm, o = t.popperElm, i = e.$refs.root;
  let l = n.target;
  return l != null && l.shadowRoot && o && (l = t.webCompEventTarget), !i || !r || i.contains(l) || r.contains(l) || !o || o.contains(l) ? !1 : (t.showPopper = !1, !0);
}, zm = (e) => () => {
  e("after-enter");
}, Hm = (e) => () => {
  e("after-leave");
}, Bm = ({ emit: e, state: t }) => (n) => {
  t.showPopper = !1, e("item-click", n);
}, jm = ({ props: e, state: t }) => () => {
  e.openDelay && clearTimeout(t.timer);
}, Wm = ({ state: e, api: t }) => () => {
  const { referenceElm: n, popperElm: r } = e;
  oe(n, "click", t.doToggle), oe(n, "mouseup", t.doClose), oe(n, "mousedown", t.doShow), oe(n, "focusin", t.doShow), oe(n, "focusout", t.doClose), oe(n, "mouseleave", t.handleMouseLeave), oe(n, "mouseenter", t.handleMouseEnter), oe(document, "click", t.handleDocumentClick), oe(r, "focusin", t.handleFocus), oe(r, "focusout", t.handleBlur), oe(r, "mouseenter", t.handleMouseEnter), oe(r, "mouseleave", t.handleMouseLeave), oe(n, "click", t.handleClick), oe(n, "focusout", t.handleBlur), oe(n, "keydown", t.handleKeydown);
}, Km = (e) => () => `${e.IDPREFIX}-${oa("", 4)}`, qm = ({ api: e, props: t, vm: n, state: r }) => () => {
  const { reference: o, popper: i, wrapper: l } = n.$refs, a = r.referenceElm = t.reference || o;
  r.popperElm = r.popperElm || i, !a && l.children && (r.referenceElm = l.children[0] || l), r.referenceElm && e.mounted();
}, Gm = ({ state: e, vm: t }) => (n) => {
  for (let r of n)
    r.type === "attributes" && r.attributeName === "x-placement" && (e.xPlacement = t.$refs.popper.getAttribute("x-placement") || "bottom");
}, Um = [
  "state",
  "handleAfterEnter",
  "handleAfterLeave",
  "doToggle",
  "doShow",
  "doClose",
  "doDestroy",
  "handleItemClick",
  "handleDocumentClick"
], Zm = ({
  reactive: e,
  computed: t,
  api: n,
  popperElm: r,
  showPopper: o,
  referenceElm: i
}) => e({
  popperElm: r,
  referenceElm: i,
  /** popper 元素是否显示。 它是通过v-show 绑定到页面上，造成隐藏时，popperJs并没有destory,有一定的性能影响 */
  showPopper: o,
  timer: 0,
  mounted: !1,
  xPlacement: "bottom",
  tooltipId: t(() => n.computedTooltipId()),
  webCompEventTarget: null
}), Ym = ({ api: e, props: t, state: n, emit: r, doDestroy: o, constants: i, nextTick: l, vm: a, mode: s }) => {
  Object.assign(e, {
    state: n,
    mounted: Om({ api: e, state: n, constants: i, props: t, nextTick: l, mode: s }),
    cleanup: jm({ state: n, props: t }),
    destroyed: Wm({ state: n, api: e }),
    doDestroy: o,
    computedTooltipId: Km(i),
    doShow: xm(n),
    doClose: Dm(n),
    doToggle: Mm(n),
    handleClick: Lm(n),
    handleAfterEnter: zm(r),
    handleBlur: Rm({ props: t, state: n }),
    handleFocus: Am({ props: t, state: n }),
    handleKeydown: Nm({ api: e, props: t }),
    handleMouseLeave: Pm({ props: t, state: n }),
    handleAfterLeave: Hm(r),
    handleMouseEnter: Vm({ props: t, state: n }),
    handleDocumentClick: Fm({ vm: a, state: n }),
    wrapMounted: qm({ api: e, props: t, vm: a, state: n }),
    handleItemClick: Bm({ emit: r, state: n }),
    observeCallback: Gm({ vm: a, state: n })
  });
}, Xm = ({
  watch: e,
  props: t,
  state: n,
  emit: r,
  api: o,
  nextTick: i,
  updatePopper: l,
  mode: a
}) => {
  e(
    () => n.showPopper,
    (s) => {
      t.disabled || (s && i(() => l()), r(s ? "show" : "hide"));
    }
  ), e(
    () => t.reference,
    (s, d) => {
      s !== d && (o.destroyed(), i(() => {
        o.wrapMounted();
      }));
    }
  ), e(
    () => t.modelValue,
    (s) => {
      t.trigger === "manual" && (n.showPopper = s, r("update:modelValue", s));
    }
  );
}, Qm = (e, {
  reactive: t,
  computed: n,
  watch: r,
  toRefs: o,
  onBeforeUnmount: i,
  onMounted: l,
  onUnmounted: a,
  onActivated: s,
  onDeactivated: d
}, { $prefix: u, emit: c, vm: f, slots: h, nextTick: p, mode: v }) => {
  const g = {}, m = { IDPREFIX: `${u.toLowerCase()}-popover` }, b = { emit: c, onBeforeUnmount: i, nextTick: p, reactive: t, props: e, watch: r, onDeactivated: d, vm: f, slots: h, toRefs: o }, { showPopper: y, popperElm: S, referenceElm: w, doDestroy: _, updatePopper: $ } = ci(b), I = Zm({ reactive: t, computed: n, api: g, popperElm: S, showPopper: y, referenceElm: w });
  return Ym({ api: g, constants: m, props: e, state: I, emit: c, doDestroy: _, nextTick: p, vm: f, mode: v }), d(() => {
    g.destroyed(), g.cleanup();
  }), l(() => {
    if (g.wrapMounted(), e.genArrowByHtml) {
      const A = { attributes: !0, childList: !1, subtree: !1 };
      g.observer = new MutationObserver(g.observeCallback), g.observer.observe(f.$refs.popper, A);
    }
  }), s(g.mounted), a(() => {
    g.destroyed(), g.observer && g.observer.disconnect();
  }), i(g.cleanup), Xm({ watch: r, props: e, state: I, emit: c, api: g, nextTick: p, updatePopper: $, mode: v }), g;
};
function Jm(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = ey(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function ey(e, t) {
  if (e) {
    if (typeof e == "string") return Vi(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Vi(e, t) : void 0;
  }
}
function Vi(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var ty = function(t, n) {
  for (var r = t.__vccOpts || t, o = Jm(n), i; !(i = o()).done; ) {
    var l = i.value, a = l[0], s = l[1];
    r[a] = s;
  }
  return r;
}, ny = U({
  emits: ["update:modelValue", "hide", "show", "after-enter", "after-leave", "created"],
  props: [].concat(Ne, ["appendToBody", "arrowOffset", "boundariesPadding", "closeDelay", "content", "disabled", "modelValue", "offset", "openDelay", "placement", "popper", "popperClass", "popperOptions", "reference", "tabindex", "title", "transition", "trigger", "visibleArrow", "width", "height"]),
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: Qm,
      api: Um
    });
  }
}), ry = {
  ref: "root"
}, oy = ["id"], iy = ["textContent"];
function ly(e, t, n, r, o, i) {
  return C(), k(
    "span",
    ry,
    [E(Ot, {
      name: e.transition,
      onAfterEnter: e.handleAfterEnter,
      onAfterLeave: e.handleAfterLeave,
      persisted: ""
    }, {
      default: q(function() {
        return [ae(T("div", {
          class: W(["tiny-popover tiny-popper", [e.popperClass, e.content && "tiny-popover__plain", {
            "no-arrow": !e.visibleArrow
          }]]),
          ref: "popper",
          style: ke({
            width: e.width === "auto" ? e.width : e.width + "px",
            height: e.height === "auto" ? e.height : e.height + "px"
          }),
          role: "tooltip",
          id: e.state.tooltipId
        }, [e.title ? (C(), k("div", {
          key: 0,
          class: "tiny-popover__title",
          textContent: j(e.title)
        }, null, 8, iy)) : P("v-if", !0), G(e.$slots, "default", {}, function() {
          return [de(
            j(e.content),
            1
            /* TEXT */
          )];
        })], 14, oy), [[De, !e.disabled && e.state.showPopper]])];
      }),
      _: 3
      /* FORWARDED */
    }, 8, ["name", "onAfterEnter", "onAfterLeave"]), T(
      "span",
      {
        ref: "wrapper",
        class: W(["reference-wrapper", {
          "reference-wrapper-show": !e.disabled && e.state.showPopper
        }])
      },
      [G(e.$slots, "reference")],
      2
      /* CLASS */
    )],
    512
    /* NEED_PATCH */
  );
}
var Wr = /* @__PURE__ */ ty(ny, [["render", ly]]);
function _o() {
  return _o = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, _o.apply(null, arguments);
}
var ay = function(t) {
  var n, r = typeof process == "object" ? (n = process.env) == null ? void 0 : n.TINY_MODE : null;
  return Wr;
}, sy = _o({}, le, {
  appendToBody: {
    type: Boolean,
    default: !0
  },
  arrowOffset: {
    type: Number,
    default: 0
  },
  boundariesPadding: {
    type: Number,
    default: 5
  },
  closeDelay: {
    type: Number,
    default: 200
  },
  content: String,
  disabled: Boolean,
  modelValue: Boolean,
  offset: {
    default: 0
  },
  openDelay: {
    type: Number,
    default: 0
  },
  placement: {
    type: String,
    default: "bottom"
  },
  popper: {},
  popperClass: String,
  popperOptions: {
    type: Object,
    default: function() {
      return {
        gpuAcceleration: !1
      };
    }
  },
  reference: {},
  tabindex: {
    type: Number,
    default: 0
  },
  title: String,
  transition: {
    type: String,
    default: "fade-in-linear"
  },
  trigger: {
    type: String,
    default: "click",
    validator: function(t) {
      return !!~["click", "focus", "hover", "manual"].indexOf(t);
    }
  },
  visibleArrow: {
    default: !0
  },
  width: {
    type: [String, Number]
  },
  height: {
    type: [String, Number]
  },
  maxHeight: {
    type: [String, Number]
  },
  listData: [Object, Array],
  genArrowByHtml: {
    type: Boolean,
    default: function() {
      return !0;
    }
  }
}), kt = U({
  inheritAttrs: !0,
  name: te + "Popover",
  props: sy,
  setup: function(t, n) {
    return Ie({
      props: t,
      context: n,
      template: ay
    });
  }
}), dy = "3.undefined";
kt.install = function(e) {
  e.component(kt.name, kt);
};
kt.model = {
  prop: "modelValue",
  event: "update:modelValue"
};
kt.version = dy;
function uy(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = cy(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function cy(e, t) {
  if (e) {
    if (typeof e == "string") return Ni(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Ni(e, t) : void 0;
  }
}
function Ni(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var fy = function(t, n) {
  for (var r = t.__vccOpts || t, o = uy(n), i; !(i = o()).done; ) {
    var l = i.value, a = l[0], s = l[1];
    r[a] = s;
  }
  return r;
}, hy = U({
  emits: ["change", "edit", "update:modelValue"],
  directives: {
    AutoTip: _n
  },
  props: [].concat(Ne, ["size", "data", "plain", "modelValue", "disabled", "valueField", "textField", "showMore", "showEdit", "border"]),
  components: {
    TinyPopover: kt,
    TinyButton: Be,
    IconPopup: _r(),
    IconEditor: Ic()
    // 新规范图标
  },
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: Im,
      api: _m
    });
  }
}), py = {
  key: 0,
  class: "tiny-group-item"
}, vy = ["tabindex", "onClick"], gy = {
  key: 2
}, my = {
  key: 1,
  class: "tiny-group-item show-more"
}, yy = ["onClick"], by = {
  key: 2
}, Cy = {
  key: 0,
  class: "tiny-group-item__more"
}, wy = {
  class: "more-list"
}, Sy = ["onClick"], $y = {
  key: 1,
  class: "tiny-group-item__edit"
}, ky = {
  key: 1,
  class: "tiny-button-group--empty"
};
function Ty(e, t, n, r, o, i) {
  var l = K("icon-popup"), a = K("tiny-button"), s = K("tiny-popover"), d = K("Icon-editor"), u = Qe("auto-tip");
  return C(), k(
    "div",
    {
      class: W(["tiny-button-group", [e.size ? "tiny-button-group--" + e.size : "", e.border ? "" : "tiny-button-group--borderless"]])
    },
    [G(e.$slots, "default", {}, function() {
      return [e.data.length > 0 ? (C(), k(
        ie,
        {
          key: 0
        },
        [e.showMore && e.showMore > 0 ? (C(), k("ul", my, [(C(!0), k(
          ie,
          null,
          $e(e.state.buttonData, function(c, f) {
            return C(), k(
              "li",
              {
                key: f,
                class: W({
                  active: e.state.value === c[e.valueField]
                })
              },
              [T("button", {
                class: W(e.getItemClass(c)),
                onClick: function(p) {
                  return e.handleClick(c);
                }
              }, j(c[e.textField]), 11, yy), c.sup ? (C(), k(
                "span",
                {
                  key: 0,
                  class: W(["tiny-group-item__sup", {
                    "tiny-group-item__sup-text": !c.sup.slot && !c.sup.icon && c.sup.text && c.sup.tag,
                    "tiny-group-item__sup-icon": !c.sup.slot && c.sup.icon && c.sup.tag,
                    "tiny-group-item__sup-tag": c.sup.tag
                  }, typeof c.sup.class == "string" ? c.sup.class : ""].concat(Array.isArray(c.sup.class) ? c.sup.class : []))
                },
                [c.sup.slot ? G(e.$slots, c.sup.slot, {
                  key: 0,
                  sup: c.sup
                }) : c.sup.icon ? (C(), z(Te(c.sup.icon), {
                  key: 1
                })) : c.sup.text ? (C(), k(
                  "span",
                  by,
                  j(c.sup.text),
                  1
                  /* TEXT */
                )) : P("v-if", !0)],
                2
                /* CLASS */
              )) : P("v-if", !0)],
              2
              /* CLASS */
            );
          }),
          128
          /* KEYED_FRAGMENT */
        )), e.data.length > e.showMore ? (C(), k("li", Cy, [E(s, {
          "visible-arrow": !1,
          "popper-class": "tiny-group-item__more-popover"
        }, {
          reference: q(function() {
            return [E(a, {
              "reset-time": 0,
              class: "more-button"
            }, {
              default: q(function() {
                return [E(l)];
              }),
              _: 1
              /* STABLE */
            })];
          }),
          default: q(function() {
            return [T("ul", wy, [(C(!0), k(
              ie,
              null,
              $e(e.state.moreData, function(c, f) {
                return C(), k("li", {
                  key: f,
                  class: W({
                    active: e.state.value === c[e.valueField],
                    "more-item": !0
                  }),
                  onClick: function(p) {
                    return e.moreNodeClick(c);
                  }
                }, j(c[e.textField]), 11, Sy);
              }),
              128
              /* KEYED_FRAGMENT */
            ))])];
          }),
          _: 1
          /* STABLE */
        })])) : P("v-if", !0), e.showEdit ? (C(), k("li", $y, [E(a, {
          onClick: t[0] || (t[0] = function(c) {
            return e.$emit("edit");
          }),
          class: "edit-button"
        }, {
          default: q(function() {
            return [E(d)];
          }),
          _: 1
          /* STABLE */
        })])) : P("v-if", !0)])) : (C(), k("ul", py, [(C(!0), k(
          ie,
          null,
          $e(e.data, function(c, f) {
            return C(), k(
              "li",
              {
                key: f,
                class: W({
                  active: e.state.value === c[e.valueField]
                })
              },
              [ae((C(), k("button", {
                class: W(e.getItemClass(c)),
                type: "button",
                tabindex: e.getItemClass(c).disabled ? "-1" : "0",
                onClick: function(p) {
                  return e.handleClick(c);
                }
              }, [de(
                j(c[e.textField]),
                1
                /* TEXT */
              )], 10, vy)), [[u, c.tip ? {
                always: !0,
                content: c.tip
              } : !1]]), c.sup ? (C(), k(
                "span",
                {
                  key: 0,
                  class: W(["tiny-group-item__sup", {
                    "tiny-group-item__sup-text": !c.sup.slot && !c.sup.icon && c.sup.text && !c.sup.tag,
                    "tiny-group-item__sup-icon": !c.sup.slot && c.sup.icon && !c.sup.tag,
                    "tiny-group-item__sup-tag": c.sup.tag
                  }, typeof c.sup.class == "string" ? c.sup.class : ""].concat(Array.isArray(c.sup.class) ? c.sup.class : []))
                },
                [c.sup.slot ? G(e.$slots, c.sup.slot, {
                  key: 0,
                  sup: c.sup
                }) : c.sup.icon ? (C(), z(Te(c.sup.icon), {
                  key: 1
                })) : c.sup.text ? (C(), k(
                  "span",
                  gy,
                  j(c.sup.text),
                  1
                  /* TEXT */
                )) : P("v-if", !0)],
                2
                /* CLASS */
              )) : P("v-if", !0)],
              2
              /* CLASS */
            );
          }),
          128
          /* KEYED_FRAGMENT */
        ))]))],
        64
        /* STABLE_FRAGMENT */
      )) : (C(), k("span", ky, [G(e.$slots, "empty", {}, function() {
        return [de(
          j(e.t("ui.buttonGroup.noData")),
          1
          /* TEXT */
        )];
      })]))];
    })],
    2
    /* CLASS */
  );
}
var _y = /* @__PURE__ */ fy(hy, [["render", Ty]]);
function Io() {
  return Io = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, Io.apply(null, arguments);
}
var Iy = function(t) {
  var n;
  return typeof process == "object" && ((n = process.env) == null || n.TINY_MODE), _y;
}, Ey = Io({}, le, {
  size: {
    type: String,
    default: "",
    validator: function(t) {
      return ["medium", "small", "mini", ""].includes(t);
    }
  },
  data: {
    type: Array,
    default: function() {
      return [];
    }
  },
  plain: Boolean,
  modelValue: [String, Number],
  disabled: Boolean,
  valueField: {
    type: String,
    default: "value"
  },
  textField: {
    type: String,
    default: "text"
  },
  showMore: Number,
  showEdit: {
    type: Boolean,
    default: !1
  },
  border: {
    type: Boolean,
    default: !0
  }
}), yn = U({
  name: te + "ButtonGroup",
  provide: function() {
    return {
      buttonGroup: this
    };
  },
  props: Ey,
  setup: function(t, n) {
    return Ie({
      props: t,
      context: n,
      template: Iy
    });
  }
}), Oy = "3.undefined";
yn.model = {
  prop: "modelValue",
  event: "update:modelValue"
};
yn.install = function(e) {
  e.component(yn.name, yn);
};
yn.version = Oy;
const My = (e) => (t, n) => {
  if (!n.disabled)
    if (n.type === "sort")
      !n.modelValue || n.modelValue === "desc" ? (n.state.sort = "asc", n.$emit("update:modelValue", "asc"), n.$emit("click", "asc")) : (n.state.sort = "desc", n.$emit("update:modelValue", "desc"), n.$emit("click", "desc"));
    else {
      const r = e.children.length === 1 && n.state.showPopup;
      e.children.forEach((o, i) => {
        i === t && !r ? o.toggle(!0) : o.state.showPopup && o.toggle(!1, { immediate: !0 });
      });
    }
}, xy = ({ props: e, state: t, vm: n }) => () => {
  if (!n.$refs.menu)
    return;
  const r = n.$refs.menu.getBoundingClientRect();
  e.direction === "down" ? t.offset = r.bottom : t.offset = window.innerHeight - r.top;
}, Dy = ({ props: e, state: t }) => () => {
  e.closeOnClickOutside && e.closeOnClickOverlay && t.children.forEach((n) => {
    n.type !== "filter" && n.toggle(!1);
  });
}, Ay = (e, t) => {
  const n = /scroll|auto/i;
  let r = e, o = window.getComputedStyle;
  for (; r && r.tagName !== "HTML" && r.nodeType === 1 && r !== t; ) {
    const { overflowY: i } = o(r);
    if (n.test(i)) {
      if (r.tagName !== "BODY")
        return r;
      const { overflowY: l } = o(r.parentNode);
      if (n.test(l))
        return r;
    }
    r = r.parentNode;
  }
  return t || null;
}, Ly = ({
  api: e,
  props: t,
  hooks: n,
  instance: r,
  state: o,
  dropdownVm: i,
  designConfig: l
}) => {
  var a, s;
  const { nextTick: d, onBeforeUnmount: u, onDeactivated: c, onMounted: f, reactive: h, toRefs: p, watch: v } = n, { emit: g, slots: m, vm: b, parent: y } = r, S = {
    placement: t.placement || ((a = l == null ? void 0 : l.props) == null ? void 0 : a.placement) || "bottom-end",
    visibleArrow: t.visibleArrow || ((s = l == null ? void 0 : l.props) == null ? void 0 : s.visibleArrow) || !1
  }, w = ci({
    emit: g,
    nextTick: d,
    onBeforeUnmount: u,
    onDeactivated: c,
    props: Ue(Ue({
      popperOptions: { boundariesPadding: 0, gpuAcceleration: !1 },
      offset: 0,
      boundariesPadding: 5
    }, t), S),
    reactive: h,
    vm: b,
    slots: m,
    toRefs: p,
    watch: v
  });
  f(() => {
    i && (w.popperElm && (i.popperElm = w.popperElm.value = b.$el, d(() => {
      w.referenceElm && (w.referenceElm.value = i.$el);
    }), !t.multiStage && i.initDomOperation()), i.inheritWidth && w.popperElm && (i.popperElm.style.minWidth = i.$el.clientWidth + "px"));
  }), u(() => {
    w.destroyPopper("remove"), w.popperElm = null, w.referenceElm = null;
  }), e.doDestroy = w.doDestroy, o.size = (i == null ? void 0 : i.size) || "", o.showPopper = w.showPopper.value, y.$on("updatePopper", () => {
    o.showPopper && w.updatePopper();
  }), y.$on("visible", (_) => {
    o.showPopper = _, w.showPopper.value = _, o.showPopper && (o.initShowPopper = !0);
  }), v(
    () => t.placement,
    (_) => {
      w.currentPlacement.value = _;
    }
  );
}, Ry = ({ api: e, parent: t, state: n }) => () => {
  t.$on("menu-selected-index", (r) => {
    n.selectedIndex = r;
  }), t.$on("menu-item-click", e.handleMenuItemClick), t.$on("mouseenter-tips", (r, o) => {
    n.label = o, n.showContent = r;
  }), t.$on("mouseleave-tips", (r, o) => {
    n.label = o, n.showContent = r;
  });
}, Vy = ({ state: e, dispatch: t }) => ({ itemData: n, vm: r, label: o, showContent: i, disabled: l }) => {
  e.label = o, e.showContent = i, t("TinyDropdown", "current-item-click", { itemData: n, vm: r, disabled: l });
}, Ny = (e) => (t) => {
  e("mouseenter", t);
}, Py = (e) => (t) => {
  e("mouseleave", t);
}, Fy = [
  "state",
  "toggleItem",
  "updateOffset",
  "clickOutside",
  "doDestroy",
  "handleMouseenter",
  "handleMouseleave"
], zy = (e, t, n) => {
  const r = {}, { reactive: o, provide: i, onMounted: l, inject: a } = t, { nextTick: s, mode: d, vm: u, parent: c, dispatch: f, emit: h, designConfig: p } = n;
  i("dropdownMenuVm", u), i("multiStage", e.multiStage);
  const v = a("dropdownVm"), g = o({
    offset: 0,
    scroller: null,
    children: [],
    size: "",
    showPopper: !1,
    initShowPopper: !v.lazyShowPopper,
    // 辅助变量,
    label: "",
    showContent: !1,
    selected: !1,
    selectedIndex: -1,
    canvasHeight: a("change-size", null)
  });
  return d === "mobile" ? s(() => {
    g.scroller = Ay(u.$refs.menu);
  }) : Ly({ api: r, hooks: t, props: e, instance: n, state: g, dropdownVm: v, designConfig: p }), Object.assign(r, {
    state: g,
    toggleItem: My(g),
    clickOutside: Dy({ props: e, state: g }),
    updateOffset: xy({ props: e, state: g, vm: u }),
    mounted: Ry({ api: r, parent: c, state: g }),
    handleMouseenter: Ny(h),
    handleMouseleave: Py(h),
    handleMenuItemClick: Vy({ dispatch: f, state: g })
  }), l(r.mounted), r;
}, Hy = (e) => () => {
  if (e.title)
    return e.title;
  const t = e.options.filter((n) => n.value === e.modelValue);
  return t.length ? t[0].text : "";
}, By = ({ api: e, parent: t }) => (n) => {
  (n ? ee : oe)(t.state.scroller, "scroll", e.onScroll, !0);
}, jy = ({ parent: e, props: t, state: n }) => (r) => {
  r !== n.showPopup && (n.transition = !t.options.immediate, n.showPopup = r, r && (e.updateOffset(), n.showWrapper = !0));
}, Wy = (e) => () => e.updateOffset(), Ky = (e) => (t) => e.$el && t.stopPropagation(), qy = ({ emit: e, props: t, state: n }) => (r) => {
  n.showPopup = !1, r !== t.modelValue && (e("update:modelValue", r), e("change", r));
}, Gy = ({ parent: e, state: t }) => () => ({
  zIndex: e.zIndex,
  top: e.direction === "down" ? t.offset + "px" : "",
  bottom: e.direction !== "down" ? t.offset + "px" : ""
}), Uy = (e) => (t, n) => n.includes(t.value) ? {
  color: e.activeColor ? e.activeColor : "#f36f64",
  border: `1px solid ${e.activeColor ? e.activeColor : "#f36f64"}`
} : {
  color: "#333"
}, Zy = ({ emit: e, state: t }) => () => {
  t.showWrapper = !1, e("closed");
}, Yy = (e) => () => e("open"), Xy = (e) => () => e("opened"), Qy = (e) => () => e("close"), Jy = ({ emit: e, props: t }) => (n, r, o) => {
  o.preventDefault(), o.stopPropagation();
  const i = t.modelValue.slice(), l = i[n], a = l.indexOf(r.value);
  a === -1 ? l.push(r.value) : l.splice(a, 1), i[n] = l, e("update:modelValue", i);
}, eb = ({ emit: e, props: t, state: n }) => () => {
  n.showPopup = !1, e("confirm", t.modelValue);
}, tb = ({ emit: e, props: t }) => () => {
  const n = t.modelValue.length, r = [];
  for (let o = 0; o < n; o++)
    r.push([]);
  e("update:modelValue", r), e("reset", r);
}, nb = (e) => () => {
  e.closeOnClickOutside && e.closeOnClickOverlay && e.state.children.forEach((t) => {
    t.toggle(!1);
  });
}, rb = ({
  state: e,
  props: t,
  dispatch: n,
  vm: r,
  emit: o
}) => (i) => {
  i.stopPropagation(), e.currentIndex = `${t.currentIndex}`;
  const l = { itemData: t.itemData, vm: r, disabled: t.disabled };
  t.disabled || o("item-click", l), n("TinyDropdown", "menu-item-click", l), n("TinyDropdown", "is-disabled", [t.disabled]), n("TinyDropdown", "selected-index", [e.currentIndex]);
}, ob = ({ constants: e, designConfig: t }) => (n = "leftWardArrow") => (t == null ? void 0 : t.icons[n]) || (e == null ? void 0 : e.ICON_MAP[n]), ib = ({ props: e, vm: t }) => () => e.tip && typeof e.tip == "function" ? e.tip({ itemData: e.itemData, vm: t }) : e.tip || "", lb = [
  "state",
  "confirm",
  "clickOutside",
  "getOptionStyle",
  "reset",
  "tagClick",
  "clickItem",
  "clickWrapper",
  "toggle",
  "open",
  "opened",
  "close",
  "closed",
  "handleClick",
  "computedTip"
], ab = ({ reactive: e, computed: t, api: n, props: r, parent: o, dropdownMenuVm: i, dropdownVm: l }) => e({
  checkedStatus: i == null ? void 0 : i.checkedStatus,
  sort: r.modelValue,
  transition: !0,
  getTitle: !1,
  showWrapper: !1,
  showPopup: !1,
  duration: o.duration,
  overlay: t(() => o.overlay),
  offset: t(() => o.state.offset),
  direction: t(() => o.direction),
  displayTitle: t(() => n.getTitle()),
  itemStyle: t(() => n.getItemStyle()),
  activeColor: t(() => o.activeColor),
  closeOnClickOverlay: t(() => o.closeOnClickOverlay),
  dropdownMenuVm: i,
  currentIndex: r.currentIndex,
  textField: (i == null ? void 0 : i.textField) || r.textField,
  popperClass: (i == null ? void 0 : i.popperClass) || "",
  sizeClass: l != null && l.size ? `tiny-dropdown-item--${l == null ? void 0 : l.size}` : "",
  getIcon: t(() => n.computedGetIcon()),
  children: [],
  computedTip: t(() => n.computedTip())
}), sb = ({ api: e, state: t, emit: n, props: r, parent: o, dispatch: i, vm: l, constants: a, designConfig: s }) => {
  Object.assign(e, {
    state: t,
    open: Yy(n),
    opened: Xy(n),
    close: Qy(n),
    getTitle: Hy(r),
    onScroll: Wy(o),
    reset: tb({ emit: n, props: r }),
    closed: Zy({ emit: n, state: t }),
    clickWrapper: Ky(o),
    clickOutside: nb(o),
    tagClick: Jy({ emit: n, props: r }),
    getOptionStyle: Uy(t),
    toggle: jy({ parent: o, props: r, state: t }),
    clickItem: qy({ emit: n, props: r, state: t }),
    getItemStyle: Gy({ parent: o, state: t }),
    bindScroll: By({ api: e, parent: o }),
    confirm: eb({ emit: n, props: r, state: t }),
    handleClick: rb({ state: t, props: r, dispatch: i, vm: l, emit: n }),
    computedGetIcon: ob({ constants: a, designConfig: s }),
    computedTip: ib({ props: r, vm: l })
  });
}, db = (e, { computed: t, onMounted: n, reactive: r, watch: o, inject: i }, { parent: l, emit: a, vm: s, dispatch: d, constants: u, designConfig: c }) => {
  const f = {}, h = i("dropdownMenuVm", null), p = i("dropdownVm", null), v = ab({ reactive: r, computed: t, api: f, props: e, parent: l, dropdownMenuVm: h, dropdownVm: p });
  return sb({ api: f, state: v, emit: a, props: e, parent: l, dispatch: d, vm: s, constants: u, designConfig: c }), o(() => v.showPopup, f.bindScroll), n(() => {
    const g = l.$parent.$parent || {};
    g.state && g.state.children ? g.state.children.push(s) : h && (h.state.children = [...h.state.children, s]), e.disabled && (v.checkedStatus = !1);
  }), f;
};
function ub(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = cb(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function cb(e, t) {
  if (e) {
    if (typeof e == "string") return Pi(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Pi(e, t) : void 0;
  }
}
function Pi(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var fb = function(t, n) {
  for (var r = t.__vccOpts || t, o = ub(n), i; !(i = o()).done; ) {
    var l = i.value, a = l[0], s = l[1];
    r[a] = s;
  }
  return r;
}, hb = U({
  name: te + "DropdownItem",
  componentName: te + "DropdownItem",
  directives: {
    AutoTip: _n
  },
  emits: ["item-click", "update:modelValue", "change", "closed", "open", "opened", "close", "confirm", "reset"],
  props: [].concat(Ne, [
    "disabled",
    "divided",
    "icon",
    "itemData",
    "selected",
    "currentIndex",
    "title",
    "titleClass",
    "options",
    "type",
    "label",
    "selectedField",
    "multiStage",
    // tiny新增
    "appendToBody",
    "textField",
    "tip",
    "tipPosition",
    "effect",
    "isMono"
  ]),
  components: {
    IconLeftWardArrow: kp()
  },
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: db,
      api: lb,
      mono: t.isMono
    });
  }
}), pb = ["aria-disabled", "tabindex"], vb = {
  class: "tiny-dropdown-item__wrap"
}, gb = {
  key: 0,
  class: "tiny-dropdown-item__expand tiny-dropdown-menu__item-expand"
}, mb = {
  class: "tiny-dropdown-item__content tiny-dropdown-menu__item-content"
}, yb = {
  class: "tiny-dropdown-item__label"
};
function bb(e, t, n, r, o, i) {
  var l = K("tiny-dropdown-item"), a = Qe("auto-tip");
  return ae((C(), k("li", {
    class: W(["tiny-dropdown-item", "tiny-dropdown-menu__item", e.state.sizeClass, e.disabled ? "is-disabled" : "", e.divided ? "tiny-dropdown-item--divided tiny-dropdown-menu__item--divided" : "", e.state.checkedStatus && e.selected ? "tiny-dropdown-item--check-status" : "", e.itemData.children && e.itemData.children.length ? "has-children" : ""]),
    ref: "dropdownItem",
    onClick: t[0] || (t[0] = X(function() {
      return e.handleClick && e.handleClick.apply(e, arguments);
    }, ["stop"])),
    onMousedown: t[1] || (t[1] = X(function() {
    }, ["stop"])),
    "aria-disabled": e.disabled,
    tabindex: e.disabled ? null : -1
  }, [T("div", vb, [e.itemData.children && e.itemData.children.length ? (C(), k("span", gb, [(C(), z(Te(e.state.getIcon)))])) : P("v-if", !0), T("div", mb, [e.icon ? (C(), z(Te(e.icon), {
    key: 0,
    class: "tiny-svg-size tiny-dropdown-item__pre-icon"
  })) : P("v-if", !0), T("span", yb, [G(e.$slots, "default", {
    itemData: e.itemData
  }, function() {
    return [T(
      "span",
      null,
      j(e.label),
      1
      /* TEXT */
    )];
  })])]), e.itemData.children && e.itemData.children.length ? (C(), k(
    "ul",
    {
      key: 1,
      class: W(["tiny-dropdown-menu", "tiny-dropdown-item--child tiny-dropdown-menu__item--child", e.state.popperClass])
    },
    [(C(!0), k(
      ie,
      null,
      $e(e.itemData.children, function(s, d) {
        return C(), z(l, {
          key: d,
          label: s[e.state.textField],
          "item-data": s,
          _constants: e._constants,
          icon: s.icon,
          "is-mono": !0,
          disabled: s.disabled,
          divided: s.divided,
          tip: s.tip,
          "tip-position": s.tipPosition
        }, {
          default: q(function() {
            return [G(e.$slots, "default", {
              itemData: s
            })];
          }),
          _: 2
          /* DYNAMIC */
        }, 1032, ["label", "item-data", "_constants", "icon", "disabled", "divided", "tip", "tip-position"]);
      }),
      128
      /* KEYED_FRAGMENT */
    ))],
    2
    /* CLASS */
  )) : P("v-if", !0)])], 42, pb)), [[a, e.state.computedTip ? {
    always: !0,
    content: e.state.computedTip,
    effect: e.effect,
    placement: e.tipPosition
  } : !1]]);
}
var Kr = /* @__PURE__ */ fb(hb, [["render", bb]]);
function Eo() {
  return Eo = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, Eo.apply(null, arguments);
}
var Cb = function(t) {
  var n, r = typeof process == "object" ? (n = process.env) == null ? void 0 : n.TINY_MODE : null;
  return Kr;
}, wb = {
  ICON_MAP: {
    leftWardArrow: "icon-left-ward-arrow"
  }
}, Sb = Eo({}, le, {
  _constants: {
    type: Object,
    default: function() {
      return wb;
    }
  },
  icon: [String, Object],
  disabled: Boolean,
  divided: Boolean,
  itemData: {
    type: [String, Object],
    default: ""
  },
  title: String,
  label: String,
  level: String,
  titleClass: String,
  options: {
    type: Array,
    default: function() {
      return [];
    }
  },
  // mobile 属性，可选值 selection | filter | sort
  type: {
    type: String,
    default: "selection"
  },
  // 是否选中，勾选状态功能
  selected: {
    type: Boolean,
    default: !1
  },
  // 暂没找到使用的地方
  selectedField: {
    type: String,
    default: "selected"
  },
  // 暂没找到使用的地方
  multiStage: {
    type: Boolean,
    default: !1
  },
  currentIndex: {
    type: Number,
    default: function() {
      return -1;
    }
  },
  tooltipContent: {
    type: String,
    default: ""
  },
  // 以下为 tiny 新增
  appendToBody: {
    type: Boolean,
    default: !0
  },
  textField: {
    type: String,
    default: "label"
  },
  tip: {
    type: [String, Function],
    default: ""
  },
  tipPosition: {
    type: String,
    default: "right"
  },
  effect: {
    type: String,
    default: "light"
  }
}), Tt = U({
  name: te + "DropdownItem",
  componentName: "TinyDropdownItem",
  props: Sb,
  setup: function(t, n) {
    return Ie({
      props: t,
      context: n,
      template: Cb
    });
  }
}), $b = "3.undefined";
Tt.model = {
  prop: "modelValue",
  event: "update:modelValue"
};
Tt.install = function(e) {
  e.component(Tt.name, Tt);
};
Tt.version = $b;
function kb(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = Tb(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function Tb(e, t) {
  if (e) {
    if (typeof e == "string") return Fi(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Fi(e, t) : void 0;
  }
}
function Fi(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var _b = function(t, n) {
  for (var r = t.__vccOpts || t, o = kb(n), i; !(i = o()).done; ) {
    var l = i.value, a = l[0], s = l[1];
    r[a] = s;
  }
  return r;
}, Ib = U({
  components: {
    TinyDropdownItem: Tt
  },
  emits: ["mouseenter", "mouseleave", "click", "update:modelValue", "created"],
  props: [].concat(Ne, [
    "visibleArrow",
    "arrowOffset",
    "placement",
    "popperClass",
    "popperAppendToBody",
    "checkedStatus",
    // tiny 新增
    "textField",
    "options"
  ]),
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: zy,
      api: Fy
    });
  }
});
function Eb(e, t, n, r, o, i) {
  var l = K("tiny-dropdown-item");
  return C(), z(Ot, {
    name: "tiny-zoom-in-top",
    onAfterLeave: e.doDestroy,
    persisted: ""
  }, {
    default: q(function() {
      return [ae(T(
        "ul",
        {
          class: W(["tiny-dropdown-menu tiny-popper", [e.state.size && "tiny-dropdown-menu--" + e.state.size, e.popperClass]]),
          onMouseenter: t[0] || (t[0] = function() {
            return e.handleMouseenter && e.handleMouseenter.apply(e, arguments);
          }),
          onMouseleave: t[1] || (t[1] = function() {
            return e.handleMouseleave && e.handleMouseleave.apply(e, arguments);
          })
        },
        [e.state.initShowPopper || e.state.showPopper ? G(e.$slots, "default", {
          key: 0,
          selectedIndex: e.state.selectedIndex
        }, function() {
          return [(C(!0), k(
            ie,
            null,
            $e(e.options, function(a, s) {
              return C(), z(l, {
                "item-data": a,
                label: a[e.textField],
                key: s,
                icon: a.icon,
                disabled: a.disabled,
                divided: a.divided,
                tip: a.tip,
                "tip-position": a.tipPosition
              }, null, 8, ["item-data", "label", "icon", "disabled", "divided", "tip", "tip-position"]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))];
        }) : P("v-if", !0)],
        34
        /* CLASS, NEED_HYDRATION */
      ), [[De, e.state.showPopper]])];
    }),
    _: 3
    /* FORWARDED */
  }, 8, ["onAfterLeave"]);
}
var qr = /* @__PURE__ */ _b(Ib, [["render", Eb]]);
function Oo() {
  return Oo = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, Oo.apply(null, arguments);
}
var Ob = function(t) {
  var n, r = typeof process == "object" ? (n = process.env) == null ? void 0 : n.TINY_MODE : null;
  return qr;
}, Mb = Oo({}, le, {
  multiStage: {
    type: Boolean,
    default: !1
  },
  checkedStatus: {
    type: Boolean,
    default: !1
  },
  visibleArrow: Boolean,
  arrowOffset: {
    type: Number,
    default: 0
  },
  placement: String,
  // 默认主题 'bottom-end'
  popperClass: String,
  popperAppendToBody: {
    type: Boolean,
    default: !0
  },
  activeColor: String,
  closeOnClickOutside: {
    type: Boolean,
    default: !0
  },
  closeOnClickOverlay: {
    type: Boolean,
    default: !0
  },
  direction: {
    type: String,
    default: "down"
  },
  duration: {
    type: [Number, String],
    default: 0.2
  },
  overlay: {
    type: Boolean,
    default: !0
  },
  zIndex: [Number, String],
  maxHeight: {
    type: [Number, String],
    default: "400"
  },
  // tiny新增
  options: {
    type: Array,
    default: function() {
      return [];
    }
  },
  textField: {
    type: String,
    default: "label"
  }
}), _t = U({
  name: te + "DropdownMenu",
  componentName: te + "DropdownMenu",
  props: Mb,
  setup: function(t, n) {
    return Ie({
      props: t,
      context: n,
      template: Ob
    });
  }
}), xb = "3.undefined";
_t.install = function(e) {
  e.component(_t.name, _t);
};
_t.version = xb;
function Mo() {
  return Mo = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, Mo.apply(null, arguments);
}
var Gr = /* @__PURE__ */ U({
  name: te + "Dropdown",
  componentName: "TinyDropdown",
  components: {
    TinyButton: Be,
    TinyButtonGroup: yn,
    TinyDropdownMenu: _t,
    IconDownWard: Hn()
  },
  directives: Dn({
    Clickoutside: sr
  }),
  props: Mo({}, le, {
    type: String,
    trigger: String,
    // tiny新增
    visible: {
      type: [Boolean, void 0],
      default: void 0
    },
    size: {
      type: String,
      default: ""
    },
    disabled: {
      type: Boolean,
      default: !1
    },
    splitButton: Boolean,
    showTimeout: {
      type: Number,
      default: 250
    },
    hideTimeout: {
      type: Number,
      default: 150
    },
    hideOnClick: {
      type: Boolean,
      default: !0
    },
    tabindex: {
      type: Number,
      default: 0
    },
    border: {
      type: Boolean,
      default: !1
    },
    round: {
      type: Boolean,
      default: !1
    },
    showIcon: {
      type: Boolean,
      default: !0
    },
    menuOptions: {
      type: Object,
      default: function() {
        return {
          options: [],
          textField: "label",
          popperClass: "",
          placement: "bottom-end"
        };
      }
    },
    title: {
      type: String,
      default: "下拉菜单"
      // TINY-TODO: 国际化
    },
    inheritWidth: {
      type: Boolean,
      default: !1
    },
    suffixIcon: Object,
    prefixIcon: Object,
    lazyShowPopper: {
      type: Boolean,
      default: !1
    }
  }),
  emits: ["visible-change", "item-click", "button-click", "menu-item-click", "handle-click", "is-disabled", "selected-index", "update:visible"],
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: wm,
      api: Cm
    });
  },
  render: function() {
    var t, n, r, o, i = this.splitButton, l = this.type, a = this.disabled, s = this.handleMainButtonClick, d = this.menuOptions, u = this.title, c = this.suffixIcon, f = this.prefixIcon, h = this.slots, p = this.size, v = this.state, g = this.border, m = this.showIcon, b = this.round, y = this.clickOutside, S = this.visible, w = {
      visible: v.visible
    }, _ = null, $ = "tiny-dropdown__trigger tiny-dropdown-trigger", I = v.visibleIsBoolean ? S : v.visible, A = I ? "tiny-dropdown--visible tiny-dropdown-visible" : "", x = c || ((t = v.designConfig) == null || (n = t.icons) == null ? void 0 : n.dropdownIcon) || Hn(), D = f, R = ((r = v.designConfig) == null || (o = r.icons) == null ? void 0 : o.dropdownIcon) || Hn(), O = h.default && h.default(w);
    if (i)
      _ = E(K("tiny-button-group"), null, {
        default: function() {
          return [E(K("tiny-button"), {
            type: l,
            size: p,
            onClick: s,
            disabled: a,
            class: "tiny-dropdown__title-button"
          }, {
            default: function() {
              return [O || E("span", null, [u])];
            }
          }), E(K("tiny-button"), {
            ref: "trigger",
            type: l,
            size: p,
            class: "tiny-dropdown__caret-button " + $,
            disabled: a,
            "reset-time": 0
          }, {
            default: function() {
              return [E(R, {
                class: A
              }, null)];
            }
          })];
        }
      });
    else {
      var L, M = h["suffix-icon"] && h["suffix-icon"](), V = h["prefix-icon"] && h["prefix-icon"](), B = O && ((L = O[0]) == null ? void 0 : L.data) || {}, H = B.attrs, Y = H === void 0 ? {} : H;
      a && !Y.disabled && (Y.disabled = !0, B.attrs = Y);
      var re = m ? E("span", {
        class: "tiny-dropdown__suffix-inner " + A
      }, [M || E(x, null, null)]) : "", ue = f || V ? E("span", {
        class: "tiny-dropdown__prefix-inner " + A
      }, [V || E(D, null, null)]) : "", ne = O || u ? E("span", {
        class: "tiny-dropdown__title"
      }, [O || u]) : null;
      _ = g ? E(K("tiny-button"), {
        ref: "trigger",
        round: b,
        size: p,
        disabled: a,
        type: l,
        class: "tiny-dropdown__border " + (v.visible ? "is-expand" : "") + (m ? " is-show-icon " : "") + " " + $,
        "reset-time": 0
      }, {
        default: function() {
          return [ue, ne, re];
        }
      }) : E("span", {
        ref: "trigger",
        class: "is-text" + (v.visible ? " is-expand" : " is-hide") + (a ? " is-disabled" : "") + " " + $
      }, [ue, ne, re]);
    }
    var se = E(K("tiny-dropdown-menu"), {
      options: d.options,
      "text-field": d.textField || d["text-field"],
      "popper-class": d.popperClass || d["popper-class"],
      placement: d.placement
    }, null), he = a ? null : h.dropdown && h.dropdown() || se;
    return ae(E("div", {
      class: "tiny-dropdown",
      "aria-disabled": a
    }, [_, he]), [[Qe("clickoutside"), !v.visibleIsBoolean && y]]);
  }
});
function xo() {
  return xo = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, xo.apply(null, arguments);
}
var Db = function(t) {
  var n, r = typeof process == "object" ? (n = process.env) == null ? void 0 : n.TINY_MODE : null;
  return Gr;
}, Ab = xo({}, le, {
  modelValue: [String, Number],
  // tiny新增
  visible: {
    type: [Boolean, void 0],
    default: void 0
  },
  type: String,
  trigger: String,
  // 默认主题为 'hover'
  size: {
    type: String,
    default: ""
  },
  disabled: {
    type: Boolean,
    default: !1
  },
  splitButton: Boolean,
  singleButton: {
    type: Boolean,
    default: !1
  },
  showTimeout: {
    type: Number,
    default: 250
  },
  hideTimeout: {
    type: Number,
    default: 150
  },
  hideOnClick: {
    type: Boolean,
    default: !0
  },
  tabindex: {
    type: Number,
    default: 0
  },
  border: {
    type: Boolean,
    default: !1
  },
  round: {
    type: Boolean,
    default: !1
  },
  showIcon: {
    type: Boolean,
    default: !0
  },
  showSelfIcon: {
    type: Boolean,
    default: !1
  },
  // tiny新增
  menuOptions: {
    type: Object,
    default: function() {
      return {
        options: [],
        textField: "label",
        popperClass: "",
        placement: "bottom-end"
      };
    }
  },
  title: {
    type: String,
    default: "下拉菜单"
  },
  inheritWidth: {
    type: Boolean,
    default: !1
  },
  suffixIcon: Object,
  lazyShowPopper: {
    type: Boolean,
    default: !1
  }
}), Pt = U({
  name: te + "Dropdown",
  componentName: "TinyDropdown",
  props: Ab,
  setup: function(t, n) {
    return Ie({
      props: t,
      context: n,
      template: Db
    });
  }
}), Lb = "3.undefined";
Pt.install = function(e) {
  e.component(Pt.name, Pt);
};
Pt.version = Lb;
const Rb = (e) => (t, n) => {
  const r = {};
  let o = 0, i = 0;
  const l = ~[mt.Top, mt.Bottom].indexOf(n.rootTabs.position) ? "width" : "height", a = l === "width" ? "x" : "y";
  t.tabs && t.tabs.length && t.tabs.every(({ state: d }) => {
    const u = e.$refs[`tabs-${d.paneName}`];
    if (!u)
      return !1;
    const c = u.getBoundingClientRect()[l], f = parseFloat(window.getComputedStyle(u).marginRight);
    if (d.active) {
      const h = u.cloneNode(!0), p = window.getComputedStyle(h);
      if (i = c, i === 0)
        document.body.appendChild(h), i = parseFloat(p.width) - parseFloat(p.paddingLeft) - parseFloat(p.paddingRight), document.body.removeChild(h);
      else if (l === "width")
        return document.body.appendChild(h), i -= parseFloat(p.paddingRight), document.body.removeChild(h), !1;
    } else {
      if (u.getBoundingClientRect().width === 0) {
        const h = u.cloneNode(!0);
        document.body.appendChild(h);
        const p = window.getComputedStyle(h);
        o += parseFloat(p[l]) - parseFloat(p.marginRight), document.body.removeChild(h);
      } else
        o += l === "height" ? c : c + f;
      return !0;
    }
  });
  const s = `translate${sn(a)}(${o}px)`;
  return r[l] = n.separator ? "" : i + "px", r.transform = s, r.msTransform = s, r.webkitTransform = s, r;
}, Vb = ["state", "computedBarStyle"], Nb = (e, { inject: t, reactive: n }, { parent: r }) => ({
  state: n({
    rootTabs: t("rootTabs"),
    barStyle: {},
    separator: t("separator", null)
  }),
  computedBarStyle: Rb(r)
});
function Pb(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = Fb(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function Fb(e, t) {
  if (e) {
    if (typeof e == "string") return zi(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? zi(e, t) : void 0;
  }
}
function zi(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var Fa = function(t, n) {
  for (var r = t.__vccOpts || t, o = Pb(n), i; !(i = o()).done; ) {
    var l = i.value, a = l[0], s = l[1];
    r[a] = s;
  }
  return r;
};
function Kt() {
  return Kt = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, Kt.apply(null, arguments);
}
var zb = U({
  name: te + "TabDropdownItem",
  components: {
    TinyDropdownItem: Tt
  },
  props: Kt({}, le, {
    itemClick: {
      type: Function
    }
  })
});
function Hb(e, t, n, r, o, i) {
  var l = K("tiny-dropdown-item");
  return C(), z(l, {
    onClick: e.itemClick
  }, {
    default: q(function() {
      return [G(e.$slots, "default")];
    }),
    _: 3
    /* FORWARDED */
  }, 8, ["onClick"]);
}
var Hi = /* @__PURE__ */ Fa(zb, [["render", Hb]]), Bb = Kt({}, le, {
  panes: {
    type: Array,
    default: function() {
      return [];
    }
  },
  currentName: String,
  editable: Boolean,
  overflowTitle: Boolean,
  onTabClick: {
    type: Function,
    default: function() {
    }
  },
  onTabRemove: {
    type: Function,
    default: function() {
    }
  },
  tabStyle: String,
  stretch: Boolean,
  showMoreTabs: Boolean,
  showPanesCount: Number,
  popperClass: String,
  popperAppendToBody: {
    type: Boolean,
    default: !0
  },
  dropConfig: {
    type: Object,
    default: function() {
      return null;
    }
  },
  titleWidth: {
    type: String,
    default: "256px"
  },
  // tiny 新增
  tooltipConfig: [String, Object],
  panelMaxHeight: String,
  panelWidth: String
});
Kt({}, le);
var jb = Kt({}, le, {
  tabs: Array
}), Wb = /* @__PURE__ */ U({
  name: te + "TabBar",
  props: jb,
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: Nb,
      api: Vb,
      mono: !0
    });
  }
});
function Kb(e, t, n, r, o, i) {
  return C(), k(
    "div",
    {
      style: ke(e.state.barStyle),
      class: W(["is-" + e.state.rootTabs.position, e.state.separator ? "" : "tiny-tabs__active-bar"])
    },
    null,
    6
    /* CLASS, STYLE */
  );
}
var Bi = /* @__PURE__ */ Fa(Wb, [["render", Kb]]), ji = /* @__PURE__ */ U({
  name: te + "TabNav",
  components: {
    TabBar: Bi,
    Dropdown: Pt,
    DropdownMenu: _t,
    TabDropdownItem: Hi,
    Tooltip: $t,
    IconChevronLeft: Ta(),
    IconChevronRight: Rr(),
    IconClose: dn()
  },
  props: Bb,
  inject: ["moreIcon"],
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: tm,
      api: em,
      mono: !0
    });
  },
  render: function() {
    var t = this.state, n = this.tabStyle, r = this.editable, o = this.stretch, i = this.showPanesCount, l = this.onTabClick, a = this.onTabRemove, s = this.scrollNext, d = this.scrollPrev, u = this.changeTab, c = this.setFocus, f = this.removeFocus, h = this.showMoreTabs, p = this.popperClass, v = this.overflowTitle, g = this.titleWidth, m = this.handleTitleMouseenter, b = this.handleTitleMouseleave, y = this.moreIcon, S = this.tooltipConfig, w = this.panelMaxHeight, _ = this.panelWidth, $ = this.panes, I = [E("span", {
      class: ["tiny-tabs__nav-prev", t.scrollable.prev ? "" : "is-disabled"],
      onClick: d
    }, [E(K("IconChevronLeft"), null, null)]), h ? null : E("span", {
      class: ["tiny-tabs__nav-next", t.scrollable.next ? "" : "is-disabled"],
      onClick: s
    }, [E(K("IconChevronRight"), null, null)])], A = t.scrollable ? I : null, x = null;
    if (h && t.scrollable) {
      var D = function() {
        return y ? E("span", {
          class: "tiny-tabs__more-icon"
        }, [y() || lt("ui.tabs.moreItem")]) : E("span", {
          class: "tiny-tabs__more"
        }, [lt("ui.tabs.moreItem")]);
      }, R = $.slice(i), O = i !== -1 && !!R.length, L = function() {
        return O ? R.map(function(Y, re) {
          var ue = Y.name || Y.state.index || re, ne = Y.$slots.title || Y.title;
          return Y.state.index = "" + (re + i), F(Hi, {
            class: "tiny-tabs__more-item",
            attrs: {
              itemClick: function(he) {
                f(), l(Y, ue, he);
              }
            }
          }, [typeof ne == "function" ? ne() : ne]);
        }) : null;
      }, M = function() {
        return O ? F(_t, {
          attrs: {
            popperClass: "tiny-tabs-dropdown tiny-tabs__more-dropdown" + (p ? " " + p : ""),
            placement: "bottom-start",
            style: {
              maxHeight: w,
              width: _
            }
          },
          scopedSlots: {
            default: L
          }
        }) : null;
      };
      x = E("div", {
        class: "tiny-tabs__more-container",
        ref: "more"
      }, [O ? F(Pt, {
        attrs: {
          trigger: "hover"
        },
        scopedSlots: {
          default: D,
          dropdown: M
        }
      }) : D()]);
    }
    var V = $.map(function(H, Y) {
      var re, ue = H.name || H.state.index || Y, ne = H.state.isClosable || r;
      H.state.index = "" + Y;
      var se = ne ? E("span", {
        class: "tiny-tabs__icon-close"
      }, [E(K("IconClose"), {
        onClick: function(He) {
          a(H, He);
        }
      }, null)]) : null, he = function(He) {
        return F("span", {
          class: {
            "tiny-tabs__item-title": !0
          },
          style: {
            "max-width": g
          },
          on: {
            mouseenter: function(dt) {
              m(dt, He);
            },
            mouseleave: function(dt) {
              b(dt);
            }
          }
        }, [He]);
      }, me = function() {
        return S === "title" ? F("span", {
          class: "tiny-tabs__item__title",
          attrs: {
            title: H.title
          }
        }, [H.title]) : F($t, {
          class: "tiny-tabs__item__title",
          props: Kt({
            content: H.title
          }, S)
        }, [F("span", {}, [H.title])]);
      }, we = function() {
        return S ? me() : F("span", {
          class: "tiny-tabs__item__title"
        }, [H.title]);
      }, ye = E("span", {
        class: "tiny-tabs__item-separator"
      }, null), Pe = H.$slots.title ? H.$slots.title() : we(), wt = H.state.active ? 0 : -1;
      return F("div", {
        ref: "tabs-" + ue,
        key: "tab-" + ue + "-" + Y,
        class: (re = {
          "tiny-tabs__item": !0,
          "tiny-tabs__item-separator-space": t.separator
        }, re["is-" + t.rootTabs.position] = !0, re["is-active"] = H.state.active, re["is-disabled"] = H.disabled, re["is-closable"] = ne, re["is-focus"] = t.isFocus, re),
        attrs: {
          id: "tab-" + ue,
          "aria-controls": "pane-" + ue,
          "data-index": Y + 1,
          role: "tab",
          "aria-selected": H.state.active,
          tabindex: wt,
          refInFor: !0
        },
        on: {
          focus: function() {
            c();
          },
          blur: function() {
            f();
          },
          click: function(He) {
            f(), l(H, ue, He);
          },
          keydown: function(He) {
            ne && (He.keyCode === 46 || He.keyCode === 8) && a(H, He);
          }
        }
      }, [v ? he(Pe) : Pe, se, (t.separator || n === "button-card") && ye]);
    }), B = this.$refs.more ? this.$refs.more.offsetWidth + "px" : "0";
    return E("div", {
      style: h ? {
        paddingRight: B
      } : {},
      class: ["tiny-tabs__nav-wrap", !t.separator && "tiny-tabs__nav-wrap-not-separator", t.scrollable ? "is-scrollable" : "", h ? "is-show-more" : "", "is-" + t.rootTabs.position]
    }, [[A, x], E("div", {
      class: ["tiny-tabs__nav-scroll"],
      ref: "navScroll"
    }, [E("div", {
      class: ["tiny-tabs__nav", "is-" + t.rootTabs.position, o && ["top", "bottom"].includes(t.rootTabs.position) ? "is-stretch" : "", n ? "" : "is-show-active-bar"],
      ref: "nav",
      style: t.navStyle,
      role: "tablist",
      "on-keydown": u
    }, [n ? null : E(Bi, {
      ref: "tabBar",
      tabs: $
    }, null), V])]), v ? E($t, {
      ref: "tooltip",
      modelValue: t.tooltipVisible,
      "onUpdate:modelValue": function(Y) {
        return t.tooltipVisible = Y;
      },
      manual: !0,
      effect: "light",
      content: t.tooltipContent,
      placement: "top"
    }, null) : null]);
  }
}), Ur = /* @__PURE__ */ U({
  emits: ["add", "click", "close", "edit", "update:modelValue", "tab-nav-update", "tab-drag-start", "tab-drag-over", "tab-drag-end"],
  props: [].concat(Ne, ["tabStyle", "activeName", "withClose", "withAdd", "size", "modelValue", "editable", "position", "beforeLeave", "stretch", "showMoreTabs", "popperClass", "popperAppendToBody", "dropConfig", "tooltipConfig", "separator", "beforeClose", "overflowTitle", "titleWidth", "moreShowAll", "panelMaxHeight", "panelWidth"]),
  components: {
    TabNav: ji,
    IconPlus: Rf()
  },
  provide: function() {
    return {
      moreIcon: this.$slots.moreIcon
    };
  },
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: Eg,
      api: Tg
    });
  },
  render: function() {
    var t = this, n, r = this.state, o = this.tabStyle, i = this.handleTabClick, l = this.handleTabRemove, a = this.handleTabAdd, s = this.handleTabDragStart, d = this.handleTabDragOver, u = this.handleTabDragEnd, c = this.editable, f = this.withAdd, h = this.position, p = this.size, v = this.stretch, g = this.showMoreTabs, m = this.popperClass, b = this.popperAppendToBody, y = this.dropConfig, S = this.tooltipConfig, w = this.overflowTitle, _ = this.titleWidth, $ = this.panelMaxHeight, I = this.panelWidth, A = c || f ? E("span", {
      class: "tiny-tabs__new-tab",
      onClick: a,
      tabindex: "0",
      onKeydown: function(M) {
        M.keyCode === 13 && a();
      }
    }, [E(K("icon-plus"), null, null)]) : null, x = {
      props: {
        currentName: r.currentName,
        panes: r.panes,
        onTabClick: i,
        onTabRemove: l,
        showPanesCount: r.showPanesCount,
        editable: c,
        tabStyle: o,
        size: p,
        stretch: v,
        showMoreTabs: g,
        popperClass: m,
        popperAppendToBody: b,
        dropConfig: y,
        tooltipConfig: S,
        overflowTitle: w,
        titleWidth: _,
        separator: r.separator,
        panelMaxHeight: $,
        panelWidth: I
      },
      on: {
        "tab-drag-start": s,
        "tab-drag-over": d,
        "tab-drag-end": u
      },
      ref: "nav"
    }, D = F(ji, Kt({}, x));
    this.$nextTick(function() {
      t.$refs.nav && t.$refs.nav.$forceUpdate();
    });
    var R = E("div", {
      class: ["tiny-tabs__header", "is-" + h]
    }, [D, A]), O = E("div", {
      class: "tiny-tabs__content"
    }, [this.slots.default && this.slots.default()]);
    return E("div", {
      class: (n = {
        "tiny-tabs": !0,
        "tiny-tabs--card": o === "card"
      }, n["tiny-tabs--" + (r.separator ? "top" : h)] = !0, n["tiny-tabs--border-card"] = o === "border-card", n["tiny-tabs--button-card"] = o === "button-card", n["tiny-tabs--small"] = p === "small", n["tiny-tabs--large"] = p === "large", n)
    }, [h !== "bottom" ? [R, O] : [O, R]]);
  }
});
function Do() {
  return Do = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, Do.apply(null, arguments);
}
var qb = function(t) {
  var n, r = typeof process == "object" ? (n = process.env) == null ? void 0 : n.TINY_MODE : null;
  return Ur;
}, Gb = {
  TAB_ITEM: "TabItem"
}, Ub = Do({}, le, {
  _constants: {
    type: Object,
    default: function() {
      return Gb;
    }
  },
  tabStyle: String,
  activeName: String,
  withClose: Boolean,
  withAdd: Boolean,
  size: String,
  activeColor: {
    type: String,
    default: ""
  },
  modelValue: {},
  editable: Boolean,
  position: {
    type: String,
    default: "top"
  },
  beforeLeave: Function,
  stretch: Boolean,
  showMoreTabs: Boolean,
  swipeable: {
    type: Boolean,
    default: !1
  },
  popperClass: String,
  popperAppendToBody: {
    type: Boolean,
    default: !0
  },
  dropConfig: {
    type: Object,
    default: function() {
      return null;
    }
  },
  separator: Boolean,
  // tiny 新增
  showExpandTabs: Boolean,
  expandTabsTitle: String,
  expandTabsMode: String,
  tooltipConfig: [String, Object],
  optimized: {
    type: Boolean,
    default: !0
  },
  beforeClose: Function,
  overflowTitle: Boolean,
  titleWidth: String,
  // tiny 新增
  moreShowAll: Boolean,
  panelMaxHeight: String,
  panelWidth: String
}), bn = U({
  name: te + "Tabs",
  props: Ub,
  setup: function(t, n) {
    return Ie({
      props: t,
      context: n,
      template: qb
    });
  }
}), Zb = "3.undefined";
bn.model = {
  prop: "modelValue",
  event: "update:modelValue"
};
bn.install = function(e) {
  e.component(bn.name, bn);
};
bn.version = Zb;
const Yb = ({ rootTabs: e, props: t }) => () => t.withClose || e.withClose, Xb = ({ nextTick: e, props: t, state: n }) => () => {
  const r = n.rootTabs.state.currentName === (t.name || n.index);
  return r ? (n.loaded = !0, e(() => {
    n.animateShow = !0;
  })) : n.animateShow = !1, r;
}, Qb = ({ props: e, state: t }) => () => e.name || t.index, Jb = (e) => () => e.$emit("tab-nav-update"), e1 = ["state"], t1 = (e, { computed: t, inject: n, reactive: r, watch: o }, { parent: i, nextTick: l }) => {
  const a = n("rootTabs"), s = {
    watchTitle: Jb(i),
    computedIsClosable: Yb({ rootTabs: a, props: e })
  }, d = r({
    index: null,
    loaded: !1,
    animateShow: !0,
    rootTabs: a,
    active: t(() => s.computedActive()),
    paneName: t(() => s.computedPaneName()),
    isClosable: t(() => s.computedIsClosable())
  });
  return Object.assign(s, {
    state: d,
    computedActive: Xb({ nextTick: l, props: e, state: d }),
    computedPaneName: Qb({ props: e, state: d })
  }), o(() => e.title, s.watchTitle), s;
};
function n1(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = r1(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function r1(e, t) {
  if (e) {
    if (typeof e == "string") return Wi(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Wi(e, t) : void 0;
  }
}
function Wi(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var o1 = function(t, n) {
  for (var r = t.__vccOpts || t, o = n1(n), i; !(i = o()).done; ) {
    var l = i.value, a = l[0], s = l[1];
    r[a] = s;
  }
  return r;
}, i1 = U({
  name: te + "TabItem",
  componentName: "TabItem",
  emits: ["tab-nav-update"],
  props: {
    title: String,
    name: String,
    withClose: Boolean,
    disabled: Boolean,
    lazy: Boolean
  },
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: t1,
      api: e1
    });
  }
}), l1 = ["aria-hidden", "id", "aria-labelledby"];
function a1(e, t, n, r, o, i) {
  return !e.lazy || e.state.loaded || e.state.active ? ae((C(), k("div", {
    key: 0,
    "aria-hidden": !e.state.active,
    id: "pane-" + e.state.paneName,
    "aria-labelledby": "tab-" + e.state.paneName,
    class: W(["tiny-tab-pane", e.state.animateShow ? "active-item" : ""]),
    role: "tabpanel"
  }, [G(e.$slots, "default")], 10, l1)), [[De, e.state.active]]) : P("v-if", !0);
}
var Zr = /* @__PURE__ */ o1(i1, [["render", a1]]);
function Ao() {
  return Ao = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, Ao.apply(null, arguments);
}
var s1 = function(t) {
  var n, r = typeof process == "object" ? (n = process.env) == null ? void 0 : n.TINY_MODE : null;
  return Zr;
}, d1 = {}, u1 = Ao({}, le, {
  _constants: {
    type: Object,
    default: function() {
      return d1;
    }
  },
  title: String,
  name: String,
  withClose: Boolean,
  disabled: Boolean,
  lazy: Boolean,
  selected: Boolean,
  renderTitle: Function,
  renderSetting: Function
}), Cn = U({
  name: te + "TabItem",
  componentName: "TabItem",
  props: u1,
  setup: function(t, n) {
    return Ie({
      props: t,
      context: n,
      template: s1
    });
  }
}), c1 = "3.undefined";
Cn.install = function(e) {
  e.component(Cn.name, Cn);
};
Cn.version = c1;
let hi;
const f1 = (e, t, n) => {
  const { hasOwnProperty: r } = Object.prototype, o = t[n];
  o != null && (!r.call(e, n) || typeof o != "object" ? e[n] = o : e[n] = hi(Object(e[n]), t[n]));
};
hi = (e, t) => (Object.keys(t).forEach((n) => {
  f1(e, t, n);
}), e);
const ht = (e) => Array.isArray(e) ? e.map((t) => ht(t)) : typeof e == "object" && e !== null ? hi({}, e) : e, za = (e = "") => String(e).replace(/[|\\{}()[\]^$+*?.]/g, "\\$&"), h1 = ({ select: e, state: t }) => (n, r) => {
  if (t.isObject) {
    const o = e.valueKey;
    return xe(n, o) === xe(r, o);
  } else
    return n === r;
}, p1 = ({ select: e, state: t }) => (n = [], r = null) => {
  if (t.isObject) {
    const o = e.valueKey;
    return n && n.some((i) => xe(i, o) === xe(r, o));
  } else
    return n && n.includes(r);
}, v1 = ({ state: e, vm: t }) => (n) => {
  e.groupDisabled = n, t.groupDisabled = n;
}, g1 = ({ select: e, props: t, state: n }) => () => {
  !t.disabled && !n.groupDisabled && !e.state.disabledOptionHover && (e.state.hoverIndex = e.state.optionIndexArr.indexOf(n.index));
}, m1 = ({ props: e, state: t, select: n, constants: r, vm: o }) => () => {
  if (e.disabled !== !0 && t.groupDisabled !== !0) {
    if (n.multiple && e.required === !0)
      return;
    n.state.selectEmitter.emit(r.EVENT_NAME.handleOptionClick, o, !0);
  }
}, y1 = ({ select: e, props: t, state: n }) => (r) => {
  const o = n.visible, i = n.currentLabel.toLowerCase().includes(r.toLowerCase()) || !!t.created;
  o !== i && (n.visible = i, e.state.filteredOptionsCount += i ? 1 : -1);
}, Ha = ({ props: e, vm: t, type: n }) => {
  const r = t.$refs.option;
  for (let o in e.events)
    r[n + "EventListener"](o, e.events[o]);
}, b1 = ({ select: e, props: t, constants: n, vm: r }) => () => {
  e.multiple && t.required && e.state.selectEmitter.emit(n.EVENT_NAME.initValue, r);
}, C1 = ({ api: e, nextTick: t, state: n }) => (r) => {
  const o = r.target.value;
  if (r.type === "compositionend") {
    n.isOnComposition = !1;
    const i = !1, l = !0;
    t(() => e.handleQueryChange(o, i, l));
  } else {
    const i = o[o.length - 1] || "";
    n.isOnComposition = !aa(i);
  }
}, w1 = ({ props: e, state: t, vm: n }) => (r) => {
  if (!e.showOverflowTooltip)
    return;
  let o;
  if (!r)
    clearTimeout(t.tipTimer), t.tipTimer = setTimeout(() => {
      t.showTip = t.tipHover;
    }, n.$refs.popover.closeDelay);
  else {
    if (e.multiple)
      o = n.$refs.tags.scrollHeight > n.$refs.tags.getBoundingClientRect().height;
    else {
      const i = n.$refs.reference.$el;
      o = i.querySelector("input").scrollWidth > i.scrollWidth;
    }
    t.showTip = r && o && !!t.tips && !t.visible;
  }
}, S1 = ({ props: e, vm: t, constants: n, state: r }) => (o) => {
  const { multiple: i, valueField: l, filterMethod: a, remote: s, remoteMethod: d } = e;
  if ((e.filterable || e.searchable) && typeof a == "function") {
    const u = t.$refs.selectGrid.$refs.tinyTable, c = u.getTableData().fullData;
    t.$refs.selectGrid.scrollTo(null, 0), u.loadTableData(a(o, c) || []), t.$refs.selectGrid.handleTableData(!o).then(() => r.selectEmitter.emit(n.EVENT_NAME.updatePopper)), r.previousQuery = o;
  } else s && typeof d == "function" && (r.previousQuery = o, d(o, e.extraQueryParams).then((u) => {
    if (i) {
      const c = r.selected.map((f) => f[l]);
      t.$refs.selectGrid.clearSelection(), t.$refs.selectGrid.setSelection(
        u.filter((f) => ~c.indexOf(f[l])),
        !0
      ), r.remoteData = u.filter((f) => !~c.indexOf(f[l])).concat(r.selected);
    } else
      t.$refs.selectGrid.clearRadioRow(), t.$refs.selectGrid.setRadioRow(cn(u, (c) => e.modelValue === c[e.valueField])), r.remoteData = u;
    t.$refs.selectGrid.$refs.tinyTable.lastScrollTop = 0, t.$refs.selectGrid.loadData(u), t.$refs.selectGrid.handleTableData(!o).then(() => r.selectEmitter.emit(n.EVENT_NAME.updatePopper));
  }));
}, $1 = ({ props: e, state: t, constants: n, api: r, nextTick: o }) => (i, l) => {
  e.remote && (typeof e.remoteMethod == "function" || typeof e.initQuery == "function") ? (t.hoverIndex = -1, e.remoteMethod && e.remoteMethod(i, e.extraQueryParams)) : typeof e.filterMethod == "function" ? (e.filterMethod(i), t.selectEmitter.emit(n.COMPONENT_NAME.OptionGroup, n.EVENT_NAME.queryChange)) : r.queryChange(i, l), Ba(o, t, e), r.getOptionIndexArr();
}, k1 = ({ props: e, state: t, constants: n }) => (r, o) => {
  if (e.optimization && o) {
    const i = t.initDatas.filter(
      (l) => new RegExp(za(r), "i").test(l[e.textField])
    );
    t.datas = i;
  } else
    t.selectEmitter.emit(n.EVENT_NAME.queryChange, r);
}, Ba = (e, t, n) => {
  e(() => {
    if (n.multiple && n.showAlloption && (n.filterable || n.searchable) && t.query && !n.remote) {
      const r = t.options.filter((i) => i.state.visible && i.state.itemSelected).map((i) => i.value), o = t.options.filter((i) => i.state.visible);
      r.length === o.length ? t.filteredSelectCls = "checked-sur" : r.length === 0 ? t.filteredSelectCls = "check" : t.filteredSelectCls = "halfselect";
    }
  });
}, T1 = ({ api: e, constants: t, nextTick: n, props: r, vm: o, state: i }) => (l, a = !1, s = !1) => {
  if (!(i.previousQuery === l && !a || i.isOnComposition)) {
    if (i.previousQuery === null && !a && (typeof r.filterMethod == "function" || typeof r.remoteMethod == "function" || typeof r.initQuery == "function")) {
      i.previousQuery = l;
      return;
    }
    if (r.renderType === t.TYPE.Grid) {
      e.gridOnQueryChange(l);
      return;
    }
    r.renderType === t.TYPE.Tree && (i.previousQuery = l, (r.filterable || r.searchable) && typeof r.filterMethod == "function" && o.$refs.selectTree && o.$refs.selectTree.filter(l)), i.query = l, i.previousQuery = l, window.requestAnimationFrame(() => {
      i.visible && (i.selectEmitter.emit(t.EVENT_NAME.updatePopper), i.showWarper = !0);
    }), i.hoverIndex = -1, r.multiple && (r.filterable || r.searchable) && !r.shape && !i.selectDisabled && n(() => {
      if (!o.$refs.input)
        return;
      const d = o.$refs.input.value.length * 15 + 20;
      i.inputLength = i.collapseTags ? Math.min(50, d) : d, e.managePlaceholder(), e.resetInputHeight();
    }), r.renderType !== t.TYPE.Tree && (i.triggerSearch = !0, e.defaultOnQueryChange(l, s));
  }
}, _1 = ({ vm: e, constants: t }) => (n) => {
  const r = Array.isArray(n) && n[0] && n[0].state ? n[0].state.el : n.state ? n.state.el : "";
  if (e.$refs.popper && r) {
    const o = e.$refs.popper.$el.querySelector(t.CLASS.SelectDropdownWrap);
    setTimeout(() => la(o, r));
  }
  e.$refs.scrollbar && e.$refs.scrollbar.handleScroll();
}, I1 = ({ api: e, nextTick: t, state: n, props: r }) => () => {
  r.optimization || t(() => e.scrollToOption(n.selected));
}, E1 = ({ emit: e, props: t, state: n, constants: r }) => (o, i) => {
  if (n.device === "mb" && t.multiple && !i)
    return;
  const l = (a, s, d, u) => {
    if (r.TYPE.Tree === u) {
      const c = (f) => {
        a === f[t.valueField] && d.push(f), a !== f[t.valueField] && Array.isArray(f[n.childrenName]) && f[n.childrenName].forEach(c);
      };
      s.forEach(c);
    } else if (r.TYPE.Grid === u) {
      for (let c = 0; c < s.length; c++)
        if (a === s[c][t.valueField]) {
          d.push(s[c]);
          break;
        }
    }
  };
  if (!ir(t.modelValue, n.compareValue))
    if (t.renderType === r.TYPE.Grid && t.multiple) {
      o = o || [];
      const a = n.gridData || [], s = [];
      o.forEach((d) => {
        l(d, a, s, r.TYPE.Grid);
      }), e("change", o, s);
    } else if (t.renderType === r.TYPE.Tree && t.multiple) {
      o = o || [];
      const a = n.treeData || [], s = [];
      o.forEach((d) => {
        l(d, a, s, r.TYPE.Tree);
      }), e("change", o, s);
    } else
      e("change", o);
}, O1 = ({ emit: e, props: t, state: n }) => (r, o) => {
  n.device === "mb" && t.multiple || e("change", r, o);
}, M1 = ({ props: e, state: t, api: n }) => (r) => {
  let o;
  const i = Object.prototype.toString.call(r).toLowerCase() === "[object object]", l = Object.prototype.toString.call(r).toLowerCase() === "[object null]", a = Object.prototype.toString.call(r).toLowerCase() === "[object undefined]";
  for (let u = t.cachedOptions.length - 1; u >= 0; u--) {
    const c = t.cachedOptions[u];
    if (i ? xe(c.value, e.valueKey) === xe(r, e.valueKey) : c.value === r) {
      o = c;
      break;
    }
  }
  if (o)
    return o;
  if (e.optimization) {
    if (o = n.getSelectedOption(r), o)
      return { value: o.value, currentLabel: o[e.textField] || o.currentLabel };
    if (o = t.datas.find((u) => xe(u, e.valueField) === r), o)
      return { value: o[e.valueField], currentLabel: o[e.textField] || o.currentLabel };
  }
  const s = !i && !l && !a && !e.clearNoMatchValue ? r : "";
  let d = { value: r, currentLabel: s, isFakeLabel: !0 };
  return e.multiple && (d.hitState = !1), d;
}, x1 = ({ props: e, state: t }) => (n) => {
  let r;
  return e.multiple ? r = t.selected.find((o) => xe(o, e.valueField) === n && !o.isFakeLabel) : !lr(t.selected) && xe(t.selected, e.valueField) === n && !t.selected.isFakeLabel && (r = t.selected), r;
}, D1 = ({ api: e, props: t }) => {
  const n = e.getOption(t.modelValue) || {};
  return n.state || (n.state = {}), n.created ? (n.createdLabel = n.state.currentLabel, n.createdSelected = !0) : n.createdSelected = !1, n.state.currentLabel || e.clearNoMatchValue(""), n;
}, A1 = ({ state: e, isGrid: t, isTree: n, api: r, props: o }) => {
  let i = [];
  const l = [];
  return Array.isArray(e.modelValue) && e.modelValue.forEach((a) => {
    if (t || n) {
      const s = r.getPluginOption(a, n);
      i = i.concat(s), o.clearNoMatchValue && s.length && l.push(a);
    } else {
      const s = r.getOption(a);
      (!o.clearNoMatchValue || o.clearNoMatchValue && s.label) && (i.push(s), l.push(a));
    }
  }), r.clearNoMatchValue(l), i;
}, L1 = ({ props: e, state: t, vm: n, isTree: r, api: o, init: i }) => {
  if (!e.modelValue) {
    t.selectedLabel = "", t.selected = {}, t.currentKey = "", n.$refs.selectGrid && n.$refs.selectGrid.clearRadioRow(), n.$refs.selectTree && n.$refs.selectTree.setCurrentKey && n.$refs.selectTree.setCurrentKey(null);
    return;
  }
  const a = (e.filterable || e.searchable) && e.remote && (typeof e.remoteMethod == "function" || typeof e.initQuery == "function") ? t.remoteData : r ? o.getTreeData(t.treeData) : t.gridData, s = cn(a, (c) => e.modelValue === c[e.valueField]);
  if (lr(s)) {
    o.clearNoMatchValue("");
    return;
  }
  const d = Object.assign({}, s), u = s[e.textField];
  d.currentLabel = u, t.selectedLabel = i && !u && e.initLabel ? e.initLabel : u, t.selectedLabel = u, t.selected = d, t.currentKey = s[e.valueField], n.$refs.selectTree && n.$refs.selectTree.setCurrentKey && n.$refs.selectTree.setCurrentKey(t.currentKey), e.treeOp.showRadio && (t.defaultCheckedKeys = [t.currentKey]);
}, R1 = ({ api: e, constants: t, nextTick: n, props: r, vm: o, state: i }) => (l) => {
  const a = r.renderType === t.TYPE.Tree, s = r.renderType === t.TYPE.Grid;
  if (r.multiple) {
    const d = A1({ state: i, props: r, isGrid: s, isTree: a, api: e });
    i.selectCls = d.length ? d.length === i.options.length ? "checked-sur" : "halfselect" : "check", i.selected = d, i.selected.length && (i.selectedLabel = ""), o.$refs.selectTree && o.$refs.selectTree.setCheckedNodes && o.$refs.selectTree.setCheckedNodes(i.selected), i.tips = i.selected.map((u) => u.state ? u.state.currentLabel : u.currentLabel).join(","), Ba(n, i, r), n(e.resetInputHeight);
  } else if (s || a)
    L1({ props: r, state: i, vm: o, isTree: a, api: e, init: l });
  else {
    const d = D1({ api: e, props: r });
    i.selected = d, i.selectedLabel = d.state.currentLabel || d.currentLabel, (r.filterable || r.searchable) && !r.shape && (i.query = i.selectedLabel);
  }
}, V1 = ({ api: e, props: t, state: n }) => (r, o) => {
  const i = (t.filterable || t.searchable) && t.remote && (typeof t.remoteMethod == "function" || typeof t.initQuery == "function"), { textField: l, valueField: a } = t, s = i ? n.remoteData : o ? e.getTreeData(n.treeData) : n.gridData, d = cn(s, (c) => c[a] === r), u = [];
  return d && (d.currentLabel = d[l], u.push(d)), u;
}, N1 = ({ api: e, state: t, props: n }) => (r) => {
  let o = [];
  const i = t.options.filter((s) => !s.state.disabled && !s.state.groupDisabled && !s.required && s.state.visible).map((s) => s.value);
  r ? t.filteredSelectCls === "check" || t.filteredSelectCls === "halfselect" ? o = Array.from(/* @__PURE__ */ new Set([...t.modelValue, ...i])) : o = t.modelValue.filter((s) => !i.includes(s)) : t.selectCls === "check" ? o = i : t.selectCls === "halfselect" ? t.options.filter((d) => !d.state.disabled && d.state.selectCls === "check").length ? o = i : o = [] : t.selectCls === "checked-sur" && (o = []);
  const l = t.options.filter((s) => s.required).map((s) => s.value), a = t.options.filter((s) => (s.state.disabled || s.state.groupDisabled) && s.state.selectCls === "checked-sur").map((s) => s.value);
  o = [...o, ...l, ...a], e.setSoftFocus(), t.isSilentBlur = !0, e.updateModelValue(o), e.directEmitChange(o);
}, P1 = ({ emit: e, props: t, state: n }) => (r) => {
  n.willFocusRun = !0, n.willFocusTimer && clearTimeout(n.willFocusTimer), n.willFocusTimer = setTimeout(() => {
    if (n.willFocusTimer = 0, !!n.willFocusRun)
      if (n.softFocus)
        n.searchSingleCopy && n.selectedLabel && e("focus", r), n.softFocus = !1;
      else {
        if (t.shape === "filter")
          return;
        (t.automaticDropdown || t.filterable || t.searchable) && (n.visible = !0, n.softFocus = !0), e("focus", r);
      }
  }, 10);
}, F1 = ({ vm: e, state: t }) => () => {
  t.softFocus || e.$refs.reference.focus();
}, z1 = ({ vm: e, state: t }) => () => {
  t.visible = !1, e.$refs.reference.blur();
}, H1 = ({ constants: e, dispatch: t, emit: n, state: r, designConfig: o }) => (i) => {
  var l;
  r.willFocusRun = !1, clearTimeout(r.timer);
  const a = i.target;
  r.timer = setTimeout(() => {
    var s;
    fd(i, a), i.target !== a && Object.defineProperty(i, "target", {
      get() {
        return a;
      },
      enumerable: !0,
      configurable: !0
    }), r.isSilentBlur ? r.isSilentBlur = !1 : n("blur", i), (s = o == null ? void 0 : o.state) != null && s.delayBlur && t(e.COMPONENT_NAME.FormItem, e.EVENT_NAME.formBlur, i.target.value);
  }, 200), (l = o == null ? void 0 : o.state) != null && l.delayBlur || t(e.COMPONENT_NAME.FormItem, e.EVENT_NAME.formBlur, i.target.value), r.softFocus = !1;
}, B1 = (e) => (t) => {
  e.deleteSelected(t);
}, j1 = (e) => () => {
  var t;
  (t = e == null ? void 0 : e.$refs) != null && t.popper && e.$refs.popper.doDestroy();
}, W1 = (e) => () => {
  e.visible = !1;
}, K1 = ({ state: e }) => (t) => {
  if (!Array.isArray(e.selected))
    return;
  const n = e.selected[e.selected.length - 1];
  if (!n)
    return;
  if (n.required)
    return !0;
  const r = n.state || n;
  return t === !0 || t === !1 ? (r.hitState = t, t) : (r.hitState = !r.hitState, r.hitState);
}, q1 = ({ api: e, constants: t, props: n, state: r, vm: o }) => (i) => {
  if (i.target.value.length <= 0 && !e.toggleLastOptionHitState()) {
    const l = r.modelValue.slice();
    if (l.pop(), r.compareValue = ht(l), e.updateModelValue(l), e.emitChange(l), n.renderType === t.TYPE.Grid) {
      const a = r.selected.slice().filter((s) => l.includes(s[n.valueField]));
      o.$refs.selectGrid.clearSelection(), o.$refs.selectGrid.setSelection(a, !0);
    }
  }
}, G1 = ({ vm: e, state: t }) => () => {
  t.currentPlaceholder !== "" && (t.currentPlaceholder = e.$refs.input.value ? "" : t.cachedPlaceHolder);
}, U1 = ({ api: e, vm: t, state: n }) => (r) => {
  r.keyCode !== 8 && e.toggleLastOptionHitState(!1), n.inputLength = t.$refs.input.value.length * 15 + 20, e.resetInputHeight();
}, Z1 = ({ constants: e, nextTick: t, props: n, vm: r, state: o, api: i, designConfig: l }) => () => {
  o.collapseTags && !(n.filterable || n.searchable) || t(() => {
    var a, s;
    if (!r.$refs.reference)
      return;
    let d = r.$refs.reference.type === "text" && r.$refs.reference.$el.querySelector("input");
    const u = r.$refs.tags, c = r.$refs.reference.$el.querySelector("span.tiny-select__limit-txt");
    if (!d)
      return;
    !o.isDisplayOnly && (n.hoverExpand || n.clickExpand) && !n.disabled && i.calcCollapseTags();
    const f = o.selected.length === 0, h = (s = (a = l == null ? void 0 : l.state) == null ? void 0 : a.spacingHeight) != null ? s : e.SPACING_HEIGHT;
    if (o.isDisplayOnly ? d.style.height = "auto" : !f && u ? Rt.measure(() => {
      const p = u.clientHeight;
      Rt.mutate(() => {
        d.style.height = Math.max(p + h, o.currentSizeMap) + "px";
      });
    }) : d.style.height = f ? o.currentSizeMap + "px" : Math.max(0, o.currentSizeMap) + "px", c && n.multipleLimit) {
      const { width: p, marginLeft: v, marginRight: g } = getComputedStyle(c);
      r.$refs.tags.style.paddingRight = `${Math.ceil(
        parseFloat(p) + parseFloat(v) + parseFloat(g)
      )}px`;
    }
    o.visible && o.emptyText !== !1 && o.selectEmitter.emit(e.EVENT_NAME.updatePopper, !0);
  });
}, Y1 = ({ props: e, state: t }) => () => {
  e.showOverflowTooltip ? e.multiple ? t.selected.length > 0 ? t.hoverIndex = Math.min.apply(
    null,
    t.selected.map((n) => t.options.indexOf(n))
  ) : t.hoverIndex = -1 : t.hoverIndex = t.options.indexOf(t.selected) : t.hoverIndex = -1;
}, X1 = ({ props: e, state: t }) => () => {
  e.optimization && !e.remote && !e.filterMethod && (t.datas = t.initDatas);
}, Q1 = ({ api: e, nextTick: t, props: n, vm: r, state: o }) => (i, l) => {
  var a;
  if (o.memorize && o.memorize.updateByKey(i[o.memorize._dataKey] || i.value), n.multiple) {
    const s = (o.modelValue || []).slice(), d = e.getValueIndex(s, i.value);
    d > -1 ? s.splice(d, 1) : (o.multipleLimit <= 0 || s.length < o.multipleLimit) && s.push(i.value), o.compareValue = ht(s), e.updateModelValue(s), e.emitChange(s), i.created && (o.query = "", e.handleQueryChange("", !1, !0), o.inputLength = 20), (n.filterable || n.searchable) && ((a = r.$refs.input) == null || a.focus()), n.autoClose && (o.visible = !1);
  } else
    o.compareValue = ht(i.value), e.updateModelValue(i.value), e.emitChange(i.value), i.created && (o.createdSelected = !0, o.createdLabel = i.value), o.visible = !1;
  o.isSilentBlur = l, n.automaticDropdown || e.setSoftFocus(), !o.visible && t(() => {
    e.scrollToOption(i);
  });
}, J1 = ({ state: e }) => (t) => {
  !e.initValue.find((r) => r === t.value) && e.initValue.push(t.value);
}, e0 = ({ vm: e, state: t, props: n }) => () => {
  if (e.$slots.reference)
    return;
  t.softFocus = !0;
  const r = e.$refs.input || e.$refs.reference;
  n.automaticDropdown || r && r.focus();
}, t0 = (e) => (t = [], n = null) => {
  if (Object.prototype.toString.call(n).toLowerCase() === "[object object]") {
    const o = e.valueKey;
    let i = -1;
    return t.some((l, a) => xe(l, o) === xe(n, o) ? (i = a, !0) : !1), i;
  } else
    return t.indexOf(n);
}, n0 = ({ vm: e, state: t, props: n, api: r, designConfig: o }) => (i) => {
  var l, a, s;
  if (n.keepFocus && t.visible && (n.filterable || n.searchable))
    return;
  t.isIOS && (t.selectHover = !0, t.inputHovering = !0);
  const d = i || window.event, u = 13, c = d.target && d.target.nodeName, f = n.ignoreEnter ? d.keyCode !== u && c === "INPUT" : !0, h = (s = (a = n.stopPropagation) != null ? a : (l = o == null ? void 0 : o.props) == null ? void 0 : l.stopPropagation) != null ? s : !1;
  if (!n.displayOnly && h && d.stopPropagation(), !t.selectDisabled && (f && !t.softFocus && (t.visible = !t.visible), t.softFocus = !1, t.visible && !((n.filterable || n.searchable) && n.shape))) {
    const p = e.$refs.input || e.$refs.reference;
    p != null && p.focus && p.focus(), r.setOptionHighlight();
  }
}, r0 = ({ api: e, state: t, props: n }) => (r) => {
  if (!t.visible || n.hideDrop)
    t.softFocus = !1, e.toggleMenu(r);
  else {
    let o = "";
    t.query || n.remote ? o = t.options.find((i) => i.state.index === t.hoverValue) : o = t.options[t.hoverIndex], o && e.handleOptionSelect(o);
  }
}, o0 = ({ api: e, constants: t, emit: n, props: r, vm: o, state: i }) => (l) => {
  l && l.stopPropagation();
  let a = [];
  if (r.multiple) {
    const d = i.options.filter((u) => u.required && u.value);
    a = i.modelValue.slice().filter((u) => d.find((c) => c.value === u));
  }
  const s = r.multiple ? a : "";
  r.renderType === t.TYPE.Tree ? (i.selected = {}, i.selectedLabel = "", o.$refs.selectTree.state.currentRadio.value = null, o.$refs.selectTree.setCurrentKey(null)) : r.renderType === t.TYPE.Grid && (i.selected = {}, i.selectedLabel = "", o.$refs.selectGrid.clearRadioRow()), i.showTip = !1, i.compareValue = ht(s), e.updateModelValue(s, !0), e.emitChange(s, !0), i.visible = !1, n("clear");
}, i0 = ({ api: e, constants: t, emit: n, props: r, state: o, nextTick: i, vm: l }) => (a, s) => {
  if (s.required)
    return;
  const d = r.renderType === t.TYPE.Tree, u = o.selected.indexOf(s), c = [], f = [s[r.valueField]];
  if (d && !r.treeOp.checkStrictly) {
    let h = l.$refs.selectTree.getNode(s[r.valueField]);
    for (h.isLeaf || f.push(...e.getChildValue(h.childNodes, r.valueField)); h.parent && !Array.isArray(h.parent.data); )
      h.parent.data && f.push(h.parent.data[r.valueField]), h = h.parent;
    o.selected.slice().map((p) => !f.includes(p[r.valueField]) && c.push(p[r.valueField]));
  }
  if (u > -1 && !o.selectDisabled) {
    const h = o.modelValue.slice();
    if (h.splice(u, 1), r.renderType === t.TYPE.Tree)
      r.treeOp.checkStrictly && c.push(...h), l.$refs.selectTree.setCheckedKeys(c);
    else if (r.renderType === t.TYPE.Grid) {
      const p = o.selected.slice().filter((v) => h.includes(v[r.valueField]));
      l.$refs.selectGrid.clearSelection(), l.$refs.selectGrid.setSelection(p, !0);
    }
    o.compareValue = ht(h), e.updateModelValue(d ? c : h), e.emitChange(h), n(t.EVENT_NAME.removeTag, s[r.valueField]), i(() => o.key++);
  }
  a && a.stopPropagation();
}, l0 = ({ api: e, props: t, state: n, constants: r, nextTick: o }) => () => {
  t.delay ? e.debouncRquest() : (t.filterable || t.searchable) && n.query !== n.selectedLabel && (n.query = n.selectedLabel, e.handleQueryChange(n.query, !1, !0), o(() => {
    n.selectEmitter.emit(r.EVENT_NAME.updatePopper);
  })), o(() => {
    n.selectEmitter.emit(r.EVENT_NAME.updatePopper);
  });
}, a0 = (e) => (t) => {
  t > -1 && (e.optionsCount--, e.filteredOptionsCount--, e.options.splice(t, 1));
}, s0 = ({ vm: e, state: t }) => () => {
  e.$refs.reference && e.$refs.reference.$el && (t.inputWidth = e.$refs.reference.$el.getBoundingClientRect().width);
}, d0 = ({ api: e, props: t, state: n }) => () => {
  e.resetInputWidth(), t.multiple && !n.isDisplayOnly && e.resetInputHeight();
}, u0 = (e) => () => {
  for (let t = 0; t < e.options.length; ++t) {
    const n = e.options[t];
    if (!n.disabled && !n.groupDisabled && !n.state.created && n.state.visible && n.state.itemSelected) {
      e.hoverIndex = t;
      break;
    }
  }
}, c0 = (e) => () => {
  e.hoverIndex = -1;
  let t = !1;
  const n = e.options.filter((r) => r.visible && r.state.visible);
  for (let r = n.length - 1; r >= 0; r--)
    if (n[r].created) {
      t = !0, e.hoverIndex = r, e.hoverValue = e.optionIndexArr[r];
      break;
    }
  if (!t)
    for (let r = 0; r < n.length; r++) {
      const o = n[r];
      if (e.query) {
        if (!o.disabled && !o.groupDisabled && o.state.visible && o.visible) {
          e.hoverIndex = r, e.hoverValue = e.optionIndexArr[r];
          break;
        }
      } else if (o.itemSelected) {
        e.hoverIndex = r, e.hoverValue = e.optionIndexArr[r];
        break;
      }
    }
}, f0 = (e) => (t) => {
  if (t)
    return Object.prototype.toString.call(t.value).toLowerCase() !== "[object object]" ? t.value || t[e.valueField] : xe(t.value, e.valueKey);
}, h0 = ({ api: e, state: t, props: n, nextTick: r }) => (o) => {
  const { optimization: i } = n;
  if (i)
    return;
  const l = t.options.filter((a) => a.visible && a.state.visible).length;
  if (!t.visible) {
    t.visible = !0;
    return;
  }
  if (!(l === 0 || t.filteredOptionsCount === 0) && (t.disabledOptionHover = !0, setTimeout(() => {
    t.disabledOptionHover = !1;
  }, 100), (t.hoverIndex < -1 || t.hoverIndex >= l) && (t.hoverIndex = 0), !t.optionsAllDisabled)) {
    o === "next" ? (t.hoverIndex++, t.hoverIndex === l && (t.hoverIndex = 0)) : o === "prev" && (t.hoverIndex--, t.hoverIndex < 0 && (t.hoverIndex = l - 1));
    let a = {};
    t.hoverValue = t.optionIndexArr[t.hoverIndex], t.query || n.remote ? a = t.options.find((s) => s.state.index === t.hoverValue) : a = t.options[t.hoverIndex], (a.disabled === !0 || a.groupDisabled === !0 || !a.state.visible || a.state.limitReached) && e.navigateOptions(o), r(() => e.scrollToOption(t.hoverIndex === -9 ? {} : a || {}));
  }
}, p0 = ({ props: e, state: t }) => () => e.optimization ? e.allowCreate ? t.query === "" && t.datas.length === 0 : t.datas.length === 0 : t.options.length === 0, v0 = ({ state: e, props: t, recycle: n }) => () => {
  const { ITEM_HEIGHT: r, SAFE_MARGIN: o, SAAS_HEIGHT: i, AURORA_HEIGHT: l } = n;
  let a = e.datas.length;
  return e.showNewOption && (a += 1), a === 0 || t.loading ? 0 : a < 6 ? a * r + (e.isSaaSTheme ? o * 2 : 0) : e.isSaaSTheme ? i : l;
}, g0 = ({ I18N: e, props: t, state: n, t: r, isMobileFirstMode: o }) => () => t.loading ? t.loadingText || r(e.loading) : t.remote && n.query === "" && t.renderType ? m0(t, n) : t.remote && n.query === "" && n.emptyFlag && !n.triggerSearch ? t.shape === "filter" || o ? "" : !1 : (t.filterable || t.searchable) && n.query && (t.remote && n.emptyFlag || !n.options.some((i) => i.visible && i.state.visible)) ? t.noMatchText || r(e.noMatch) : n.emptyFlag ? t.noDataText || r(e.noData) : null, m0 = function(e, t) {
  return e.multiple ? t.selected.length > 0 || t.remoteData.length >= 0 : t.selected[e.valueField] || t.remoteData.length >= 0;
}, y0 = ({ api: e, constants: t, dispatch: n, props: r, vm: o, state: i }) => (l, a) => {
  r.multiple && (e.resetInputHeight(), l && l.length > 0 || o.$refs.input && i.query !== "" ? i.currentPlaceholder = "" : i.currentPlaceholder = i.cachedPlaceHolder, (r.filterable || r.searchable) && !r.reserveKeyword && (i.query = "", e.handleQueryChange(i.query, !1, !0))), e.setSelected(), !i.isClickChoose && e.initQuery({ init: !0 }).then(() => e.setSelected()), i.isClickChoose = !1, (r.filterable || r.searchable) && !r.multiple && (i.inputLength = 20), i.completed && !ir(l, a) && n(t.COMPONENT_NAME.FormItem, t.EVENT_NAME.formChange, l), r.optimization && qt.setValueIndex({ props: r, state: i });
}, b0 = ({ vm: e, props: t, state: n }) => (r) => {
  if (t.multiple && t.showOverflowTooltip) {
    n.overflow = !1;
    const o = e.$refs.tags, i = o.querySelectorAll('[data-tag="tiny-tag"]');
    if (i.length) {
      o.scrollTo && o.scrollTo({ top: 0 });
      let { x: s, width: d } = i[0].getBoundingClientRect();
      if (d >= o.getBoundingClientRect().width)
        n.overflow = 0;
      else
        for (let u = 1; u < i.length; u++)
          if (i[u].getBoundingClientRect().x === s) {
            n.overflow = u - 1;
            break;
          }
    }
    e.$refs.select.style.height = e.$refs.select.style.height || r, e.$refs.reference.$el.style.position = "absolute";
    const l = e.$refs.select.getBoundingClientRect().width, a = n.visible ? "absolute" : "";
    n.selectFiexd = {
      height: r,
      position: a,
      width: l + "px",
      zIndex: Ut.nextZIndex()
    }, n.inputWidth = l;
  }
}, C0 = ({ props: e, state: t, constants: n }) => {
  if (e.multiple) {
    e.modelValue && e.modelValue.length && e.initLabel && !t.selected.length && (t.selectedLabel = e.initLabel);
    return;
  }
  t.selected && (e.renderType === n.TYPE.Grid || e.renderType === n.TYPE.Tree ? t.selectedLabel = t.selected.currentLabel : ((e.filterable || e.searchable) && e.allowCreate && t.createdSelected && t.createdLabel ? t.selectedLabel = t.createdLabel : t.selectedLabel = t.selected.state.currentLabel || t.selected.currentLabel, (e.filterable || e.searchable) && (t.query = t.selectedLabel)), (e.filterable || e.searchable) && (t.currentPlaceholder = t.cachedPlaceHolder), e.modelValue && e.initLabel && !t.selectedLabel && (t.selectedLabel = e.initLabel));
}, w0 = ({ constants: e, state: t, props: n, vm: r, api: o, nextTick: i }) => () => {
  t.selectEmitter.emit(e.EVENT_NAME.destroyPopper), n.remote && n.dropOnlySearch && (t.showWarper = !1), r.$refs.input && r.$refs.input.blur(), t.query = "", t.selectedLabel = "", t.inputLength = 20, t.previousQuery !== t.query && o.initQuery().then(() => o.setSelected()), n.renderType !== e.TYPE.Tree && (t.previousQuery = null), o.resetHoverIndex(), o.resetDatas(), i(() => {
    r.$refs.input && r.$refs.input.value === "" && t.selected.length === 0 && (t.currentPlaceholder = t.cachedPlaceHolder), r.$refs.selectGrid && r.$refs.selectGrid.clearScroll();
  }), C0({ props: n, state: t, constants: e });
}, S0 = ({ constants: e, state: t, props: n, vm: r, api: o }) => () => {
  var i;
  const { remote: l, remoteConfig: a, shape: s, renderType: d, multiple: u, valueField: c } = n;
  if (t.selectEmitter.emit(e.COMPONENT_NAME.SelectDropdown, e.EVENT_NAME.updatePopper), n.filterable || n.searchable) {
    t.query = l || s ? "" : d !== e.TYPE.Tree ? t.selectedLabel : "";
    const f = l && a.autoSearch && (t.firstAutoSearch || a.clearData);
    t.firstAutoSearch = !1, o.handleQueryChange(t.query, f), u ? (i = r.$refs.input) == null || i.focus() : (l || (t.selectEmitter.emit(e.EVENT_NAME.queryChange, ""), t.selectEmitter.emit(e.COMPONENT_NAME.OptionGroup, e.EVENT_NAME.queryChange)), t.selectedLabel && !s && (t.currentPlaceholder = t.selectedLabel, t.selectedLabel = ""));
  }
  if (r.$refs.selectGrid) {
    let { fullData: f } = r.$refs.selectGrid.getTableData();
    if (u) {
      const h = t.selected.map((p) => p[c]);
      r.$refs.selectGrid.clearSelection(), r.$refs.selectGrid.setSelection(
        f.filter((p) => ~h.indexOf(p[c])),
        !0
      );
    } else
      r.$refs.selectGrid.clearRadioRow(), r.$refs.selectGrid.setRadioRow(cn(f, (h) => n.modelValue === h[c]));
    (n.filterable || n.searchable) && typeof n.filterMethod == "function" ? r.$refs.selectGrid.handleTableData(!0) : (n.filterable || n.searchable) && l && (typeof n.remoteMethod == "function" || typeof n.initQuery == "function") && r.$refs.selectGrid.handleTableData();
  }
}, $0 = ({ api: e, constants: t, emit: n, state: r, vm: o, props: i }) => (l) => {
  var a;
  (i.filterable || i.searchable || i.remote) && !l && ((a = o.$refs.reference) == null || a.blur()), !e.onCopying() && (l && i.multiple && r.device === "mb" && (r.selectedCopy = r.selected.slice()), setTimeout(() => {
    !l && !r.selectedLabel && r.cachedOptions.forEach((s) => {
      s.state.visible = !0;
    });
  }, 200), l ? e.toHide() : e.toVisible(), n(t.EVENT_NAME.visibleChange, l), setTimeout(() => {
    r.selectEmitter.emit(t.EVENT_NAME.updatePopper), l && o.$refs.scrollbar && (i.optimization ? (qt.setScrollTop({ refs: o.$refs, state: r }), o.$refs.scrollbar.updateVisibleItems(!0, !0)) : o.$refs.scrollbar.handleScroll());
  }, i.updateDelay), !l && i.shape === "filter" && (r.softFocus = !1));
}, k0 = ({ api: e, constants: t, nextTick: n, parent: r, props: o, state: i }) => () => {
  typeof window > "u" || (n(() => {
    i.selectEmitter.emit(t.EVENT_NAME.updatePopper);
  }), o.multiple && e.resetInputHeight(), n(() => {
    r.$el.querySelector("input") !== document.activeElement && e.setSelected();
  }), e.getOptionIndexArr());
}, T0 = ({ props: e, state: t, api: n }) => () => {
  setTimeout(() => {
    t.optionIndexArr = n.queryVisibleOptions().map((r) => Number(r.getAttribute("data-index"))), e.defaultFirstOption && (e.filterable || e.searchable || e.remote) && t.filteredOptionsCount && (e.optimization ? qt.checkDefaultFirstOption({ state: t }) : n.checkDefaultFirstOption());
  });
}, _0 = ({ props: e, vm: t, isMobileFirstMode: n }) => () => e.optimization ? qt.queryVisibleOptions(t, n) : t.$refs.scrollbar ? Array.from(t.$refs.scrollbar.$el.querySelectorAll('[data-index]:not([style*="display: none"])')) : [], I0 = ({ parent: e, props: t, state: n }) => () => {
  const r = document.createElement("input");
  r.style.height = 0, r.style.border = "none", r.style.position = "absolute", e.$el.appendChild(r), r.value = n.selected.map((o) => o.state ? o.state.currentLabel : o.currentLabel).join(t.textSplit), r.select(), document.execCommand("copy"), e.$el.removeChild(r);
}, E0 = ({ props: e, state: t, api: n, vm: r }) => ({ $table: o, selection: i, checked: l, row: a }) => {
  const { textField: s, valueField: d } = e, u = (f) => {
    const h = cn(t.selected, (p) => p[d] === f[d]);
    h && t.selected.splice(t.selected.indexOf(h), 1);
  };
  a ? l ? t.selected.push(Mt(Ue({}, a), { value: a[d], currentLabel: a[s] })) : u(a) : l ? t.selected = t.selected.concat(
    i.filter((f) => !~t.modelValue.indexOf(f[d]))
  ) : o.tableFullData.forEach((f) => u(f)), e.filterable && e.multiple && r.$refs.input.focus();
  const c = t.selected.map((f) => f[d]);
  n.updateModelValue(c), n.directEmitChange(c, t.selected);
}, O0 = ({ props: e, state: t }) => () => {
  const n = [];
  return Array.isArray(t.selected) ? (t.selected.length > 0 && t.selected.forEach((r) => {
    n.push(r[e.valueField]);
  }), n) : e.modelValue ? [e.modelValue] : [t.selected[e.valueField]];
}, M0 = ({ props: e, state: t, api: n, vm: r }) => ({ row: o }) => {
  o.value = o[e.valueField], o.currentLabel = o[e.textField], !t.hasClearSelection && r.$refs.selectGrid.clearSelection(), t.hasClearSelection = !0, t.selected = o, t.visible = !1, t.currentKey = o[e.valueField], n.updateModelValue(o.value), n.directEmitChange(o);
}, x0 = (e, t) => (n) => {
  const r = [], o = (i, l) => {
    i.forEach((a) => {
      a.pId = l, r.push(a), a[t.childrenName] && a[t.childrenName].length > 0 && o(a[t.childrenName], a[e.valueField]);
    });
  };
  return o(n, null), r;
}, D0 = ({ props: e, state: t, api: n, vm: r }) => (o) => {
  if (!e.multiple)
    o.currentLabel = o[e.textField], o.value = o[e.valueField], t.selected = o, t.visible = !1, n.updateModelValue(o.value), n.directEmitChange(o);
  else if (e.treeOp.checkOnClickNode) {
    const i = r.$refs.selectTree.getCheckedNodes(), l = r.$refs.selectTree.getCheckedKeys();
    n.nodeCheckClick(o, { checkedNodes: i, checkedKeys: l });
  }
}, A0 = ({ props: e, state: t, api: n }) => (r, { checkedKeys: o, checkedNodes: i }) => {
  const l = t.selected.map((a) => n.getValueKey(a));
  ir(l, o) || (t.selected = i.filter((a) => {
    a.currentLabel = a[e.textField], a.value = a[e.valueField];
  }), n.updateModelValue(o), n.directEmitChange(o, i));
}, L0 = ({ state: e, constants: t }) => () => {
  setTimeout(() => {
    e.selectEmitter.emit(t.EVENT_NAME.updatePopper);
  }, 310);
}, R0 = ({ state: e, constants: t }) => () => {
  setTimeout(() => {
    e.selectEmitter.emit(t.EVENT_NAME.updatePopper);
  }, 310);
}, V0 = ({ api: e, state: t, props: n }) => Ve(n.delay, () => {
  (n.filterable || n.searchable) && t.query !== t.selectedLabel && (t.query = t.selectedLabel, e.handleQueryChange(t.query, !1, !0));
}), N0 = () => (e, t) => {
  const n = [], r = (o) => {
    o.forEach((i) => {
      n.push(i.data[t]), i.childNodes.length > 0 && r(i.childNodes);
    });
  };
  return r(e), n;
}, P0 = ({ constants: e, parent: t, props: n, state: r }) => () => {
  const o = n.renderType, { key: i, parentKey: l } = n.treeOp, a = {
    dataset: n.options || n.dataset,
    service: t.$service,
    tree: { key: i, parentKey: l }
  };
  or(a).then((s) => {
    if (o === e.TYPE.Tree)
      r.treeData = s;
    else if (o === e.TYPE.Grid)
      r.gridData = s;
    else {
      let d = s.slice();
      if (n.multiple) {
        const u = [];
        d = d.filter((c) => c.required ? (u.push(c), !1) : !0), d = u.concat(d);
      }
      n.cacheOp && n.cacheOp.key ? (r.memorize = new ia(n.cacheOp), r.datas = r.memorize.assemble(d.slice())) : (r.datas = d, r.initDatas = d);
    }
  });
}, F0 = ({ props: e, state: t }) => () => {
  const n = t.gridCheckedData, r = e.selectConfig;
  return Object.assign({}, r, { checkRowKeys: n });
}, z0 = ({ props: e, state: t }) => () => {
  const n = t.currentKey, r = !0, o = e.radioConfig;
  return Object.assign({}, o, { checkRowKey: n, highlight: r });
}, H0 = ({ state: e }) => () => {
  e.isIOS || (e.inputHovering = !0), e.searchSingleCopy && e.selectedLabel && (e.softFocus = !0);
}, B0 = ({ state: e }) => () => {
  e.isIOS || (e.selectHover = !0, e.inputHovering = !0);
}, j0 = ({ state: e }) => (t) => {
  t.target !== t.currentTarget && (e.inputHovering = !1, e.searchSingleCopy && e.selectedLabel && (e.softFocus = !1));
}, W0 = ({ state: e, vm: t }) => () => e.searchSingleCopy && e.selectedLabel && t.$refs.reference && t.$refs.reference.hasSelection && t.$refs.reference.hasSelection(), K0 = ({ state: e }) => (t) => {
  t === -1 || t === -9 ? e.hoverValue = -1 : e.hoverValue = e.optionIndexArr[t];
}, q0 = ({ vm: e, state: t, props: n, emit: r }) => (o) => {
  n.allowCopy && e.$refs.reference && (e.$refs.reference.$el.querySelector("input").selectionEnd = 0), t.softFocus = !1, r("dropdown-click", o);
}, G0 = ({ state: e }) => (t, n) => {
  const r = t.target;
  r && r.scrollWidth > r.offsetWidth && (e.tooltipContent = Mt(Ue({}, e.tooltipContent), { [n]: r.innerText }));
}, U0 = ({ state: e, vm: t, props: n }) => () => {
  if (e.inputHovering && !n.clickExpand)
    return e.isHidden = !0;
  const r = t.$refs.tags, o = r && r.querySelector('[data-tag="tags-collapse"]');
  if (!o || !r)
    return;
  const { width: i, paddingLeft: l, paddingRight: a } = window.getComputedStyle(r), s = parseFloat(i) - parseFloat(l) - parseFloat(a), { width: d, marginRight: u } = o && window.getComputedStyle(o), c = o && parseFloat(d) + parseFloat(u), f = Array.from(r.querySelectorAll('[data-tag="tiny-tag"]'));
  let [h, p, v, g] = [null, 0, 0, 0];
  for (let m = 0; m < n.maxVisibleRows; m++) {
    v = 0;
    let b = 0;
    for (g; g < f.length; g++) {
      const y = f[g];
      if (y !== o) {
        const { width: S, marginRight: w, marginLeft: _ } = y && window.getComputedStyle(y);
        b = parseFloat(S) + parseFloat(w) + parseFloat(_), v += b;
      }
      if (y !== o && v > s) {
        !h && m === n.maxVisibleRows - 1 && (v - b + c < s ? (h = y, p = g) : (h = f[g - 1], p = g - 1));
        break;
      }
    }
    if (g === f.length - 1)
      break;
  }
  if (p === 0)
    return e.exceedMaxVisibleRow = !1, e.showCollapseTag = !1, e.isHidden = !0;
  h ? (h.before(o), e.isHidden = !1) : e.isHidden = !0, e.collapseTagsLength = f.length - p, e.exceedMaxVisibleRow = !0, e.toHideIndex = p;
}, Z0 = ({ vm: e }) => (t) => {
  const [n, r] = t;
  if (!n && !r) {
    const o = e.$refs.tags, i = e.$refs["tags-content"];
    o && i && o.scrollTo({ top: i });
  }
}, Y0 = ({ props: e, state: t, constants: n, vm: r }) => ({ init: o } = {}) => {
  const i = (e.filterable || e.searchable) && e.remote && (typeof e.remoteMethod == "function" || typeof e.initQuery == "function"), l = e.renderType === n.TYPE.Grid;
  let a;
  if (i && l && e.initQuery) {
    let s = e.initQuery(e.modelValue, e.extraQueryParams, !!o);
    if (s.then)
      return new Promise((d) => {
        s.then((u) => {
          t.remoteData = u, r.$refs.selectGrid.loadData(u), d(u);
        });
      });
    a = s, t.remoteData = a, r.$refs.selectGrid.loadData(a);
  }
  return Promise.resolve(a);
}, X0 = ({ state: e, designConfig: t }) => () => {
  var n;
  const r = { default: 32, mini: 24, small: 28, medium: 40 };
  return (((n = t == null ? void 0 : t.state) == null ? void 0 : n.sizeMap) || r)[e.selectSize || "default"];
}, Q0 = ({ api: e, parent: t, state: n, props: r, vm: o, designConfig: i }) => () => {
  n.defaultCheckedKeys = r.multiple ? n.gridCheckedData : r.treeOp.defaultCheckedKeys || [];
  const l = t.$el, a = l.querySelector('input[data-tag="tiny-input-inner"]'), s = a && a.getBoundingClientRect() || {};
  a === document.activeElement && document.activeElement.blur(), n.completed = !0, r.multiple && Array.isArray(r.modelValue) && r.modelValue.length > 0 && (n.currentPlaceholder = ""), an(l, e.handleResize), o.$refs.tags && an(o.$refs.tags, e.resetInputHeight), r.remote && r.multiple && e.resetInputHeight(), n.inputWidth = s.width, e.initQuery({ init: !0 }).then(() => {
    e.setSelected(!0), r.modelValue && r.initLabel && (n.selectedLabel = r.initLabel);
  }), r.dataset && e.watchPropsOption();
}, J0 = ({ api: e, parent: t, vm: n, state: r }) => () => {
  t.$el && e.handleResize && ln(t.$el, e.handleResize), n.$refs.tags && ln(n.$refs.tags, e.resetInputHeight), r.popperElm = null;
}, qt = {
  exist: (e, t) => t ? Array.isArray(e) && e.length : e,
  getValueIndex: (e) => {
    const { options: t, valueField: n, modelValue: r, multiple: o } = e, i = (s, d) => Array.isArray(d) && ~d.indexOf(s), l = (s, d) => o ? i(d[n], [s]) : d[n] === s;
    let a = 0;
    if (qt.exist(r, o) && t) {
      const s = o ? r[r.length - 1] : r;
      for (let d = 0; d < t.length; d++)
        if (l(s, t[d]))
          return d;
    }
    return a;
  },
  queryVisibleOptions: (e, t) => {
    const n = t ? ".cursor-not-allowed" : ".is-disabled";
    return Array.from(
      e.$refs.scrollbar.$el.querySelectorAll(
        '.tiny-recycle-scroller__slot, .tiny-recycle-scroller__item-view:not([style*="transform: translateY(-9999px) translateX(0px)"])'
      )
    ).map((r) => r.querySelector(`[data-tag="tiny-option"]:not(${n})`)).filter((r) => r);
  },
  setScrollTop: ({ refs: e, state: t }) => {
    const { optimizeStore: n } = t;
    e.scrollbar.scrollToItem(n.valueIndex);
  },
  setValueIndex: ({ props: e, state: t }) => {
    t.optimizeStore.valueIndex = qt.getValueIndex(e);
  },
  natural: (e) => e < 0 ? 0 : e,
  checkDefaultFirstOption: ({ state: e }) => {
    e.hoverIndex = 0, e.hoverValue = e.optionIndexArr[0];
  }
}, eC = ({ props: e, designConfig: t }) => () => {
  const { optimization: n } = e, r = t != null && t.baseOpts ? t.baseOpts : { gt: 20, rSize: 10, optionHeight: 30, limit: 20 };
  let o;
  if (n)
    return typeof n == "boolean" ? o = Ae(!0, {}, r) : o = Ae(!0, {}, r, n), o;
}, tC = ({ props: e, state: t }) => () => {
  const { optimizeOpts: n, optimizeStore: r } = t;
  n && e.optimization && (r.valueIndex = qt.getValueIndex(e));
}, nC = (e) => () => e.collapseTags, rC = ({ props: e, state: t }) => () => {
  const { multipleLimit: n, multiple: r, optimization: o } = e, { optimizeOpts: i } = t;
  return qt.natural(r && o ? n || i.limit : n);
}, oC = ({ props: e, emit: t, state: n }) => (r, o) => {
  n.isClickChoose = !0, n.device === "mb" && e.multiple && !o ? n.modelValue = r : t("update:modelValue", r);
}, iC = ({ props: e, state: t }) => (n) => {
  const r = t.datas, o = n.state ? n.state.currentValue : n.value, i = r.find((a) => a.value === o), l = Mt(Ue({}, i), {
    label: n.state ? n.state.currentLabel : n.currentLabel,
    value: o
  });
  return ["grid", "tree"].includes(e.renderType) ? n : l;
}, lC = ({ props: e, parent: t, state: n, vm: r }) => () => {
  let i = {
    "max-width": e.disabled || (t.form || {}).disabled || e.displayOnly ? "" : n.inputWidth - n.inputPaddingRight + "px",
    width: "100%"
  };
  if ((e.clickExpand && !n.exceedMaxVisibleRow || n.visible) && Object.assign(i, { height: "auto" }), e.clickExpand && n.exceedMaxVisibleRow && !n.showCollapseTag) {
    const l = r.$refs.tags, { paddingTop: a, paddingBottom: s } = window.getComputedStyle(l), d = parseFloat(a) + parseFloat(s), u = l == null ? void 0 : l.querySelector('[data-tag="tiny-tag"]');
    if (u) {
      const { height: c, marginTop: f, marginBottom: h } = window.getComputedStyle(u), p = (parseFloat(c) + parseFloat(f) + parseFloat(h)) * e.maxVisibleRows;
      Object.assign(i, { height: `${p + d}px` });
    }
  }
  return i;
}, aC = ({ props: e, state: t }) => () => t.isIOS && e.filterable ? !1 : t.device === "mb" || e.readonly || !(e.filterable || e.searchable) || e.multiple || ft.name !== Tr.IE && ft.name !== Tr.Edge && !t.visible, sC = ({ props: e, state: t }) => () => e.clearable && !t.selectDisabled && (t.inputHovering || e.multiple && t.visible) && (e.multiple ? Array.isArray(e.modelValue) && e.modelValue.length > 0 : !Ke(e.modelValue) && e.modelValue !== ""), dC = (e) => () => e.selectSize, uC = ({ props: e, state: t }) => () => {
  const n = t.device === "mb" ? t.queryValue : t.query;
  return (e.filterable || e.searchable) && e.allowCreate && n && !t.options.filter((r) => !r.created).some((r) => r.state.currentLabel === t.query);
}, cC = ({ props: e, state: t }) => () => e.multiple && e.copyable && t.inputHovering && t.selected.length, fC = (e) => () => e.options.filter((t) => t.visible).every((t) => t.disabled), hC = ({ state: e }) => () => e.displayOnlyContent, pC = ({ state: e }) => () => e.isDisabled || e.isDisplayOnly, vC = ({ props: e, state: t }) => () => {
  const n = (t.selectHover || t.visible) && e.hoverExpand && !e.disabled, r = e.clickExpand && t.exceedMaxVisibleRow && t.showCollapseTag;
  return n || r;
}, gC = (e) => () => {
  const { defaultExpandAll: t, lazy: n } = e.treeOp;
  return !n && t !== !1;
}, mC = ({ state: e, vm: t, props: n, api: r }) => ({ data: o = [], init: i = !1 }) => {
  const l = (a, s = []) => {
    a.forEach(({ data: d, childNodes: u }) => {
      let c = Mt(Ue({}, d), { [e.childrenName]: [] });
      u && u.length && l(u, c[e.childrenName]), s.push(c);
    });
  };
  if (i)
    e.treeData = o;
  else if (t.$refs.selectTree) {
    const a = [];
    l(t.$refs.selectTree.state.root.childNodes, a), e.treeData = a;
    const { multiple: s, treeOp: d } = n;
    if (s && d.lazy) {
      const u = t.$refs.selectTree.getCheckedNodes(), c = t.$refs.selectTree.getCheckedKeys();
      r.nodeCheckClick(null, { checkedNodes: u, checkedKeys: c });
    }
  }
}, yC = ({ props: e, emit: t }) => (n) => {
  if (e.multiple) {
    let r = e.modelValue.slice();
    n.forEach((o) => {
      r = r.filter((i) => i !== o);
    }), t("update:modelValue", n.concat(r));
  }
}, bC = ({ nextTick: e, state: t, parent: n }) => () => {
  xn || e(() => {
    const o = n.$el.querySelector('input[data-tag="tiny-input-inner"]');
    if (o) {
      const { paddingRight: i } = getComputedStyle(o);
      t.inputPaddingRight = parseFloat(i) || 0;
    }
  });
}, CC = ({ state: e }) => () => e.isDisplayOnly, wC = () => (e) => !e.required, SC = ({ designConfig: e, props: t }) => () => t.dropdownIcon ? { icon: t.dropdownIcon } : {
  icon: (e == null ? void 0 : e.icons.dropdownIcon) || "icon-down-ward",
  isDefault: !0
}, $C = ({ designConfig: e, props: t }) => () => {
  var n;
  return (n = e == null ? void 0 : e.props) != null && n.tagType && !t.tagType ? e.props.tagType : t.tagType;
}, kC = ({ state: e, api: t }) => () => {
  e.query = "", e.previousQuery = void 0, t.handleQueryChange(e.query);
}, TC = ({ props: e, emit: t }) => (n) => {
  e.clearNoMatchValue && (e.multiple && e.modelValue.length !== n.length || !e.multiple && e.modelValue !== n) && t("update:modelValue", n);
}, _C = ({ state: e, api: t }) => Ve(e.debounce, (n) => {
  t.handleQueryChange(n, !1, !0);
}), IC = ({ state: e, props: t, nextTick: n, api: r }) => (o) => {
  o.stopPropagation(), t.clickExpand && !t.disabled && !e.isDisplayOnly && (e.showCollapseTag = !e.showCollapseTag, n(r.resetInputHeight));
}, EC = [
  "state",
  "nodeCollapse",
  "nodeExpand",
  "toggleCheckAll",
  "handleCopyClick",
  "focus",
  "blur",
  "showTip",
  "doDestroy",
  "getOption",
  "emitChange",
  "handleBlur",
  "toggleMenu",
  "getValueKey",
  "handleFocus",
  "handleClose",
  "setSoftFocus",
  "getValueIndex",
  "scrollToOption",
  "resetHoverIndex",
  "onOptionDestroy",
  "resetInputWidth",
  "resetInputHeight",
  "managePlaceholder",
  "checkDefaultFirstOption",
  "setOptionHighlight",
  "toggleLastOptionHitState",
  "deleteTag",
  "setSelected",
  "selectOption",
  "handleResize",
  "deletePrevTag",
  "onInputChange",
  "deleteSelected",
  "handleMenuEnter",
  "resetInputState",
  "handleClearClick",
  "handleComposition",
  "handleQueryChange",
  "handleOptionSelect",
  "debouncedOnInputChange",
  "debouncedQueryChange",
  "navigateOptions",
  "selectChange",
  "radioChange",
  "treeNodeClick",
  "nodeCheckClick",
  "buildSelectConfig",
  "buildRadioConfig",
  "onMouseenterNative",
  "onMouseleaveNative",
  "onMouseenterSelf",
  "onCopying",
  "handleDropdownClick",
  "handleEnterTag",
  "getLabelSlotValue",
  "loadTreeData",
  "updateModelValue",
  "clearSearchText",
  "onClickCollapseTag",
  "computedShowTagText",
  "isTagClosable"
], OC = ({ reactive: e, computed: t, props: n, api: r, emitter: o, parent: i, constants: l, useBreakpoint: a, vm: s, designConfig: d }) => {
  const u = MC({ computed: t, props: n, api: r, parent: i }), c = e(Mt(Ue({}, u), {
    selectEmitter: o(),
    datas: [],
    initDatas: [],
    query: "",
    options: [],
    visible: !1,
    showCopy: t(() => r.computedShowCopy()),
    showWarper: !0,
    // 显示下拉外层控制
    selected: n.multiple ? [] : {},
    softFocus: !1,
    hover: !1,
    triggerSearch: !1,
    firstAutoSearch: n.remoteConfig.autoSearch,
    tagsStyle: t(() => r.computedTagsStyle()),
    readonly: t(() => r.computedReadonly()),
    iconClass: t(() => c.visible ? "" : l.CLASS.IsReverse),
    showClose: t(() => r.computedShowClose()),
    optionsAllDisabled: t(() => r.computedOptionsAllDisabled()),
    collapseTagSize: t(() => r.computedCollapseTagSize()),
    showNewOption: t(() => r.computedShowNewOption()),
    selectSize: t(() => xn ? 0 : n.size || c.formItemSize),
    optimizeOpts: t(() => r.computeOptimizeOpts()),
    optimizeStore: { valueIndex: 0, recycleScrollerHeight: t(() => r.recycleScrollerHeight()) },
    collapseTags: t(() => r.computeCollapseTags()),
    multipleLimit: t(() => r.computeMultipleLimit()),
    disabledTooltipContent: t(() => r.computedDisabledTooltipContent()),
    isExpand: t(() => r.computedIsExpand()),
    collapseTagsLength: 0,
    initValue: [],
    key: 0,
    device: "",
    timer: null,
    modelValue: [],
    queryValue: "",
    selectedCopy: [],
    compareValue: null,
    selectedVal: t(
      () => c.device === "mb" && n.multiple && c.visible ? c.selectedCopy : c.selected
    ),
    displayOnlyContent: t(() => {
      var f;
      if (n.multiple)
        return Array.isArray(c.selected) ? c.isDisplayOnly && n.options && n.options.length > 0 ? c.selected.map((h) => {
          const p = n.options.find((v) => v[n.valueField] === h.value);
          return p ? p[n.textField] : "";
        }).join("; ") : c.selected.map((h) => h.state ? h.state.currentLabel : h.currentLabel).join("; ") : "";
      if (c.selected)
        if (c.isDisplayOnly && n.options && n.options.length > 0) {
          const h = n.options.find((p) => p[n.valueField] === c.selected.value);
          return h ? h[n.textField] : "";
        } else
          return ((f = c.selected.state) == null ? void 0 : f.currentLabel) || c.selected.currentLabel || c.selected.label || "";
      else
        return "";
    }),
    breakpoint: a ? a().current : "",
    isSaaSTheme: s.theme === "saas",
    disabledOptionHover: !1,
    hasClearSelection: !1,
    // tiny 新增
    getIcon: t(() => r.computedGetIcon()),
    getTagType: t(() => r.computedGetTagType()),
    isSelectAll: t(() => c.selectCls === "checked-sur"),
    autoHideDownIcon: d != null && d.state && "autoHideDownIcon" in d.state ? d.state.autoHideDownIcon : !0,
    designConfig: d,
    currentSizeMap: t(() => r.computedCurrentSizeMap())
  }));
  return c;
}, MC = ({ computed: e, props: t, api: n, parent: r }) => {
  const { isIOS: o } = Zd();
  return {
    selectedTags: [],
    tips: "",
    showTip: !1,
    tipHover: !1,
    selectHover: !1,
    tipTimer: null,
    selectCls: "checked-sur",
    filteredSelectCls: "checked-sur",
    overflow: null,
    completed: !1,
    inputWidth: 0,
    inputPaddingRight: 0,
    hoverIndex: -1,
    hoverValue: -1,
    optionsIndex: -1,
    inputLength: 20,
    optionsCount: 0,
    selectFiexd: {},
    createdLabel: null,
    isSilentBlur: !1,
    cachedOptions: [],
    selectedLabel: "",
    previousQuery: null,
    inputHovering: !1,
    createdSelected: !1,
    isOnComposition: !1,
    cachedPlaceHolder: t.placeholder,
    inputHeight: 0,
    initialInputHeight: 0,
    currentPlaceholder: t.placeholder,
    filteredOptionsCount: 0,
    gridData: [],
    treeData: [],
    remoteData: [],
    currentKey: t.modelValue,
    updateId: "",
    popperElm: null,
    debounce: e(() => ii(t.queryDebounce) ? t.queryDebounce : t.remote ? 300 : 0),
    emptyText: e(() => n.emptyText()),
    emptyFlag: e(() => n.emptyFlag()),
    formItemSize: e(() => (r.formItem || { state: {} }).state.formItemSize),
    selectDisabled: e(() => n.computedSelectDisabled()),
    isDisplayOnly: e(() => t.displayOnly || (r.form || {}).displayOnly),
    isDisabled: e(() => t.disabled || (r.form || {}).disabled),
    isShowTagText: e(() => n.computedShowTagText()),
    gridCheckedData: e(() => n.getcheckedData()),
    isExpandAll: e(() => n.computedIsExpandAll()),
    searchSingleCopy: e(() => t.allowCopy && !t.multiple && (t.filterable || t.searchable)),
    childrenName: e(() => t.treeOp.props && t.treeOp.props.children || "children"),
    tooltipContent: {},
    isHidden: !1,
    defaultCheckedKeys: [],
    optionIndexArr: [],
    isIOS: o,
    showCollapseTag: !1,
    exceedMaxVisibleRow: !1,
    // 是否超出默认最大显示行数
    toHideIndex: 1 / 0,
    // 第一个超出被隐藏的索引
    willFocusRun: !1,
    // 进入focus时，延时等一下看是否触发blur,触发则不进入focus
    willFocusTimer: 0
  };
}, xC = ({
  api: e,
  props: t,
  state: n,
  emit: r,
  maskState: o,
  constants: i,
  parent: l,
  nextTick: a,
  dispatch: s,
  t: d,
  vm: u,
  isMobileFirstMode: c,
  designConfig: f
}) => {
  Object.assign(e, {
    state: n,
    maskState: o,
    doDestroy: j1(u),
    getTreeData: x0(t, n),
    blur: z1({ vm: u, state: n }),
    focus: F1({ vm: u, state: n }),
    getValueKey: f0(t),
    handleClose: W1(n),
    getValueIndex: t0(t),
    getChildValue: N0(),
    getOption: M1({ props: t, state: n, api: e }),
    getSelectedOption: x1({ props: t, state: n }),
    emitChange: E1({ emit: r, props: t, state: n, constants: i }),
    directEmitChange: O1({ emit: r, props: t, state: n }),
    toggleMenu: n0({ vm: u, state: n, props: t, api: e }),
    showTip: w1({ props: t, state: n, vm: u }),
    onOptionDestroy: a0(n),
    setSoftFocus: e0({ vm: u, state: n, props: t }),
    getcheckedData: O0({ props: t, state: n }),
    resetInputWidth: s0({ vm: u, state: n }),
    resetHoverIndex: Y1({ props: t, state: n }),
    resetDatas: X1({ props: t, state: n }),
    scrollToOption: _1({ vm: u, constants: i }),
    selectChange: E0({ props: t, vm: u, state: n, api: e }),
    radioChange: M0({ props: t, state: n, api: e, vm: u }),
    handleCopyClick: I0({ parent: l, props: t, state: n }),
    treeNodeClick: D0({ props: t, state: n, api: e, vm: u }),
    managePlaceholder: G1({ vm: u, state: n }),
    nodeCheckClick: A0({ props: t, state: n, api: e }),
    checkDefaultFirstOption: c0(n),
    setOptionHighlight: u0(n),
    nodeExpand: R0({ state: n, constants: i }),
    nodeCollapse: L0({ state: n, constants: i }),
    handleBlur: H1({ constants: i, dispatch: s, emit: r, state: n, designConfig: f }),
    toggleLastOptionHitState: K1({ state: n }),
    emptyText: g0({ I18N: i.I18N, props: t, state: n, t: d, isMobileFirstMode: c }),
    emptyFlag: p0({ props: t, state: n }),
    getOptionIndexArr: T0({ props: t, state: n, api: e }),
    queryVisibleOptions: _0({ props: t, vm: u, isMobileFirstMode: c }),
    recycleScrollerHeight: v0({ state: n, props: t, recycle: i.RECYCLE }),
    watchPropsOption: P0({ constants: i, parent: l, props: t, state: n }),
    buildSelectConfig: F0({ props: t, state: n }),
    buildRadioConfig: z0({ props: t, state: n }),
    onMouseenterNative: H0({ state: n }),
    onMouseleaveNative: j0({ state: n }),
    onMouseenterSelf: B0({ state: n }),
    onCopying: W0({ state: n, vm: u }),
    gridOnQueryChange: S1({ props: t, vm: u, constants: i, state: n }),
    watchHoverIndex: K0({ state: n }),
    computeOptimizeOpts: eC({ props: t, designConfig: f }),
    computeCollapseTags: nC(t),
    computeMultipleLimit: rC({ props: t, state: n }),
    watchInputHover: Z0({ vm: u }),
    initQuery: Y0({ props: t, state: n, constants: i, vm: u }),
    updateModelValue: oC({ props: t, emit: r, state: n }),
    computedTagsStyle: lC({ props: t, parent: l, state: n, vm: u }),
    computedReadonly: aC({ props: t, state: n }),
    computedShowClose: sC({ props: t, state: n }),
    computedCollapseTagSize: dC(n),
    computedShowNewOption: uC({ props: t, state: n }),
    computedShowCopy: cC({ props: t, state: n }),
    computedOptionsAllDisabled: fC(n),
    computedDisabledTooltipContent: hC({ state: n }),
    computedSelectDisabled: pC({ state: n }),
    computedIsExpand: vC({ props: t, state: n }),
    computedIsExpandAll: gC(t),
    watchInitValue: yC({ props: t, emit: r }),
    watchShowClose: bC({ nextTick: a, state: n, parent: l }),
    // tiny 新增
    computedGetIcon: SC({ designConfig: f, props: t }),
    computedGetTagType: $C({ designConfig: f, props: t }),
    clearSearchText: kC({ state: n, api: e }),
    clearNoMatchValue: TC({ props: t, emit: r }),
    computedShowTagText: CC({ state: n }),
    isTagClosable: wC(),
    computedCurrentSizeMap: X0({ state: n, designConfig: f })
  }), DC({ api: e, props: t, state: n, emit: r, constants: i, parent: l, nextTick: a, dispatch: s, vm: u, isMobileFirstMode: c, designConfig: f });
}, DC = ({
  api: e,
  props: t,
  state: n,
  emit: r,
  constants: o,
  parent: i,
  nextTick: l,
  dispatch: a,
  vm: s,
  isMobileFirstMode: d,
  designConfig: u
}) => {
  Object.assign(e, {
    resetInputHeight: Z1({ api: e, constants: o, nextTick: l, props: t, vm: s, state: n, designConfig: u }),
    calcOverFlow: b0({ vm: s, props: t, state: n }),
    handleFocus: P1({ emit: r, props: t, state: n }),
    deleteTag: i0({ api: e, constants: o, emit: r, props: t, vm: s, nextTick: l, state: n }),
    watchValue: y0({ api: e, constants: o, dispatch: a, props: t, vm: s, state: n }),
    toHide: S0({ constants: o, state: n, props: t, vm: s, api: e }),
    toVisible: w0({ constants: o, state: n, props: t, vm: s, api: e, nextTick: l }),
    setSelected: R1({ api: e, constants: o, nextTick: l, props: t, vm: s, state: n }),
    selectOption: r0({ api: e, state: n, props: t }),
    handleResize: d0({ api: e, props: t, state: n }),
    watchOptions: k0({ api: e, constants: o, nextTick: l, parent: i, props: t, state: n }),
    watchVisible: $0({ api: e, constants: o, emit: r, state: n, vm: s, props: t }),
    deletePrevTag: q1({ api: e, constants: o, props: t, state: n, vm: s }),
    onInputChange: l0({ api: e, props: t, state: n, constants: o, nextTick: l }),
    deleteSelected: o0({ api: e, constants: o, emit: r, props: t, vm: s, state: n }),
    handleMenuEnter: I1({ api: e, nextTick: l, state: n, props: t }),
    resetInputState: U1({ api: e, vm: s, state: n }),
    navigateOptions: h0({ api: e, state: n, props: t, nextTick: l }),
    handleClearClick: B1(e),
    handleComposition: C1({ api: e, nextTick: l, state: n }),
    handleQueryChange: T1({ api: e, constants: o, nextTick: l, props: t, vm: s, state: n }),
    handleOptionSelect: Q1({ api: e, nextTick: l, props: t, vm: s, state: n }),
    getPluginOption: V1({ api: e, props: t, state: n }),
    toggleCheckAll: N1({ api: e, state: n, props: t }),
    handleDebouncedQueryChange: _C({ state: n, api: e }),
    debouncedQueryChange: (c) => {
      const f = t.shape ? c : c.target.value;
      e.handleDebouncedQueryChange(f);
    },
    debouncedOnInputChange: Ve(n.debounce, () => {
      e.onInputChange();
    }),
    debouncRquest: V0({ api: e, state: n, props: t }),
    defaultOnQueryChange: $1({ props: t, state: n, constants: o, api: e, nextTick: l }),
    queryChange: k1({ props: t, state: n, constants: o }),
    mounted: Q0({ api: e, parent: i, state: n, props: t, vm: s, designConfig: u }),
    unMount: J0({ api: e, parent: i, vm: s, state: n }),
    watchOptimizeOpts: tC({ props: t, state: n }),
    handleDropdownClick: q0({ props: t, vm: s, state: n, emit: r }),
    handleEnterTag: G0({ state: n }),
    calcCollapseTags: U0({ state: n, vm: s, props: t }),
    initValue: J1({ state: n }),
    getLabelSlotValue: iC({ props: t, state: n }),
    loadTreeData: mC({ state: n, vm: s, props: t, api: e }),
    onClickCollapseTag: IC({ state: n, props: t, nextTick: l, api: e })
  });
}, AC = ({ watch: e, props: t, api: n, state: r, nextTick: o }) => {
  e(
    () => t.treeOp.data,
    (i) => i && (r.treeData = i),
    { immediate: !0, deep: !0 }
  ), e(
    () => t.gridOp.data,
    (i) => i && (r.gridData = i),
    { immediate: !0, deep: !0 }
  ), e(
    () => r.selectDisabled,
    () => o(n.resetInputHeight)
  ), e(
    () => t.placeholder,
    (i) => {
      r.cachedPlaceHolder = r.currentPlaceholder = i;
    }
  ), e(
    () => t.modelValue,
    () => {
      t.multiple && Array.isArray(t.modelValue) ? r.modelValue = [...t.modelValue] : r.modelValue = t.modelValue;
    },
    { immediate: !0, deep: !0 }
  ), e(() => r.modelValue, n.watchValue), e(
    () => r.selectedLabel,
    () => {
      t.trim && (r.selectedLabel = r.selectedLabel.trim());
    }
  ), e(
    () => t.extraQueryParams,
    () => n.handleQueryChange(r.previousQuery, !0),
    { deep: !0 }
  ), e(
    () => r.breakpoint,
    (i) => {
      i === "default" ? r.device = "mb" : r.device = "pc";
    },
    { immediate: !0, deep: !0 }
  ), e(
    () => r.device,
    (i, l) => {
      l !== "" && r.visible && n.updateModelValue(r.modelValue, !0);
    }
  ), e(() => r.visible, n.watchVisible), e(() => r.initValue, n.watchInitValue, { deep: !0 }), LC({ watch: e, props: t, api: n, state: r, nextTick: o });
}, LC = ({ watch: e, props: t, api: n, state: r, nextTick: o }) => {
  e(() => [...r.options], n.watchOptions), t.renderType === "grid" && !t.optimization && e(() => r.gridData, n.setSelected, { immediate: !0 }), t.renderType === "tree" && !t.optimization && e(() => r.treeData, n.setSelected, { immediate: !0 }), e(() => r.hoverIndex, n.watchHoverIndex), t.options && e(() => t.options, n.watchPropsOption, { immediate: !0, deep: !0 }), t.optimization && e(() => r.optimizeOpts, n.watchOptimizeOpts, { immediate: !0 }), e([() => r.inputHovering, () => r.visible], n.watchInputHover), e(() => r.showClose, n.watchShowClose, { immediate: !0 }), e(
    () => r.selectHover,
    () => t.hoverExpand && !t.disabled && !r.isDisplayOnly && o(n.resetInputHeight)
  );
}, RC = (e, { computed: t, onBeforeUnmount: n, onMounted: r, reactive: o, watch: i, provide: l, inject: a }, { vm: s, parent: d, emit: u, constants: c, nextTick: f, dispatch: h, t: p, emitter: v, isMobileFirstMode: g, useBreakpoint: m, designConfig: b }) => {
  const y = {}, S = OC({
    reactive: o,
    computed: t,
    props: e,
    api: y,
    emitter: v,
    parent: d,
    constants: c,
    useBreakpoint: m,
    vm: s,
    designConfig: b
  }), w = a("dialog", null);
  l("selectEmitter", S.selectEmitter), l("selectVm", s);
  const _ = o({ width: "", height: "", top: "" });
  return xC({
    api: y,
    props: e,
    state: S,
    emit: u,
    maskState: _,
    constants: c,
    parent: d,
    nextTick: f,
    dispatch: h,
    t: p,
    vm: s,
    isMobileFirstMode: g,
    designConfig: b
  }), d.$on("handle-clear", ($) => {
    y.handleClearClick($);
  }), e.multiple && !Array.isArray(e.modelValue) && u("update:modelValue", []), !e.multiple && Array.isArray(e.modelValue) && u("update:modelValue", ""), w && w.state.emitter.on("handleSelectClose", y.handleClose), S.selectEmitter.on(c.EVENT_NAME.handleOptionClick, y.handleOptionSelect), S.selectEmitter.on(c.EVENT_NAME.setSelected, y.setSelected), S.selectEmitter.on(c.EVENT_NAME.initValue, y.initValue), AC({ watch: i, props: e, api: y, state: S, nextTick: f }), r(y.mounted), n(() => {
    y.unMount(), w && w.state.emitter.off("handleSelectClose", y.handleClose);
  }), y;
}, VC = ({ emit: e, props: t, state: n }) => (r) => {
  if (t.disabled)
    return;
  r.stopPropagation(), n.show = !1;
  const o = () => e("close", r);
  t.beforeDelete ? t.beforeDelete(o) : o();
}, NC = ({ emit: e, props: t, parent: n, state: r }) => (o) => {
  t.selectable || t.disabled || (n.$parent && n.$parent.tagSelectable && o.stopPropagation(), r.selected = !r.selected, e("click", o));
}, PC = ["state", "handleClose", "handleClick"], FC = (e, { reactive: t, computed: n }, { emit: r, parent: o }) => {
  const i = t({
    type: n(() => e.theme || e.type),
    show: !0,
    selected: !1,
    mini: e.mini,
    color: e.color,
    text: e.text,
    maxWidth: e.maxWidth
  });
  return {
    state: i,
    handleClose: VC({ emit: r, props: e, state: i }),
    handleClick: NC({ emit: r, props: e, parent: o, state: i })
  };
};
var Yr = /* @__PURE__ */ U({
  components: {
    IconClose: dn()
  },
  emits: ["click", "close"],
  props: [].concat(Ne, [
    "text",
    "closable",
    "type",
    "hit",
    //  hit 只保留类名供aui使用， tinyvue 这边的border是随着规范走，取决于css var中的border色值
    "disabled",
    "color",
    "size",
    "effect",
    "value",
    "beforeDelete",
    "onlyIcon",
    "maxWidth"
  ]),
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: FC,
      api: PC
    });
  },
  render: function() {
    var t = this.type, n = this.size, r = this.hit, o = this.effect, i = this.slots, l = this.closable, a = this.color, s = this.handleClose, d = this.handleClick, u = this.disabled;
    this.state;
    var c = this.value, f = this.onlyIcon, h = this.maxWidth, p = {}, v = ["tiny-tag", t ? "tiny-tag--" + t : "", n ? "tiny-tag--" + n : "", o ? "tiny-tag--" + o : "", r && "is-hit", u ? "is-disabled" : "", f ? "tiny-tag--only-icon" : ""];
    a && (Array.isArray(a) ? p = {
      background: a[0],
      color: a[1]
    } : ["red", "orange", "green", "blue", "purple", "brown", "grey", "gold"].includes(a) ? v.push("tiny-tag--" + a) : p = {
      background: a
    }), h && (p.maxWidth = h);
    var g = c || i.default && i.default() ? E("span", {
      "data-tag": "tiny-tag",
      class: v,
      style: p,
      onClick: d
    }, [c ? E("span", null, [c]) : i.default && i.default(), l && E(K("icon-close"), {
      class: "tiny-svg-size tiny-tag__close",
      onClick: s
    }, null)]) : E("span", null, null);
    return g;
  }
});
function Lo() {
  return Lo = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, Lo.apply(null, arguments);
}
var zC = function(t) {
  var n, r = typeof process == "object" ? (n = process.env) == null ? void 0 : n.TINY_MODE : null;
  return Yr;
}, HC = Lo({}, le, {
  hit: Boolean,
  text: String,
  type: String,
  theme: String,
  size: String,
  color: {
    type: [String, Array],
    default: ""
  },
  closable: Boolean,
  operable: Boolean,
  disabled: Boolean,
  selectable: Boolean,
  onlyIcon: Boolean,
  // 仅图标模式
  customClass: {
    type: String,
    default: ""
  },
  effect: {
    type: String,
    default: "light",
    validator: function(t) {
      return !!~["dark", "light", "plain"].indexOf(t);
    }
  },
  beforeDelete: Function,
  value: [Number, String],
  maxWidth: {
    type: [String, Number],
    default: null
  },
  // mobile
  mini: {
    type: Boolean,
    default: !1
  }
}), Qt = U({
  name: te + "Tag",
  props: HC,
  setup: function(t, n) {
    return Ie({
      props: t,
      context: n,
      template: zC
    });
  }
}), BC = "3.undefined";
Qt.install = function(e) {
  e.component(Qt.name, Qt);
};
Qt.version = BC;
const jC = ["state", "visible", "hoverItem", "selectOptionClick"], WC = ({ reactive: e, computed: t, props: n, api: r, markRaw: o, select: i, parent: l }) => {
  const a = e({
    parent: o(l),
    selectMultiple: t(() => i.multiple),
    created: t(() => n.created),
    index: -1,
    hover: t(() => !i.optimization && i.state.hoverValue === a.index),
    visible: !0,
    hitState: !1,
    groupDisabled: !1,
    disabled: t(() => n.disabled || a.groupDisabled),
    isObject: t(() => Object.prototype.toString.call(n.value).toLowerCase() === "[object object]"),
    currentLabel: t(() => n.label || (a.isObject ? "" : n.value)),
    currentValue: n.value || n.label || "",
    itemSelected: t(() => i.multiple ? r.contains(i.state.modelValue, n.value) : r.isEqual(n.value, i.state.modelValue)),
    limitReached: t(() => {
      if (i.multiple) {
        const s = i.state.multipleLimit;
        return !a.itemSelected && (i.state.modelValue || []).length >= s && s > 0;
      } else
        return !1;
    }),
    selectCls: t(() => a.itemSelected ? "checked-sur" : "check")
  });
  return a;
}, KC = ({ api: e, props: t, state: n, select: r, constants: o, vm: i }) => {
  Object.assign(e, {
    state: n,
    isEqual: h1({ select: r, state: n }),
    contains: p1({ select: r, state: n }),
    hoverItem: g1({ select: r, props: t, state: n }),
    queryChange: y1({ select: r, props: t, state: n }),
    selectOptionClick: m1({ constants: o, vm: i, props: t, state: n, select: r }),
    handleGroupDisabled: v1({ state: n, vm: i }),
    initValue: b1({ select: r, props: t, constants: o, vm: i })
  });
}, qC = ({ watch: e, props: t, state: n, select: r, constants: o }) => {
  e(
    () => n.currentLabel,
    () => {
      !t.created && !r.remote && r.state.selectEmitter.emit(o.EVENT_NAME.setSelected);
    }
  ), e(
    () => t.value,
    (i, l) => {
      const { remote: a, valueKey: s } = r;
      if (n.currentValue = i || t.label || "", !t.created && !a) {
        if (s && typeof i == "object" && typeof l == "object" && i[s] === l[s])
          return;
        r.state.selectEmitter.emit(o.EVENT_NAME.setSelected);
      }
    }
  );
}, GC = ({ onMounted: e, props: t, api: n, vm: r, state: o, constants: i, select: l }) => {
  e(() => {
    o.el = r.$el, Ha({ props: t, vm: r, type: "add" }), l.optimization || l.state.selectEmitter.on(i.EVENT_NAME.queryChange, n.queryChange), n.initValue();
  });
}, UC = ({ onBeforeUnmount: e, props: t, select: n, vm: r, state: o }) => {
  e(() => {
    let i = n.multiple ? n.state.selected : [n.state.selected];
    const l = n.state.cachedOptions.findIndex((s) => s.state === o), a = i.findIndex((s) => s.state === o);
    Ha({ props: t, vm: r, type: "remove" }), l > -1 && a < 0 && n.state.cachedOptions.splice(l, 1), n.onOptionDestroy(n.state.options.findIndex((s) => s.state === o));
  });
}, ZC = ({ state: e, select: t, props: n, toRefs: r, reactive: o }) => {
  let i = o(Mt(Ue({}, r(n)), { state: e }));
  t.state.options.push(i), t.state.cachedOptions.push(i), t.state.optionsIndex++, e.index = t.state.optionsIndex, t.state.optionsCount++, t.state.filteredOptionsCount++;
}, YC = (e, { computed: t, onMounted: n, onBeforeUnmount: r, reactive: o, watch: i, inject: l, markRaw: a, toRefs: s }, { vm: d, parent: u }) => {
  const c = {}, f = l("select"), h = f._constants, p = WC({ reactive: o, computed: t, props: e, api: c, markRaw: a, select: f, parent: u });
  return KC({ api: c, props: e, state: p, select: f, constants: h, vm: d }), qC({ watch: i, props: e, state: p, select: f, constants: h }), GC({ onMounted: n, props: e, api: c, vm: d, state: p, constants: h, select: f }), UC({ onBeforeUnmount: r, props: e, select: f, vm: d, state: p }), ZC({ state: p, select: f, props: e, toRefs: s, reactive: o }), u.$on(h.EVENT_NAME.handleGroupDisabled, c.handleGroupDisabled), c;
};
function XC(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = QC(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function QC(e, t) {
  if (e) {
    if (typeof e == "string") return Ki(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Ki(e, t) : void 0;
  }
}
function Ki(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var JC = function(t, n) {
  for (var r = t.__vccOpts || t, o = XC(n), i; !(i = o()).done; ) {
    var l = i.value, a = l[0], s = l[1];
    r[a] = s;
  }
  return r;
}, ew = U({
  name: te + "Option",
  componentName: "Option",
  directives: {
    AutoTip: _n
  },
  components: {
    IconCheck: Vt(),
    IconCheckedSur: Nt(),
    IconFinish: Pa()
  },
  props: [].concat(Ne, ["value", "label", "created", "disabled", "events", "visible", "highlightClass", "required", "icon"]),
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: YC,
      api: jC
    });
  }
}), tw = ["data-index", "title"], nw = {
  key: 0,
  class: "tiny-option__checkbox-wrap tiny-select-dropdown__item-checkbox"
}, rw = {
  class: "tiny-option-label"
};
function ow(e, t, n, r, o, i) {
  var l = Qe("auto-tip");
  return ae((C(), k("li", {
    ref: "option",
    onMouseenter: t[0] || (t[0] = function() {
      return e.hoverItem && e.hoverItem.apply(e, arguments);
    }),
    onClick: t[1] || (t[1] = X(function() {
      return e.selectOptionClick && e.selectOptionClick.apply(e, arguments);
    }, ["stop"])),
    onMousedown: t[2] || (t[2] = X(function() {
    }, ["stop"])),
    "data-tag": "tiny-option",
    "data-index": e.state.index,
    class: W(["tiny-option tiny-select-dropdown__item", [{
      selected: e.state.itemSelected,
      "is-disabled": e.disabled || e.state.groupDisabled || e.state.limitReached,
      hover: e.state.hover && !e.state.limitReached,
      "is-required": e.required
    }, e.highlightClass]]),
    title: e.state.currentLabel || ""
  }, [e.state.selectMultiple ? (C(), k("span", nw, [(C(), z(Te("icon-" + e.state.selectCls), {
    class: W("tiny-svg-size " + e.state.selectCls)
  }, null, 8, ["class"]))])) : P("v-if", !0), e.icon ? (C(), z(Te(e.icon), {
    key: 1,
    class: "tiny-option__icon"
  })) : P("v-if", !0), T(
    "div",
    {
      class: W(["tiny-option-wrapper", e.state.selectMultiple ? "calc-width" : "full-width"])
    },
    [G(e.$slots, "default", {}, function() {
      return [ae((C(), k("span", rw, [de(
        j(e.state.currentLabel),
        1
        /* TEXT */
      )])), [[l, {
        placement: "right"
      }]])];
    })],
    2
    /* CLASS */
  )], 42, tw)), [[De, e.visible && e.state.visible]]);
}
var Xr = /* @__PURE__ */ JC(ew, [["render", ow]]);
function Ro() {
  return Ro = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, Ro.apply(null, arguments);
}
var iw = function(t) {
  var n, r = typeof process == "object" ? (n = process.env) == null ? void 0 : n.TINY_MODE : null;
  return Xr;
}, lw = Ro({}, le, {
  value: {
    required: !0
  },
  label: [String, Number],
  created: Boolean,
  disabled: {
    type: Boolean,
    default: !1
  },
  events: {
    type: Object,
    default: function() {
      return {};
    }
  },
  visible: {
    type: Boolean,
    default: !0
  },
  highlightClass: String,
  required: {
    type: Boolean,
    default: !1
  },
  // tiny 新增
  icon: Object
}), Jt = U({
  name: te + "Option",
  componentName: "Option",
  props: lw,
  setup: function(t, n) {
    return Ie({
      props: t,
      context: n,
      template: iw
    });
  }
}), aw = "3.undefined";
Jt.install = function(e) {
  e.component(Jt.name, Jt);
};
Jt.version = aw;
const sw = {
  key: "horizontal",
  offset: "offsetWidth",
  scroll: "scrollLeft",
  scrollSize: "scrollWidth",
  size: "width",
  axis: "X",
  client: "clientX",
  direction: "left"
}, dw = {
  key: "vertical",
  offset: "offsetHeight",
  scroll: "scrollTop",
  scrollSize: "scrollHeight",
  size: "height",
  axis: "Y",
  client: "clientY",
  direction: "top"
}, uw = {
  horizontal: sw,
  vertical: dw
}, cw = ({ bar: e, move: t, size: n }) => {
  const r = {}, o = `translate${e.axis}(${t}%)`;
  return r[e.size] = n, Object.assign(r, { transform: o, msTransform: o, webkitTransform: o }), r;
}, fw = ({ api: e, state: t }) => (n) => {
  n.ctrlKey || n.button === 2 || (e.startDrag(n), t[t.bar.axis] = n.currentTarget[t.bar.offset] - (n[t.bar.client] - n.currentTarget.getBoundingClientRect()[t.bar.direction]));
}, hw = ({ vm: e, state: t }) => (n) => {
  const r = Math.abs(n.target.getBoundingClientRect()[t.bar.direction] - n[t.bar.client]), o = e.$refs.thumb[t.bar.offset] / 2, i = (r - o) * 100 / e.$refs.bar[t.bar.offset];
  t.wrap[t.bar.scroll] = i * t.wrap[t.bar.scrollSize] / 100;
}, pw = ({ api: e, on: t, state: n }) => (r) => {
  r.stopImmediatePropagation(), n.cursorDown = !0, t(document, "mousemove", e.mouseMoveDocumentHandler), t(document, "mouseup", e.mouseUpDocumentHandler), document.onselectstart = () => !1;
}, vw = ({ vm: e, state: t }) => (n) => {
  if (t.cursorDown === !1)
    return;
  const r = t[t.bar.axis];
  if (!r)
    return;
  const o = (e.$refs.bar.getBoundingClientRect()[t.bar.direction] - n[t.bar.client]) * -1, i = e.$refs.thumb[t.bar.offset] - r, l = (o - i) * 100 / e.$refs.bar[t.bar.offset];
  t.wrap[t.bar.scroll] = l * t.wrap[t.bar.scrollSize] / 100;
}, gw = ({ api: e, off: t, state: n }) => () => {
  n.cursorDown = !1, n[n.bar.axis] = 0, t(document, "mousemove", e.mouseMoveDocumentHandler), document.onselectstart = null;
}, mw = ({ vm: e, state: t, emit: n }) => (r) => {
  const o = e.$refs.wrap;
  t.moveY = o.scrollTop * 100 / o.clientHeight, t.moveX = o.scrollLeft * 100 / o.clientWidth, n("scroll", r);
}, yw = ({ vm: e, state: t }) => () => {
  let n, r;
  const o = e.$refs.wrap;
  o && (n = o.clientHeight * 100 / o.scrollHeight, r = o.clientWidth * 100 / o.scrollWidth, t.sizeHeight = n < 100 ? n + "%" : "", t.sizeWidth = r < 100 ? r + "%" : "");
}, bw = ["state", "update", "handleScroll"], Cw = (e, { onBeforeUnmount: t, onMounted: n, reactive: r }, { vm: o, nextTick: i, emit: l }) => {
  const a = r({
    sizeWidth: "0",
    sizeHeight: "0",
    moveX: 0,
    moveY: 0
  }), s = {
    state: a,
    update: yw({ vm: o, state: a }),
    handleScroll: mw({ vm: o, state: a, emit: l })
  };
  return n(() => {
    e.native || (i(s.update), !e.noresize && an(o.$refs.resize, s.update));
  }), t(() => {
    e.native || !e.noresize && ln(o.$refs.resize, s.update);
  }), s;
}, ww = [
  "state",
  "startDrag",
  "renderThumbStyle",
  "clickTrackHandler",
  "clickThumbHandler",
  "mouseUpDocumentHandler",
  "mouseMoveDocumentHandler"
], Sw = (e, { computed: t, onUnmounted: n, reactive: r }, { vm: o, parent: i }) => {
  const l = r({
    bar: t(() => uw[e.vertical ? "vertical" : "horizontal"]),
    wrap: t(() => i.$refs.wrap)
  }), a = {
    state: l,
    renderThumbStyle: cw,
    clickTrackHandler: hw({ vm: o, state: l }),
    mouseMoveDocumentHandler: vw({ vm: o, state: l })
  };
  return n(() => oe(document, "mouseup", a.mouseUpDocumentHandler)), Object.assign(a, {
    startDrag: pw({ api: a, on: ee, state: l }),
    clickThumbHandler: fw({ api: a, state: l }),
    mouseUpDocumentHandler: gw({ api: a, off: oe, state: l })
  });
};
var Qr = /* @__PURE__ */ U({
  name: te + "Bar",
  props: {
    vertical: Boolean,
    show: Boolean,
    size: String,
    move: Number
  },
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: Sw,
      api: ww,
      mono: !0
    });
  },
  render: function() {
    var t = this.size, n = this.move, r = this.show, o = this.renderThumbStyle, i = this.clickTrackHandler, l = this.clickThumbHandler, a = this.state.bar;
    return E("div", {
      ref: "bar",
      class: ["tiny-scrollbar__bar", "is-" + a.key, r ? "is-show" : ""],
      onMousedown: i
    }, [E("div", {
      ref: "thumb",
      class: "tiny-scrollbar__thumb",
      onMousedown: l,
      style: o({
        bar: a,
        move: n,
        size: t
      })
    }, null)]);
  }
}), wn = /* @__PURE__ */ U({
  name: te + "Scrollbar",
  emits: ["mouseenter", "mousemove", "scroll"],
  components: {
    Bar: Qr
  },
  props: {
    marginBottomAdjust: {
      type: Number,
      default: 0
    },
    native: Boolean,
    // 如果container尺寸不会发生变化，最好设置它可以优化性能
    noresize: Boolean,
    // select 选择器下拉框数据过多时默认显示滚动条
    show: Boolean,
    tag: {
      type: String,
      default: "div"
    },
    viewClass: {},
    viewStyle: {},
    wrapClass: {},
    wrapStyle: {}
  },
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: Cw,
      api: bw,
      mono: !0
    });
  },
  render: function() {
    var t = this, n = this.tag, r = this.vm.$slots, o = this.native, i = this.wrapStyle, l = this.wrapClass, a = this.viewStyle, s = this.viewClass, d = this.handleScroll, u = this.state, c = this.show, f = this.marginBottomAdjust, h = hd(), p = i;
    if (h) {
      var v = "-" + h + "px", g = "-" + (h - f) + "px", m = "margin-bottom: " + g + "; margin-right: " + v + ";";
      Array.isArray(i) ? (p = pd(i), p.marginRight = v, p.marginBottom = g) : li(i) ? (p.marginRight = v, p.marginBottom = g) : typeof i == "string" ? p += m : p = m;
    }
    var b = F(n, {
      class: ["tiny-scrollbar__view", s],
      style: a,
      ref: "resize"
    }, r.default ? r.default() : r.empty && r.empty()), y = E("div", {
      ref: "wrap",
      style: p,
      onScroll: d,
      class: [l, "tiny-scrollbar__wrap", h ? "" : "tiny-scrollbar__wrap--hidden-default"]
    }, [[b]]), S;
    return o ? S = [E("div", {
      ref: "wrap",
      class: [l, "tiny-scrollbar__wrap"],
      style: p
    }, [[b]])] : S = [y, E(Qr, {
      move: u.moveX,
      size: u.sizeWidth,
      show: c
    }, null), E(Qr, {
      vertical: !0,
      move: u.moveY,
      size: u.sizeHeight,
      show: c
    }, null)], E("div", {
      class: "tiny-scrollbar",
      onMouseenter: function(_) {
        t.$emit("mouseenter", _);
      },
      onMousemove: function(_) {
        t.$emit("mousemove", _);
      }
    }, [S]);
  }
}), $w = "3.undefined";
wn.install = function(e) {
  e.component(wn.name, wn);
};
wn.version = $w;
const kw = ({ selectEmitter: e, constants: t, state: n, selectVm: r, updatePopper: o, destroyPopper: i, parent: l }) => () => {
  e.on(t.EVENT_NAME.updatePopper, (a) => {
    let s = !1;
    (!n.referenceElm || n.referenceElm.nodeType !== 1) && (n.referenceElm = r.$refs.reference ? r.$refs.reference.$el : r.$refs.select, r.popperElm = r.state.popperElm = n.popperElm = l.$el), l.select.state.visible && !s && (o(a), s = !0);
  }), e.on(t.EVENT_NAME.destroyPopper, i);
}, Tw = ({ selectVm: e, state: t, props: n }) => (r, o) => {
  !n.closeByMask && o || (e.multiple && e.updateModelValue(t.originValue), e.state.visible = !1, e.state.softFocus = !1);
}, _w = ({ selectVm: e }) => (t) => {
  e.handleQueryChange(t);
}, Iw = ({ state: e }) => (t) => {
  t && (e.selectedArr = e.selected.slice(0), e.deletedArr = []), e.showSelectedBox = t;
}, Ew = ({ state: e }) => (t, n) => {
  n ? (e.deletedArr = e.selectedArr.slice(0), e.selectedArr = []) : (e.selectedArr = e.selectedArr.filter((r) => r[e.valueField] !== t[e.valueField]), e.deletedArr.push(t));
}, Ow = ({ state: e, selectVm: t }) => () => {
  e.deletedArr.length && (e.deletedArr.length === e.selected.length ? t.updateModelValue([]) : t.updateModelValue(e.selectedArr.map((n) => n[e.valueField]))), e.showSelectedBox = !1;
}, Mw = ({ selectVm: e }) => () => {
  e.multiple && e.updateModelValue(e.state.modelValue, !0), e.state.visible = !1, e.state.softFocus = !1, e.$emit("confirm", e.state.modelValue), e.emitChange(e.state.modelValue, !0);
}, xw = ({ api: e, state: t }) => () => {
  t.query = "", e.debouncedQueryChange("");
}, Dw = ({ selectVm: e }) => () => {
  e.deleteSelected();
}, Aw = [
  "state",
  "doDestroy",
  "closeModal",
  "debouncedQueryChange",
  "toggleSelectedBox",
  "deleteSelected",
  "selectedBoxConfirm",
  "selectDropdownConfirm",
  "cancelSearch",
  "handleClear"
], Lw = ({ reactive: e, computed: t, popper: n, selectVm: r }) => {
  const { showPopper: o, currentPlacement: i, popperElm: l, referenceElm: a } = n;
  return e({
    showPopper: o,
    currentPlacement: i,
    popperElm: l,
    referenceElm: a,
    minWidth: "",
    query: "",
    showSelectedBox: !1,
    debounce: 300,
    selectedArr: [],
    deletedArr: [],
    originValue: [],
    showClose: t(() => r.clearable && !r.multiple && r.modelValue !== ""),
    filterable: t(() => r.filterable),
    multiple: t(() => r.multiple),
    popperClass: t(() => r.popperClass),
    selected: t(
      () => r.renderType === "tree" && !r.treeOp.checkStrictly ? r.state.selected.filter((d) => !d.children) : r.state.selected
    ),
    device: t(() => r.state.device),
    visible: !1,
    windowScrollTop: 0,
    zIndex: 2e3,
    valueField: t(() => r.renderType === "tree" ? "id" : "value")
  });
}, Rw = ({ api: e, popper: t, state: n, selectEmitter: r, constants: o, selectVm: i, parent: l, nextTick: a, props: s }) => {
  const { destroyPopper: d, doDestroy: u, updatePopper: c } = t;
  Object.assign(e, {
    state: n,
    doDestroy: u,
    handleQueryChange: _w({ selectVm: i }),
    debouncedQueryChange: Ve(n.debounce, (f) => {
      e.handleQueryChange(f);
    }),
    toggleSelectedBox: Iw({ state: n }),
    deleteSelected: Ew({ state: n }),
    selectedBoxConfirm: Ow({ state: n, selectVm: i }),
    selectDropdownConfirm: Mw({ selectVm: i }),
    closeModal: Tw({ state: n, selectVm: i, props: s }),
    cancelSearch: xw({ api: e, state: n }),
    handleClear: Dw({ selectVm: i }),
    mounted: kw({ selectEmitter: r, constants: o, state: n, selectVm: i, updatePopper: c, destroyPopper: d, parent: l })
  });
}, Vw = ({ watch: e, selectVm: t, state: n, nextTick: r }) => {
  e(
    () => xn ? void 0 : t.state.inputWidth,
    (o) => {
      r(() => {
        n.minWidth = (t && t.$el && t.$el.getBoundingClientRect().width || o) + "px";
      });
    },
    { immediate: !0 }
  ), e(
    () => n.query,
    (o) => {
      t.state.queryValue = o;
    }
  ), e(
    () => t.state.visible,
    (o) => {
      n.query = "", setTimeout(() => {
        n.visible = o, n.zIndex = Ut.nextZIndex();
      }, 0), o && t.multiple && (n.originValue = t.modelValue && t.modelValue.slice(0));
    }
  ), e(
    () => t.shape,
    () => {
      r(() => {
        n.referenceElm = t.$refs.reference && t.$refs.reference.$el;
      });
    }
  );
}, Nw = (e, { computed: t, onBeforeUnmount: n, onDeactivated: r, onMounted: o, reactive: i, toRefs: l, watch: a, inject: s }, { vm: d, slots: u, parent: c, emit: f, nextTick: h, isMobileFirstMode: p }) => {
  const v = {}, g = c.select._constants, m = s("selectEmitter"), b = s("selectVm"), y = ci({
    emit: f,
    nextTick: h,
    onBeforeUnmount: n,
    onDeactivated: r,
    props: e,
    reactive: i,
    vm: d,
    slots: u,
    toRefs: l,
    watch: a
  }), S = Lw({ reactive: i, computed: t, popper: y, selectVm: b });
  return Rw({ api: v, popper: y, state: S, selectEmitter: m, constants: g, selectVm: b, parent: c, nextTick: h, props: e }), Vw({ watch: a, selectVm: b, state: S, nextTick: h }), n(() => {
    y.destroyPopper("remove"), S.popperElm = null, S.referenceElm = null;
  }), o(v.mounted), v;
};
function Pw(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = Fw(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function Fw(e, t) {
  if (e) {
    if (typeof e == "string") return qi(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? qi(e, t) : void 0;
  }
}
function qi(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var zw = function(t, n) {
  for (var r = t.__vccOpts || t, o = Pw(n), i; !(i = o()).done; ) {
    var l = i.value, a = l[0], s = l[1];
    r[a] = s;
  }
  return r;
}, Hw = U({
  props: [].concat(Ne, ["placement", "boundariesPadding", "popperOptions", "visibleArrow", "appendToBody", "transformOrigin", "reference", "popper", "offset", "modelValue", "arrowOffset", "isDropInheritWidth"]),
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: Nw,
      api: Aw
    });
  }
});
function Bw(e, t, n, r, o, i) {
  return C(), k(
    "div",
    {
      class: W(["tiny-select-dropdown tiny-popper", [{
        "is-multiple": e.state.multiple
      }, e.state.popperClass]]),
      onMousedown: t[0] || (t[0] = X(function() {
      }, ["stop"])),
      style: ke({
        minWidth: e.state.minWidth,
        width: e.isDropInheritWidth ? e.state.minWidth : "auto"
      })
    },
    [G(e.$slots, "default")],
    38
    /* CLASS, STYLE, NEED_HYDRATION */
  );
}
var Jr = /* @__PURE__ */ zw(Hw, [["render", Bw]]);
function Vo() {
  return Vo = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, Vo.apply(null, arguments);
}
var jw = function(t) {
  var n, r = typeof process == "object" ? (n = process.env) == null ? void 0 : n.TINY_MODE : null;
  return Jr;
}, en = U({
  name: te + "SelectDropdown",
  componentName: "SelectDropdown",
  inject: ["select"],
  props: Vo({}, le, {
    appendToBody: {
      type: Boolean,
      default: function() {
        return !0;
      }
    },
    arrowOffset: {
      type: Number,
      default: function() {
        return 35;
      }
    },
    boundariesPadding: {
      default: function() {
        return 0;
      }
    },
    isDropInheritWidth: Boolean,
    modelValue: Boolean,
    offset: {
      default: function() {
        return 0;
      }
    },
    placement: {
      default: function() {
        return "bottom-start";
      }
    },
    popper: {},
    popperOptions: {
      default: function() {
        return {
          gpuAcceleration: !1
        };
      }
    },
    reference: {},
    transformOrigin: {
      type: [Boolean, String],
      default: function() {
        return !0;
      }
    },
    visibleArrow: {
      default: function() {
        return !1;
      }
    },
    closeByMask: {
      type: Boolean,
      default: !0
    },
    searchPlaceholder: {
      type: String,
      default: ""
    },
    title: String
  }),
  setup: function(t, n) {
    return Ie({
      props: t,
      context: n,
      template: jw
    });
  }
}), Ww = "3.undefined";
en.model = {
  prop: "modelValue",
  event: "update:modelValue"
};
en.install = function(e) {
  e.component(en.name, en);
};
en.version = Ww;
const fr = {}, wr = {
  mixin(e) {
    return Object.assign(fr, e), wr;
  },
  get(e) {
    return fr[e];
  },
  add(e, t) {
    return fr[e] = t, wr;
  },
  delete(e) {
    return delete fr[e], wr;
  }
};
var ja = wr;
const Kw = (e, t, n) => {
  if (e)
    if (e.forEach)
      e.forEach(t, n);
    else
      for (let r = 0, o = e.length; r < o; r++)
        t.call(n, e[r], r, e);
};
var Ce = Kw;
const qw = (e, t) => Object.prototype.hasOwnProperty.call(e, t);
var It = qw;
const Gw = (e, t, n) => {
  e && Object.keys(e).forEach((r) => {
    It(e, r) && t.call(n, e[r], r, e);
  });
};
var Wa = Gw;
const Uw = (e, t, n) => e && (Array.isArray(e) ? Ce(e, t, n) : Wa(e, t, n));
var xt = Uw;
const Zw = (e, t) => {
  let n = Object[e];
  return (r) => {
    let o = [];
    if (!r)
      return o;
    if (n)
      return n(r);
    let i;
    return t > 1 ? i = (l) => {
      o.push([String(l), r[l]]);
    } : i = function() {
      o.push(arguments[t]);
    }, xt(r, i), o;
  };
};
var Yw = Zw;
const Xw = Yw("keys", 1);
var In = Xw, Ka = vd;
const Qw = (e) => typeof e == "function";
var Je = Qw;
const Jw = (e) => e === null;
var Sn = Jw;
const e2 = (e, t) => (n) => Sn(n) ? t : n[e];
var pi = e2;
const t2 = (e, t, n) => {
  let r = {};
  if (e)
    if (t)
      Je(t) || (t = pi(t)), xt(e, (o, i) => {
        r[i] = t.call(n, o, i, e);
      });
    else
      return e;
  return r;
};
var vi = t2;
const n2 = function(e, t, n) {
  let r = [];
  if (e && arguments.length > 1) {
    if (Je(t) || (t = pi(t)), e.map)
      return e.map(t, n);
    xt(e, (...o) => {
      r.push(t.apply(n, o));
    });
  }
  return r;
};
var Xn = n2;
let gi;
const Gi = (e, t, n) => e(t, n ? (r) => gi(r, n) : (r) => r);
gi = (e, t) => Ka(e) ? Gi(vi, e, t) : Array.isArray(e) ? Gi(Xn, e, t) : e;
const r2 = (e, t) => e && gi(e, t);
var At = r2;
let Ui = Object.assign;
const Zi = (e, t, n) => {
  let r = t.length;
  for (let o, i = 1; i < r; i++) {
    o = t[i];
    let l;
    n ? l = (a) => {
      e[a] = At(o[a], n);
    } : l = (a) => {
      e[a] = o[a];
    }, Ce(In(t[i]), l);
  }
  return e;
}, o2 = function(e) {
  if (e) {
    let t = arguments;
    if (e === !0) {
      if (t.length > 1)
        return e = Array.isArray(e[1]) ? [] : {}, Zi(e, t, !0);
    } else
      return Ui ? Ui.apply(Object, t) : Zi(e, t);
  }
  return e;
};
var ur = o2;
const i2 = (e, t, n) => {
  for (let r = e.length - 1; r >= 0; r--)
    t.call(n, e[r], r, e);
};
var qa = i2;
const l2 = (e, t, n) => {
  qa(In(e), (r) => {
    t.call(n, e[r], r, e);
  });
};
var a2 = l2;
const s2 = ({ useArray: e, obj: t, iterate: n, context: r, matchValue: o, restIndex: i }) => {
  let l, a = 0;
  if (e && Array.isArray(t)) {
    for (let s = 0, d = t.length; s < d; s++)
      if (!!n.call(r, t[s], s, t) === o) {
        l = [!0, !1, s, t[s]][i], a = 1;
        break;
      }
  } else
    for (let s of Object.keys(t))
      if (It(t, s) && !!n.call(r, t[s], s, t) === o) {
        l = [!0, !1, s, t[s]][i], a = 2;
        break;
      }
  return { value: l, flag: a };
}, d2 = (e, t, n, r, o) => (i, l, a) => {
  if (!i || !l)
    return o;
  if (e && i[e])
    return i[e](l, a);
  {
    const s = s2({
      useArray: t,
      obj: i,
      iterate: l,
      context: a,
      matchValue: r,
      restIndex: n
    });
    if (s.flag)
      return s.value;
  }
  return o;
};
var Ga = d2, u2 = Ga("every", 1, 1, !1, !0);
const c2 = Ga("find", 1, 3, !0);
var Le = c2;
const f2 = (e) => Xn(e, (t) => t);
var Ua = f2;
const h2 = (e) => typeof e > "u";
var gt = h2;
const p2 = (e) => Sn(e) || gt(e);
var Pr = p2;
const v2 = (e) => (
  // 以最快的方式判断数组，可忽略准确性
  e ? e.splice && e.join ? e : String(e).split(".") : []
);
var mi = v2;
const g2 = /(.+)?\[(\d+)\]$/;
var Za = g2;
const m2 = (e, t) => {
  const n = t ? t.match(Za) : "";
  return n ? n[1] ? e[n[1]] ? e[n[1]][n[2]] : void 0 : e[n[2]] : e[t];
}, y2 = (e, t) => {
  if (!e)
    return;
  let n, r = 0;
  const o = (i, l) => {
    for (n = e; r < i; r++)
      if (n = m2(n, l[r]), Pr(n))
        return;
  };
  if (e[t] || It(e, t))
    return e[t];
  {
    const i = mi(t), l = i.length;
    return l && o(l, i), n;
  }
}, b2 = (e, t, n) => {
  if (Pr(e))
    return n;
  const r = y2(e, t);
  return gt(r) ? n : r;
};
var fe = b2;
const Ya = (e, t) => gt(e) || gt(t) ? gt(t) ? 1 : -1 : Sn(e) || Sn(t) ? Sn(t) ? 1 : -1 : e && e.localeCompare ? e.localeCompare(t) : e > t ? 1 : -1, C2 = (e, t) => (n, r) => {
  let o = n[e], i = r[e];
  return o === i ? t ? t(n, r) : 0 : Ya(o, i);
}, w2 = (e, t, n, r) => (n = Array.isArray(n) ? n : [n], Ce(n, (o, i) => {
  let l;
  Je(o) ? l = (a, s) => {
    a[i] = o.call(r, a.data, s, e);
  } : l = (a) => {
    a[i] = fe(a.data, o);
  }, Ce(t, l);
}), n), S2 = (e, t, n, r) => {
  if (e) {
    if (t === r)
      return Ua(e).sort(Ya);
    let o, i = Xn(e, (s) => ({ data: s })), a = w2(e, i, t, n).length;
    if (a) {
      for (; a >= 0; )
        o = C2(a, o), a--;
      i = i.sort(o);
    }
    return Xn(i, pi("data"));
  }
  return [];
};
var $2 = S2;
const k2 = (e, t, n) => {
  let r = [];
  if (e)
    for (t = t || 0, n = n || e.length; t < n; t++)
      r.push(e[t]);
  return r;
};
var T2 = k2;
const _2 = (e, t) => (n, r) => {
  if (!n)
    return -1;
  if (typeof n == "string" || Array.isArray(n))
    return n[e] ? n[e](r) : t(n, r);
  for (let o of Object.keys(n))
    if (r === n[o])
      return o;
  return -1;
};
var I2 = _2;
const E2 = (e, t) => {
  if (e.indexOf)
    return e.indexOf(t);
  for (let n = 0, r = e.length; n < r; n++)
    if (t === e[n])
      return n;
};
var Qn = E2, O2 = I2("indexOf", Qn);
const M2 = (e, t) => ~O2(e, t);
var x2 = M2;
const D2 = (e) => (t) => {
  if (t) {
    let n = e(t);
    if (!isNaN(n))
      return n;
  }
  return 0;
};
var A2 = D2;
const L2 = A2(parseFloat);
var ze = L2;
const R2 = (e, t, n) => {
  let r = 0, o;
  return t ? Je(t) ? o = (...i) => {
    r += ze(t.apply(n, i));
  } : o = (i) => {
    r += ze(i[t]);
  } : o = (i) => {
    r += ze(i);
  }, xt(e, o), r;
};
var V2 = R2;
const N2 = { parentKey: "parentId", key: "id", children: "children" }, Xa = (e, t, n) => {
  let r = n.children, o = n.data;
  return xt(t, (i) => {
    const l = i[r];
    o && (i = i[o]), e.push(i), l && Xa(e, l, n);
  }), e;
}, P2 = (e, t) => Xa([], e, ur({}, N2, t));
var F2 = P2;
const z2 = (e) => (t, n, r, o) => {
  let i = r || {}, l = i.children || "children";
  return e({
    item: null,
    obj: t,
    iterate: n,
    context: o,
    path: [],
    node: [],
    parseChildren: l,
    opts: i
  });
};
var yi = z2;
const Qa = ({ parent: e, obj: t, iterate: n, context: r, path: o, node: i, parseChildren: l, opts: a }) => {
  if (t)
    for (let s = 0, d = t.length; s < d; s++) {
      const u = t[s], c = o.concat([`${s}`]), f = i.concat([u]);
      if (n.call(r, u, s, t, c, e, f))
        return { index: s, item: u, path: o, items: t, parent: e, nodes: f };
      if (l && u) {
        const h = c.concat([l]), p = Qa({
          parent: u,
          obj: u[l],
          iterate: n,
          context: r,
          path: h,
          node: f,
          parseChildren: l,
          opts: a
        });
        if (p)
          return p;
      }
    }
}, H2 = yi(Qa);
var rt = H2;
const Ja = ({ parent: e, obj: t, iterate: n, context: r, path: o, node: i, parseChildren: l, opts: a }) => {
  xt(t, (s, d) => {
    const u = o.concat([`${d}`]), c = i.concat([s]);
    n.call(r, s, d, t, u, e, c), s && l && (u.push(l), Ja({
      obj: s[l],
      context: r,
      iterate: n,
      node: c,
      parseChildren: l,
      path: u,
      opts: a
    }));
  });
}, B2 = yi(Ja);
var yt = B2;
const es = ({ parent: e, obj: t, iterate: n, context: r, path: o, node: i, parseChildren: l, opts: a }) => {
  let s = a.mapChildren || l;
  return Xn(t, (d, u) => {
    const c = o.concat([`${u}`]), f = i.concat([d]), h = n.call(r, d, u, t, c, e, f);
    return h && d && l && d[l] && (h[s] = es({
      obj: d[l],
      iterate: n,
      context: r,
      path: c,
      node: f,
      parseChildren: l,
      opts: a
    })), h;
  });
}, j2 = yi(es);
var Yi = j2;
const W2 = (e, t, n, r) => {
  let o = [];
  return e && t && yt(
    e,
    (...i) => {
      t.apply(r, i) && o.push(i[0]);
    },
    n
  ), o;
};
var Ir = W2;
const K2 = (e) => typeof e == "object" && e !== null;
var Fr = K2;
const q2 = (e) => typeof e == "string";
var Jn = q2;
const G2 = (e, t, n) => e && (Array.isArray(e) ? qa(e, t, n) : a2(e, t, n));
var U2 = G2;
const Z2 = (e, t) => {
  try {
    delete e[t];
  } catch {
    e[t] = void 0;
  }
};
var ts = Z2;
const Y2 = function(e, t, n) {
  if (!e)
    return e;
  let r = arguments.length > 1 && (Sn(t) || !Fr(t)), o = r ? n : t;
  if (Ka(e)) {
    let i;
    r ? i = (l, a) => {
      e[a] = t;
    } : i = (l, a) => {
      ts(e, a);
    }, Wa(e, i), o && ur(e, o);
  } else if (Array.isArray(e)) {
    if (r) {
      let i = e.length;
      for (; i > 0; )
        i--, e[i] = t;
    } else
      e.length = 0;
    o && e.push.apply(e, o);
  }
  return e;
};
var ns = Y2;
const X2 = (e) => (t, n) => n === e, Q2 = (e, t, n) => {
  if (e) {
    if (!Pr(t)) {
      let r = [], o = [];
      return Je(t) || (t = X2(t)), xt(e, (i, l, a) => {
        t.call(n, i, l, a) && r.push(l);
      }), Array.isArray(e) ? U2(r, (i) => {
        o.push(e[i]), e.splice(i, 1);
      }) : (o = {}, Ce(r, (i) => {
        o[i] = e[i], ts(e, i);
      })), o;
    }
    return ns(e);
  }
  return e;
};
var Ye = Q2;
const J2 = (e) => typeof e == "boolean";
var at = J2;
const eS = (e) => typeof e == "number";
var er = eS;
let rs;
const os = ({ val1: e, val2: t, compare: n, func: r, key: o, obj1: i, obj2: l }) => e === t ? !0 : e && t && !er(e) && !er(t) && !Jn(e) && !Jn(t) ? gd(e) ? n(String(e), String(t), o, i, l) : sa(e) || at(e) ? n(Number(e), Number(t), o, i, l) : rs(e, t, r, o, n) : n(e, t, o, i, l);
rs = (e, t, n, r, o) => {
  let i, l, a, s = Array.isArray(e), d = Array.isArray(t);
  if (s || d ? s && d : e.constructor === t.constructor)
    return l = In(e), a = In(t), n && (i = n(e, t, r)), l.length === a.length ? gt(i) ? u2(
      l,
      (u, c) => u === a[c] && os({
        val1: e[u],
        val2: t[a[c]],
        compare: o,
        func: n,
        key: s || d ? c : u,
        obj1: e,
        obj2: t
      })
    ) : !!i : !1;
};
var tS = os;
const nS = (e, t) => tS({
  val1: e,
  val2: t,
  compare: (n, r) => n === r
});
var is = nS;
let rS = 0;
const oS = (e) => (e ? String(e) : 0) + ++rS;
var iS = oS;
const lS = (e) => (t, n, r) => {
  if (!t || !Je(n))
    return -1;
  if (Array.isArray(t) || Jn(t))
    return e(t, n, r);
  for (let o of Object.keys(t))
    if (It(t, o) && n.call(r, t[o], o, t))
      return o;
  return -1;
};
var aS = lS;
const sS = aS((e, t, n) => {
  for (let r = 0, o = e.length; r < o; r++)
    if (t.call(n, e[r], r, e))
      return r;
  return -1;
});
var dS = sS;
const uS = (e) => {
  if (Fr(e))
    return e;
  if (Jn(e))
    try {
      return JSON.parse(e);
    } catch {
    }
  return {};
};
var cS = uS;
const fS = (e, t, n) => {
  let r = e[1], o = e[2];
  return r ? t[r] && It(t[r], o) && (n = !0, t = t[r][o]) : It(t, o) && (n = !0, t = t[o]), { isHas: n, rest: t };
}, hS = (e, t) => {
  if (!e)
    return;
  const n = (r) => {
    let o, i, l, a, s = mi(r), d = 0, u = s.length, c = !1;
    for (l = e; d < u; d++) {
      if (a = !1, o = s[d], i = o ? o.match(Za) : "", i) {
        const f = fS(i, l, a);
        a = f.isHas, l = f.rest;
      } else
        It(l, o) && (a = !0, l = l[o]);
      if (a)
        d === u - 1 && (c = !0);
      else
        break;
    }
    return c;
  };
  return It(e, t) ? !0 : n(t);
};
var ls = hS;
const pS = /(.+)\[(\d+)\]$/, vS = (e, t, n, r) => {
  if (e[t])
    n && (e[t] = r);
  else {
    const o = t ? t.match(pS) : null, i = n ? r : {};
    if (o) {
      const l = o[1], a = parseInt(o[2]);
      e[l] || (e[l] = new Array(a + 1)), e[l][a] = i;
    } else
      e[t] = i;
    return i;
  }
  return e[t];
}, gS = (e, t, n) => {
  if (e)
    if (e[t] || It(e, t))
      e[t] = n;
    else {
      let r = e, o = mi(t), i = o.length;
      for (let l = 0; l < i; l++)
        r = vS(r, o[l], l === i - 1, n);
    }
  return e;
};
var Ge = gS;
const mS = function(e, t) {
  if (e && t) {
    let n = ur.apply(this, [{}].concat(T2(arguments, 1))), r = In(n);
    Ce(In(e), (o) => {
      x2(r, o) && (e[o] = n[o]);
    });
  }
  return e;
};
var as = mS;
const yS = (e) => {
  if (er(e) && String(e).includes("e-")) {
    let t = e < 0;
    return (t ? "-" : "") + "0" + String((t ? Math.abs(e) : e) + 1).substr(1);
  }
  return String(Pr(e) ? "" : e);
};
var ss = yS;
const bS = (e, t) => {
  let n = ss(e);
  return n && t ? n.replace(/\{{2}([.\w[\]\s]+)\}{2}/g, (r, o) => fe(t, o)) : n;
};
var hr = bS;
const je = Array.isArray, Sr = (e) => ss(e).replace("_", "").toLowerCase(), CS = [
  "created",
  "mounted",
  "activated",
  "beforeDestroy",
  "destroyed",
  "event.clearActived",
  "event.clearFilter",
  "event.showMenu",
  "event.keydown"
].map(Sr), fn = {}, Fn = {
  mixin(e) {
    return xt(e, (t, n) => Fn.add(n, t)), Fn;
  },
  get(e) {
    return fn[Sr(e)] || [];
  },
  add(e, t) {
    const n = Sr(e);
    return t && ~CS.indexOf(n) && (fn[n] = fn[n] ? fn[n] : [], fn[n].push(t)), Fn;
  },
  delete(e, t) {
    const n = fn[Sr(e)];
    return n && Ye(n, (r) => r === t), Fn;
  }
};
var ds = Fn;
const us = ft.isDoc && /Firefox/i.test(navigator.userAgent) ? "DOMMouseScroll" : "mousewheel", pr = [], Xi = ({ comp: e, type: t, cb: n }, r) => {
  (t === r.type || t === "mousewheel" && r.type === us) && n.call(e, r);
}, Dt = {
  on(e, t, n, r = !1) {
    n && pr.push({ comp: e, type: t, cb: n, capture: r });
  },
  off(e, t, n = !1) {
    Ye(pr, (r) => r.comp === e && r.type === t && r.capture === n);
  },
  trigger(e) {
    pr.filter((t) => !t.capture).forEach((t) => Xi(t, e));
  },
  capture(e) {
    pr.filter((t) => t.capture).forEach((t) => Xi(t, e));
  }
};
ft.isDoc && (ee(document, "keydown", Dt.trigger), ee(document, "contextmenu", Dt.trigger), ee(window, "mousedown", Dt.trigger), ee(window, "mousedown", Dt.capture, !0), ee(window, "blur", Dt.trigger), ee(window, "resize", Dt.trigger), ee(window, us, Dt.trigger));
var Xe = Dt;
const vt = (e) => da(e) ? e() : e, Ft = (e) => e.rowId, Fe = (e, t) => {
  const n = fe(t, Ft(e));
  return n ? encodeURIComponent(n) : "";
}, cs = (e, t = {}, n = 0) => {
  const r = [];
  return e.forEach((o, i) => {
    var l;
    const a = (l = o.children) == null ? void 0 : l.length;
    !t.hasFixed && o.fixed && (t.hasFixed = !0), !t.isCheckable && o.type === "selection" && (t.isCheckable = !0), n === 0 && !t.isGroup && a && (t.isGroup = !0), t.columnCaches.push({ colid: o.id, column: o, index: i }), r.push.apply(r, a ? cs(o.children, t, n + 1) : [o]);
  }), r;
}, wS = (e) => {
  const t = [];
  let n;
  const r = (o) => {
    t.push(o), !n && o.fixed && (n = o.fixed), Array.isArray(o.children) && o.children.length > 0 && o.children.forEach((i) => r(i));
  };
  r(e), n && t.forEach((o) => o.fixed = n);
}, En = (e, t) => e ? da(e) ? e(t) : e : "", SS = (e) => (e || []).map(({ label: t, value: n, data: r, checked: o }) => ({
  label: t,
  value: n,
  data: r,
  _data: r,
  checked: !!o
})), $S = (e) => {
  var t, n, r;
  const {
    values: o,
    value: i = "value",
    checked: l = "checked",
    condition: a,
    enumable: s,
    multi: d,
    inputFilter: u
  } = e, c = ((t = o == null ? void 0 : o.filter) == null ? void 0 : t.call(o, (p) => p[l]).map((p) => p[i])) || [], f = (r = (n = o == null ? void 0 : o.some) == null ? void 0 : n.call(o, (p) => p[l])) != null ? r : !1, h = {
    condition: { input: "", relation: "equals", empty: null, type: null, value: c },
    hasFilter: u && !!(a != null && a.input) || s && d && f || !1,
    custom: null,
    showClear: !0
  };
  return Ue(Ue({}, h), e);
}, Lt = (e) => `${Ke(e) ? "" : e}`, un = (e, t, n) => {
  const { format: r, property: o } = t;
  if (r && r.async && Array.isArray(r.data) && r.data.length > 0 && n) {
    let i = "";
    const { enabled: l, valueSplit: a, textSplit: s } = r.async.splitConfig || {}, d = (u) => cn(r.data, (c) => {
      if (typeof c == "object") {
        const f = fe(c, r.async.text || "label"), h = fe(c, r.async.value || "value");
        return c.label = f, u === h || u === f;
      }
      return u === c;
    });
    if (l) {
      const u = [];
      n.split(a || ",").forEach((c) => {
        const f = d(c);
        f && u.push(f.label);
      }), i = u.join(s || ",");
    } else
      i = d(n);
    Ge(e, t.asyncPrefix + o, i && i.label);
  }
  Ge(e, o, n);
}, Er = (e) => e && e.children && e.children.length > 0, pe = (e, t, n) => {
  if (e.tableListeners[t]) {
    const r = [].concat(n);
    e.$emit(t, ...r);
  }
}, kS = (e) => {
  const t = [], n = (r, o) => {
    Array.isArray(r) && r.forEach((i) => {
      const l = i.columnConfig, a = [];
      l && (o.push(l), n(i.childColumns, a), l.children = a.length > 0 ? a : null);
    });
  };
  n(e.childColumns, t), e.collectColumn = t;
}, Ln = (e, t) => fe(e, t.own.field), fs = (e, t) => {
  const n = /\B([A-Z])/g, r = /^on[A-Z]/, o = {};
  return t || (Object.keys(e).forEach((i) => {
    const l = e[i];
    r.test(i) && typeof l == "function" && (o[i.slice(2).replace(n, "-$1").toLowerCase()] = l);
  }), o);
};
function hs(e, t, n = void 0, r = !1, o = "children") {
  let i;
  return Array.isArray(e) && (i = [], e.forEach((l, a) => {
    const s = t(l, a, n);
    if (s && i.push(s), r) {
      const d = l[o];
      if (d) {
        const u = hs(d, t, l, r, o);
        s && (s[o] = u);
      }
    }
  })), i;
}
let TS = 0;
const Qi = () => `row_${++TS}`;
let _S = 0;
class Ji {
  constructor(t) {
    this.isLeft = t === "left", this.isLeftLast = !1, this.isRight = t === "right", this.isRightFirst = !1, this.left = 0, this.right = 0;
  }
  getStyle(t = 0) {
    const { isLeft: n, left: r, isRight: o, right: i } = this;
    return {
      left: n ? `${r}px` : void 0,
      right: o ? `${i + t}px` : void 0
    };
  }
  getClass() {
    const { isLeftLast: t, isRightFirst: n } = this;
    return {
      "fixed-left-last__column": t,
      "fixed-right-first__column": n
    };
  }
}
class el {
  constructor(t, { renderHeader: n, renderCell: r, renderData: o } = {}, i = {}) {
    this.id = `col_${++_S}`, this.type = t.type, this.prop = t.prop, this.rules = t.rules, this.required = t.required, this.property = t.field || t.prop, this.title = t.title, this.label = t.label, this.width = t.width, this.minWidth = t.minWidth, this.resizable = t.resizable, this._fixed = t.fixed, this._fixedDetails = t.fixed ? new Ji(t.fixed) : void 0, this.align = t.align, this.headerAlign = t.headerAlign, this.footerAlign = t.footerAlign, this.showOverflow = t.showOverflow, this.showHeaderOverflow = t.showHeaderOverflow, this.showTip = t.showTip, this.showHeaderTip = t.showHeaderTip, this.className = t.class || t.className, this.headerClassName = t.headerClassName, this.footerClassName = t.footerClassName, this.indexMethod = t.indexMethod, this.formatText = t.formatText, this.formatValue = t.formatValue, this.format = t.formatConfig, this.sortable = t.sortable, this.sortBy = t.sortBy, this.sortMethod = t.sortMethod, this.remoteSort = t.remoteSort, this.filterMultiple = at(t.filterMultiple) ? t.filterMultiple : !0, this.filterMethod = t.filterMethod, this.filterRender = t.filterRender, this.filter = t.filter && $S(t.filter), this.treeNode = t.treeNode, this.renderer = t.renderer, this.editor = t.editor, this.operationConfig = t.operationConfig, this.equals = t.equals, this.params = t.params, this.visible = !0, this.level = 1, this.rowSpan = 1, this.colSpan = 1, this.order = null, this.renderWidth = 0, this.renderHeight = 0, this.resizeWidth = 0, this.renderLeft = 0, this.model = {}, this.renderHeader = n || t.renderHeader, this.renderCell = r || t.renderCell, this.renderData = o, this.showIcon = at(t.showIcon) ? t.showIcon : !0, this.loading = !1, this.slots = t.slots, this.own = t, this.asyncPrefix = i.constant.asyncPrefix;
  }
  set fixed(t) {
    this._fixed = t, this._fixedDetails = t ? new Ji(t) : void 0;
  }
  get fixed() {
    return this._fixed;
  }
  get fixedDetails() {
    return this._fixedDetails;
  }
}
const IS = (e, t, n) => e instanceof el ? e : new el(e, t, n), ps = "data-rowid", tl = ".tiny-grid-cell", ES = ".tiny-grid-body__row", nl = (e) => e && /^\d+(px)?$/.test(e), tn = (e) => e && /^\d+%$/.test(e), eo = (e, t) => {
  var n;
  const r = t ? t.querySelector(".tiny-grid-cell-text") || t.querySelector(tl) : (n = e.currentTarget) == null ? void 0 : n.querySelector(tl);
  if (!r)
    return;
  const o = r.innerText;
  r.getAttribute("title") !== o && r.setAttribute("title", o);
}, OS = (e, t) => {
  e.$nextTick(() => {
    const { $refs: n, scrollYLoad: r, rowHeight: o, headerHeight: i, footerHeight: l, _tileInfo: a, _graphInfo: s } = e, { tableBody: d } = n, { $el: u } = d, { map: c } = a, { graphed: f } = s, h = u.querySelector(`[${ps}="${Fe(e, t)}"]`), p = i, v = u.clientHeight - l, g = u.scrollTop;
    let m, b, y = !1;
    if (r ? (m = i + o * f.indexOf(c.get(t)) - g, b = o, y = !0) : h && (m = h.offsetTop - g, b = h.clientHeight, y = !0), y) {
      if (m < p) {
        u.scrollTop = g - (p - m);
        return;
      }
      m += b, m > v && (u.scrollTop = g + (m - v));
    }
  });
}, MS = (e, t) => {
  t.fixed || e.$nextTick(() => {
    const { $refs: n, scrollXLoad: r, visibleColumn: o, columnStore: i } = e, { tableBody: l } = n, { $el: a } = l, { leftList: s, rightList: d } = i, u = a.querySelector(`.${t.id}`), c = s.reduce((m, b) => m += b.renderWidth, 0), f = a.clientWidth - d.reduce((m, b) => m += b.renderWidth, 0), h = a.scrollLeft, p = t.renderWidth;
    let v, g = !1;
    if (r) {
      g = !0, v = -h;
      for (const m of o) {
        if (m === t)
          break;
        v += m.renderWidth;
      }
    } else u && (g = !0, v = u.offsetLeft - h);
    if (g) {
      if (v < c) {
        a.scrollLeft = h - (c - v);
        return;
      }
      v += p, v > f && (a.scrollLeft = h + (v - f));
    }
  });
}, xS = (e, t) => !e || !t || (e.host && (e = e.host), !(e != null && e.getAttribute)) ? !1 : (" " + e.getAttribute("data-tag") + " ").includes(" " + t + " "), On = (e, t, n) => {
  let r, o = md(e);
  for (; o && o.nodeType && o !== document; ) {
    if (n && (Lr(o, n) || xS(o, n)))
      r = o;
    else if (o === t)
      return {
        flag: n ? !!r : !0,
        container: t,
        targetElem: r
      };
    o = o.parentNode;
  }
  return { flag: !1 };
};
function vs(e, t, n) {
  if (e) {
    const r = document.querySelector("html"), o = document.body, i = e.parentNode;
    if (n.top += e.offsetTop, n.left += e.offsetLeft, i && i !== r && i !== o && (n.top -= i.scrollTop, n.left -= i.scrollLeft), !(t && (e === t || e.offsetParent === t)) && e.offsetParent)
      return vs(e.offsetParent, t, n);
  }
  return n;
}
const DS = (e, t) => vs(e, t, { left: 0, top: 0 }), ge = (e) => {
  const t = e.parentNode, n = Qn(t.children, e), r = Qn(t.parentNode.children, t);
  return { columnIndex: n, rowIndex: r };
}, Ze = (e, t, n) => {
  const r = t.columnIndex, o = t.rowIndex, i = n.columnIndex, l = n.rowIndex, a = [];
  for (let s = Math.min(o, l), d = Math.max(o, l); s <= d; s++) {
    const u = [], c = e[s];
    for (let f = Math.min(r, i), h = Math.max(r, i); f <= h; f++)
      u.push(c.children[f]);
    a.push(u);
  }
  return a;
}, zt = (e, { row: t, column: n }) => new Promise((r) => {
  e.$nextTick(() => {
    const o = e.$refs[`${n.fixed || "table"}Body`];
    r(
      (o || e.$refs.tableBody).$el.querySelector(
        `${ES}[${ps}="${Fe(e, t)}"] .${n.id}`
      )
    );
  });
}), AS = (e) => () => {
  e("after-leave");
}, LS = (e) => (t) => {
  e.text = t;
}, RS = ({ state: e, constants: t, vm: n }) => () => {
  ua(
    n,
    () => {
      const r = e.fullscreen || e.body ? document.body : e.target;
      n.$el && n.$el.parentNode && (_e(r, t.PARENT_RELATIVE_CLS), _e(r, t.PARENT_HIDDEN_CLS), n.$el.parentNode.removeChild(n.$el)), e.closed = !0;
    },
    300
  ), e.visible = !1;
}, VS = ["state", "handleAfterLeave", "setText", "close"], NS = (e, { reactive: t, computed: n }, { constants: r, vm: o, emit: i, designConfig: l }) => {
  const a = t({
    text: null,
    spinner: null,
    visible: !1,
    customClass: "",
    background: null,
    fullscreen: !0,
    closed: !1,
    size: "",
    iconSize: "",
    loadingImg: n(() => {
      var d;
      return e.loadingImg || ((d = l == null ? void 0 : l.props) == null ? void 0 : d.loadingImg);
    }),
    iconStyle: n(() => a.iconSize ? { width: a.iconSize + "px", height: a.iconSize + "px" } : {})
  });
  return {
    state: a,
    setText: LS(a),
    handleAfterLeave: AS(i),
    close: RS({ state: a, constants: r, vm: o })
  };
};
function PS(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = FS(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function FS(e, t) {
  if (e) {
    if (typeof e == "string") return rl(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? rl(e, t) : void 0;
  }
}
function rl(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var zS = function(t, n) {
  for (var r = t.__vccOpts || t, o = PS(n), i; !(i = o()).done; ) {
    var l = i.value, a = l[0], s = l[1];
    r[a] = s;
  }
  return r;
}, HS = U({
  inheritAttrs: !1,
  name: te + "Loading",
  emits: ["after-leave"],
  props: [].concat(Ne, ["_constants", "loadingImg", "size"]),
  components: {
    TinyIconLoadingShadow: An()
  },
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: NS,
      api: VS
    });
  }
}), BS = ["src"], jS = {
  key: 3,
  class: "tiny-loading__text"
};
function WS(e, t, n, r, o, i) {
  var l = K("tiny-icon-loading-shadow");
  return C(), z(Ot, {
    name: "tiny-loading-fade",
    onAfterLeave: e.handleAfterLeave,
    persisted: ""
  }, {
    default: q(function() {
      return [ae(T(
        "div",
        {
          "data-tag": "tiny-loading",
          class: W(["tiny-loading tiny-loading__mask", [e.state.customClass, {
            "is-fullscreen": e.state.fullscreen
          }]]),
          style: ke({
            backgroundColor: e.state.background || ""
          })
        },
        [T(
          "div",
          {
            class: W(["tiny-loading__spinner", {
              small: "tiny-loading__spinner-small",
              medium: "tiny-loading__spinner-medium",
              large: "tiny-loading__spinner-large"
            }[e.size]])
          },
          [e.state.spinner ? (C(), z(Te(e.state.spinner), {
            key: 0,
            class: "tiny-icon-loading"
          })) : e.state.loadingImg ? (C(), k("img", {
            key: 1,
            class: "circular",
            style: ke(e.state.iconStyle),
            src: e.state.loadingImg
          }, null, 12, BS)) : (C(), z(l, {
            key: 2,
            class: "circular"
          })), e.state.text ? (C(), k(
            "p",
            jS,
            j(e.state.text),
            1
            /* TEXT */
          )) : P("v-if", !0)],
          2
          /* CLASS */
        )],
        6
        /* CLASS, STYLE */
      ), [[De, e.state.visible]])];
    }),
    _: 1
    /* STABLE */
  }, 8, ["onAfterLeave"]);
}
var to = /* @__PURE__ */ zS(HS, [["render", WS]]);
function tr() {
  return tr = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, tr.apply(null, arguments);
}
var KS = function(t) {
  var n, r = typeof process == "object" ? (n = process.env) == null ? void 0 : n.TINY_MODE : null;
  return to;
}, qS = tr({}, le, {
  type: {
    type: String,
    validator: function(t) {
      return !!~["primary", "simple"].indexOf(t);
    }
  },
  loadtext: {
    type: String,
    default: function() {
      return We.LOAD_ICON_TEXT;
    }
  },
  _constants: {
    type: Object,
    default: function() {
      return We;
    }
  },
  loadingImg: {
    type: String
  },
  size: {
    type: String,
    default: "small"
  }
}), gs = U({
  name: te + "Loading",
  emits: [],
  props: qS,
  setup: function(t, n) {
    return Ie({
      props: t,
      context: n,
      template: KS
    });
  }
}), ms = {
  text: null,
  body: !1,
  lock: !1,
  customClass: "",
  fullscreen: !0,
  iconSize: ""
}, vr = null, We = {
  TEXT_ATTR: "tiny-loading__text",
  IS_FULLSCREEN_CLS: "is-fullscreen",
  TEXT_SPINNER: "tiny-loading__spinner",
  TEXT_BACKGROUND: "tiny-loading__background",
  TEXT_CUSTOM_CLS: "tiny-loading__custom-class",
  PARENT_HIDDEN_CLS: "tiny-loading__parent-hidden",
  PARENT_RELATIVE_CLS: "tiny-loading__parent-relative",
  LOAD_ICON_TEXT: "ui.load.dot"
}, GS = function(t, n, r) {
  var o = {};
  if (t.fullscreen)
    r.originalPosition = nt(document.body, "position") || "", r.originalOverflow = nt(document.body, "overflow") || "", o.zIndex = Ut.nextZIndex().toString();
  else if (t.body) {
    var i = t.target, l = i == null ? void 0 : i.getBoundingClientRect();
    r.originalPosition = nt(document.body, "position") || "";
    var a = ["top", "left"];
    a.forEach(function(d) {
      var u = d === "top" ? "scrollTop" : "scrollLeft";
      o[d] = ((l == null ? void 0 : l[d]) || 0) + document.body[u] + document.documentElement[u] + "px";
    });
    var s = ["height", "width"];
    s.forEach(function(d) {
      o[d] = ((l == null ? void 0 : l[d]) || 0) + "px";
    });
  } else
    r.originalPosition = nt(n, "position") || "";
  Object.keys(o).forEach(function(d) {
    r.$el.style[d] = o[d];
  });
}, US = function(t) {
  var n;
  if (t === void 0 && (t = {}), t = tr({}, ms, t), typeof t.target == "string" && (t.target = document.querySelector(t.target)), t.target = t.target || document.body, t.target !== document.body ? t.fullscreen = !1 : t.body = !0, t.fullscreen && vr && !vr.state.closed)
    return vr;
  var r = t.body ? document.body : t.target, o = r.querySelector(':scope > [data-tag="tiny-loading"]');
  o && r.removeChild(o);
  var i = ai({
    component: gs,
    propsData: {
      _constants: We,
      size: t.size,
      loadingImg: t.loadingImg,
      tiny_mode: t.tiny_mode || ((n = ca().tiny_mode) == null ? void 0 : n.value)
    },
    el: document.createElement("div")
  });
  for (var l in t)
    Object.prototype.hasOwnProperty.call(t, l) && (i.state[l] = t[l]);
  return GS(t, r, i), i.originalPosition !== "absolute" && i.originalPosition !== "fixed" && Ee(r, We.PARENT_RELATIVE_CLS), t.fullscreen && t.lock && Ee(r, We.PARENT_HIDDEN_CLS), r.appendChild(i.$el), N.nextTick(function() {
    i.state.visible = !0;
  }), t.fullscreen && (vr = i), i;
}, No = function(t, n, r) {
  !n.domVisible && nt(n, "display") !== "none" && nt(n, "visibility") !== "hidden" ? (Object.keys(n.maskStyle).forEach(function(o) {
    n.mask.style[o] = n.maskStyle[o];
  }), n.originalPosition !== "absolute" && n.originalPosition !== "fixed" && Ee(t, We.PARENT_RELATIVE_CLS), r.modifiers.fullscreen && r.modifiers.lock && Ee(t, We.PARENT_HIDDEN_CLS), n.domVisible = !0, n.mask && t.appendChild(n.mask), N.nextTick(function() {
    n.instance.hiding ? n.instance.$emit("after-leave") : n.instance.state.visible = !0;
  }), n.domInserted = !0) : n.domVisible && n.instance.hiding === !0 && (n.instance.state.visible = !0, n.instance.hiding = !1);
}, ZS = function(t, n) {
  var r = t.getBoundingClientRect();
  t.originalPosition = nt(document.body, "position");
  var o = ["top", "left"];
  o.forEach(function(l) {
    var a = l === "top" ? "scrollTop" : "scrollLeft";
    t.maskStyle[l] = r[l] + document.body[a] + document.documentElement[a] - parseInt(nt(document.body, "margin-" + l), 10) + "px";
  });
  var i = ["height", "width"];
  i.forEach(function(l) {
    t.maskStyle[l] = r[l] + "px";
  }), No(document.body, t, n);
}, no = function(t, n, r) {
  n.value ? N.nextTick(function() {
    n.modifiers.fullscreen ? (t.originalPosition = nt(document.body, "position"), t.originalOverflow = nt(document.body, "overflow"), t.maskStyle.zIndex = Ut.nextZIndex(), Ee(t.mask, We.IS_FULLSCREEN_CLS), No(document.body, t, n)) : (_e(t.mask, We.IS_FULLSCREEN_CLS), n.modifiers.body ? ZS(t, n) : (t.originalPosition = nt(t, "position"), No(t, t, n)));
  }) : (ua(r, function() {
    if (r.hiding) {
      var o = n.modifiers.fullscreen || n.modifiers.body ? document.body : t;
      t.domVisible = !1, _e(o, We.PARENT_RELATIVE_CLS), _e(o, We.PARENT_HIDDEN_CLS), r.hiding = !1;
    }
  }, 300, !0), r.state.visible = !1, r.hiding = !0);
}, YS = {
  inserted: function(t, n, r) {
    var o, i, l = r.context, a = t.getAttribute(We.TEXT_ATTR), s = t.getAttribute(We.TEXT_SPINNER), d = t.getAttribute(We.TEXT_BACKGROUND), u = t.getAttribute(We.TEXT_CUSTOM_CLS), c = ai({
      component: gs,
      propsData: {
        _constants: We,
        tiny_mode: (l == null || (o = l.tiny_mode) == null ? void 0 : o.value) || ((i = ca().tiny_mode) == null ? void 0 : i.value)
      },
      el: document.createElement("div")
    }), f = tr({}, ms, {
      text: l && l[a] || a,
      spinner: l && l[s] || s,
      background: l && l[d] || d,
      customClass: l && l[u] || u,
      fullscreen: !!n.modifiers.fullscreen
    });
    for (var h in f)
      Object.prototype.hasOwnProperty.call(f, h) && (c.state[h] = f[h]);
    t.instance = c, t.mask = c.$el, t.maskStyle = {}, n.value && no(t, n, c);
  },
  update: function(t, n) {
    t.instance.setText(t.getAttribute(We.TEXT_ATTR)), n.oldValue !== n.value && no(t, n, t.instance);
  },
  unbind: function(t, n) {
    t.domInserted && (t.mask && t.mask.parentNode && t.mask.parentNode.removeChild(t.mask), no(t, {
      value: !1,
      modifiers: n.modifiers
    }, t.instance)), t.instance && (typeof t.instance.$destroy == "function" && t.instance.$destroy(), t.instance = null, t.mask = null);
  }
}, XS = Dn({
  vLoading: YS
}).vLoading;
fa.TINYLoading = {
  init: function(t) {
    var n = t.$apiPrefix || "$";
    t[n + "loading"] = US;
  }
};
var Po = {
  directive: XS
};
const QS = (e) => () => e("click"), JS = ["state", "create"], e$ = (e, { reactive: t }, { emit: n }) => ({
  state: t({
    urlType: e.type
  }),
  create: QS(n)
});
function t$(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = n$(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function n$(e, t) {
  if (e) {
    if (typeof e == "string") return ol(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? ol(e, t) : void 0;
  }
}
function ol(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var r$ = function(t, n) {
  for (var r = t.__vccOpts || t, o = t$(n), i; !(i = o()).done; ) {
    var l = i.value, a = l[0], s = l[1];
    r[a] = s;
  }
  return r;
};
function Fo() {
  return Fo = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, Fo.apply(null, arguments);
}
var o$ = {
  INTERNALCONFIG: {
    NODATA: "ui.exception.nodatamf",
    NOPERM: "ui.exception.nopermmf",
    WEAKNET: "ui.exception.weaknetmf",
    NORESULT: "ui.exception.noresult",
    NONEWS: "ui.exception.nonews",
    PAGENOPERM: "ui.exception.pagenoperm",
    PAGEWEAKNET: "ui.exception.pageweaknet",
    PAGENOTHING: "ui.exception.pagenothing",
    PAGESERVERERROR: "ui.exception.pageservererror"
  },
  ICONCONFIG: {
    NODATA: "icon-no-data",
    NOPERM: "icon-no-perm",
    NONEWS: "icon-no-news",
    WEAKNET: "icon-weaknet",
    NORESULT: "icon-no-result",
    PAGENOPERM: "icon-page-noperm",
    PAGENOTHING: "icon-page-nothing",
    PAGESERVERERROR: "icon-page-servererror",
    PAGEWEAKNET: "icon-page-weaknet"
  }
}, i$ = U({
  components: {
    TinyButton: Be,
    IconNoData: uv(),
    IconNoNews: Sv(),
    IconNoPerm: Ev(),
    IconNoResult: Lv(),
    IconWeaknet: ug(),
    IconPageNoperm: zv(),
    IconPageNothing: qv(),
    IconPageServererror: Qv(),
    IconPageWeaknet: og()
  },
  emits: ["click"],
  props: Fo({}, le, {
    _constants: {
      type: Object,
      default: function() {
        return o$;
      }
    },
    type: {
      type: String,
      default: "nodata"
    },
    subMessage: String,
    exceptionClass: String,
    pageEmpty: {
      type: Boolean,
      default: !1
    },
    componentPage: {
      type: Boolean,
      default: !1
    }
  }),
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: e$,
      api: JS
    });
  }
}), l$ = {
  "data-tag": "tiny-exception-body"
}, a$ = {
  class: "bg-cover",
  "data-tag": "tiny-exception-image"
}, s$ = {
  "data-tag": "tiny-exception-description"
}, d$ = {
  key: 0,
  "data-tag": "tiny-exception-submessage",
  class: "leading-5.5 sm:leading-3 sm:text-xs mt-1 sm:mt-2 text-color-icon-placeholder"
}, u$ = {
  class: "sm:mt-4 mt-6 inline-block"
};
function c$(e, t, n, r, o, i) {
  return C(), k(
    "div",
    {
      "data-tag": "tiny-exception",
      class: W(e.m("flex t-0 justify-center items-center w-full h-full bg-transparent sm:bg-color-bg-1 text-center", e.exceptionClass))
    },
    [T("div", l$, [T("div", a$, [e.state.urlType ? (C(), z(Te(e._constants.ICONCONFIG[e.type.toUpperCase()]), {
      key: 0,
      "custom-class": e.componentPage ? "w-24 h-24" : "w-52 h-40"
    }, null, 8, ["custom-class"])) : P("v-if", !0)]), G(e.$slots, "content", {}, function() {
      return [T("div", s$, [T(
        "div",
        {
          "data-tag": "tiny-exception-componentpage",
          class: W(["text-color-text-primary mt-1 text-center text-sm", e.componentPage ? "sm:text-xs" : "sm:text-sm"])
        },
        j(e.t(e._constants.INTERNALCONFIG[e.type.toUpperCase()])),
        3
        /* TEXT, CLASS */
      ), e.subMessage ? (C(), k(
        "div",
        d$,
        j(e.subMessage),
        1
        /* TEXT */
      )) : P("v-if", !0), T("div", u$, [G(e.$slots, "default")])])];
    })])],
    2
    /* CLASS */
  );
}
var f$ = /* @__PURE__ */ r$(i$, [["render", c$]]);
function zo() {
  return zo = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, zo.apply(null, arguments);
}
var h$ = function(t) {
  var n;
  return typeof process == "object" && ((n = process.env) == null || n.TINY_MODE), f$;
}, Bn = U({
  name: te + "Exception",
  props: zo({}, le, {
    type: {
      type: String,
      default: "nodata"
    },
    message: String,
    subMessage: String,
    exceptionClass: String,
    imageUrl: String,
    pageEmpty: {
      type: Boolean,
      default: !1
    },
    componentPage: {
      type: Boolean,
      default: !1
    }
  }),
  setup: function(t, n) {
    return Ie({
      props: t,
      context: n,
      template: h$
    });
  }
}), p$ = "3.undefined";
Bn.install = function(e) {
  e.component(Bn.name, Bn);
};
Bn.version = p$;
const v$ = ft.name === "ie", ys = /^rgba?\((\d+),\s(\d+),\s(\d+)([\s\S]*)\)$/, g$ = /^#([a-zA-Z0-9]{3}|[a-zA-Z0-9]{6})$/;
function m$(e) {
  const t = ys.exec(e).slice(1, 4);
  return parseInt(t[0]).toString(16) + parseInt(t[1]).toString(16) + parseInt(t[2]).toString(16);
}
function bs(e) {
  const t = window.getComputedStyle, n = v$ ? e.currentStyle.backgroundColor : t(e).backgroundColor;
  if (ys.test(n))
    return m$(n);
  if (g$.test(n)) {
    const r = n.slice(1);
    return r.length === 3 ? r.split("").map((o) => o + o).join("") : r;
  }
  return "ffffff";
}
function y$() {
  let e = [], t = 0, n = "";
  for (let r = 0, o = arguments.length; r !== o; ++r) {
    let i = Number(arguments[r]);
    if (!(i < 1114111 && i >>> 0 === i))
      throw new RangeError("Invalid code point: " + i);
    i <= 65535 ? t = e.push(i) : (i -= 65536, t = e.push((i >> 10) + 55296, i % 1024 + 56320)), t >= 16383 && (n += String.fromCharCode.apply(null, e), e.length = 0);
  }
  return n + String.fromCharCode.apply(null, e);
}
const hn = {
  table: {
    sheetName: "tiny-sheet",
    formatMethod: ({ value: e, type: t }) => ({ value: e, type: t }),
    styleMethod: ({ style: e }) => e,
    rowHeightMethod: ({ height: e }) => e,
    columnWidthMethod: ({ width: e }) => e,
    mergesMethod: (e) => e
  }
};
function b$(e) {
  const t = new ArrayBuffer(e.length), n = new Uint8Array(t);
  for (let r = 0; r !== e.length; r++)
    n[r] = e.charCodeAt(r) & 255;
  return t;
}
function Cs(e) {
  const t = parseInt(e / 36);
  return e - 10 * t;
}
function C$({ datas: e, headerRowCount: t, headerTrs: n }) {
  let r = [-1, 0];
  for (let o = 0; o < t; o++) {
    const i = n[o].childNodes;
    let l = 0;
    for (let a = 0; a < i.length && !~i[a].className.split(/\s/).indexOf("col__gutter"); a++)
      l += i[a].colSpan;
    l > r[1] && (r[0] = o, r[1] = l);
  }
  for (let o = 0; o < t; o++) {
    e.push([]);
    for (let i = 0; i < r[1]; i++)
      e[o].push("");
  }
}
function w$({ datas: e, headerTrs: t, rowHeightMethod: n, ths: r, ws: o }) {
  for (let i = 0; i < t.length; i++) {
    const l = t[i].getBoundingClientRect(), a = t[i].childNodes;
    let s = Math.round(l.height), d = 0;
    s = n ? n({ rowIndex: i, height: s }) : s, o["!rows"].push({ hpx: Cs(s) });
    for (let u = 0; u < a.length && !~a[u].className.split(/\s/).indexOf("col__gutter"); u++) {
      r.push(a[u]);
      const c = a[u].colSpan, f = a[u].rowSpan, h = a[u].textContent;
      c > 1 && o["!merges"].push({
        s: { r: i, c: d },
        e: { r: i, c: d + c - 1 }
      }), f > 1 && o["!merges"].push({
        s: { r: i, c: d },
        e: { r: i + f - 1, c: d }
      }), i !== t.length - 1 && e[i].splice(d, 1, h), d += c;
    }
  }
}
function S$({ $table: e, colids: t, columnWidthMethod: n, datas: r, ths: o, ws: i }) {
  const l = (s, d) => {
    if (s.children)
      for (let u = 0; u < s.children.length; u++)
        l(s.children[u], d + 1);
    else {
      const u = s.id;
      for (let c = 0; c < o.length; c++)
        if (o[c].dataset.colid === u) {
          t.push(u);
          const f = o[c].getBoundingClientRect();
          let h = Math.round(f.width);
          h = n ? n({
            columnIndex: t.length - 1,
            width: h
          }) : h, i["!cols"].push({ wch: Math.round(h / 10) }), r[d].splice(
            t.length - 1,
            1,
            typeof s.title == "string" ? s.title : o[c].textContent
          );
          break;
        }
    }
  }, a = e.collectColumn;
  for (let s = 0; s < a.length; s++)
    l(a[s], 0);
}
function $$({ $table: e, colids: t, datas: n, headerRowCount: r, headerTrs: o, opts: i, ws: l }) {
  if (r === 0)
    return;
  const a = i.table.rowHeightMethod, s = i.table.columnWidthMethod, d = [];
  C$({ datas: n, headerRowCount: r, headerTrs: o }), w$({ datas: n, headerTrs: o, rowHeightMethod: a, ths: d, ws: l }), S$({ $table: e, colids: t, columnWidthMethod: s, datas: n, ths: d, ws: l });
}
function ws({ childNodes: e, colids: t, datas: n, i: r, offset: o, rowHeight: i, rowHeightMethod: l, ws: a }) {
  i = l ? l({ rowIndex: r + o, height: i }) : i, a["!rows"].push({ hpx: Cs(i) }), n.push([]);
  for (let s = 0; s < t.length; s++) {
    let d = null, u = "";
    for (let c = 0; c < e.length; c++)
      if (e[c].dataset.colid === t[s]) {
        d = e[c];
        break;
      }
    d && (u = d.textContent, d = null), n[o + r].push(u);
  }
}
function Ss({ childNodes: e, colids: t, i: n, offset: r, ws: o }) {
  for (let i = 0; i < e.length; i++) {
    const l = e[i].colSpan, a = e[i].rowSpan, s = e[i].dataset.colid, d = t.indexOf(s), u = r + n;
    l > 1 && a > 1 ? o["!merges"].push({
      s: { r: u, c: d },
      e: { r: u + a - 1, c: d + l - 1 }
    }) : l > 1 ? o["!merges"].push({
      s: { r: u, c: d },
      e: { r: u, c: d + l - 1 }
    }) : a > 1 && o["!merges"].push({
      s: { r: u, c: d },
      e: { r: u + a - 1, c: d }
    });
  }
}
function k$({ bodyRowCount: e, bodyTrs: t, colids: n, datas: r, headerRowCount: o, opts: i, ws: l }) {
  if (e === 0)
    return;
  const a = i.table.rowHeightMethod, s = o;
  for (let d = 0; d < t.length; d++) {
    const u = t[d].getBoundingClientRect(), c = t[d].childNodes;
    let f = Math.round(u.height);
    ws({
      colids: n,
      childNodes: c,
      i: d,
      datas: r,
      rowHeight: f,
      rowHeightMethod: a,
      offset: s,
      ws: l
    }), Ss({ childNodes: c, colids: n, i: d, offset: s, ws: l });
  }
}
function T$() {
  const e = [], t = y$;
  for (let n = -1; n < 26; n++)
    for (let r = 0; r < 26; r++)
      e.push((n === -1 ? "" : t(65 + n)) + t(65 + r));
  return e;
}
function _$({ colids: e, datas: t, excelColNames: n, ws: r }) {
  let o = "";
  e.length > 0 && t.length > 0 && (o = "A1:" + n[e.length - 1] + t.length), r["!fullref"] = o, r["!ref"] = o;
}
function I$({
  bodyRowCount: e,
  bodyTrBgcArr: t,
  footerTrBgc: n,
  headerRowCount: r,
  headerWrapperBgc: o,
  rowIndex: i,
  showBorder: l,
  style: a
}) {
  a.font = { name: "Microsoft YaHei", sz: 12, color: { rgb: "000000" } }, i < r ? (a.fill = { fgColor: { rgb: o } }, a.font.bold = !0) : i < r + e ? a.fill = { fgColor: { rgb: t[i - r] } } : a.fill = { fgColor: { rgb: n } }, l && (a.border = {
    top: { style: "thin", color: { rgb: "000000" } },
    bottom: { style: "thin", color: { rgb: "000000" } },
    left: { style: "thin", color: { rgb: "000000" } },
    right: { style: "thin", color: { rgb: "000000" } }
  }), a.alignment = { vertical: "center", horizontal: "left", wrapText: !1 };
}
function E$({
  showBorder: e,
  bodyRowCount: t,
  bodyTrBgcArr: n,
  headerRowCount: r,
  colids: o,
  datas: i,
  footerTrBgc: l,
  headerWrapperBgc: a,
  excelColNames: s,
  opts: d,
  $table: u,
  ws: c
}) {
  if (i.length === 0)
    return;
  const f = d.table.styleMethod, h = d.table.formatMethod, p = u.getTableColumn().fullColumn, v = (m, b, y, S, w) => y === b && m >= S && m < S + w;
  let g;
  for (let m = 0; m < p.length; m++)
    if (p[m].type === "index") {
      g = o.indexOf(p[m].id);
      break;
    }
  for (let m = 0; m < i.length; m++)
    for (let b = 0; b < i[m].length; b++) {
      let y = v(m, b, g, r, t) ? "n" : "s", S = v(m, b, g, r, t) ? parseInt(i[m][b]) : i[m][b].trim(), w = {};
      if (I$({
        bodyRowCount: t,
        bodyTrBgcArr: n,
        footerTrBgc: l,
        headerRowCount: r,
        headerWrapperBgc: a,
        rowIndex: m,
        showBorder: e,
        style: w
      }), f && (w = f({ rowIndex: m, columnIndex: b, style: w })), h) {
        const _ = h({ rowIndex: m, columnIndex: b, value: S, type: y });
        y = _.type, S = _.value;
      }
      c[s[b] + (m + 1)] = { t: y, v: S, s: w };
    }
}
function O$({ XLSXX: e, opts: t, ws: n }) {
  n = n["!cols"].length === 0 || n["!rows"].length === 0 ? {} : n;
  const r = t.table.sheetName, o = n["!merges"];
  if (o) {
    const l = t.table.mergesMethod;
    n["!merges"] = l ? l(o) : o;
  }
  return {
    Props: {
      Application: "SheetJS",
      SheetNames: [r],
      Worksheets: 1
    },
    SSF: e.SSF.get_table(),
    SheetNames: [r],
    Sheets: {
      [r]: n
    }
  };
}
function M$(e, t) {
  const n = [];
  for (let r = 0; r < e.length; r++)
    n.push(t ? bs(e[r]) : "ffffff");
  return n;
}
function x$(e) {
  const t = e.$el.querySelectorAll(".tiny-grid__header-wrapper.body__wrapper .tiny-grid-header__row"), n = e.$el.querySelectorAll(".tiny-grid__body-wrapper.body__wrapper .tiny-grid-body__row:not(.group)"), r = e.$el.querySelectorAll(".tiny-grid__footer-wrapper.body__wrapper .tiny-grid-footer__row"), o = e.$el.querySelector(".tiny-grid__header-wrapper.body__wrapper");
  return { bodyTrs: n, footerTrs: r, headerTrs: t, headerWrapper: o };
}
function D$(e, t, n) {
  const r = ~e.$el.className.split(/\s/).indexOf("tiny-grid__border"), o = ~e.$el.className.split(/\s/).indexOf("tiny-grid__stripe"), i = t ? bs(t) : "ffffff", l = M$(n, o);
  return { showBorder: r, headerWrapperBgc: i, bodyTrBgcArr: l, footerTrBgc: "ffffff" };
}
function A$({ $table: e, bodyRowCount: t, bodyTrs: n, colids: r, opts: o, ws: i }) {
  if (r.length > 0 || t === 0)
    return;
  const l = o.table.columnWidthMethod, a = [];
  for (let s = 0; s < n.length; s++)
    for (let d = 0; d < n[s].childNodes.length; d++)
      a.push(n[s].childNodes[d]);
  for (let s = 0; s < e.visibleColumn.length; s++) {
    let d = e.visibleColumn[s].id;
    for (let u = 0; u < a.length; u++)
      if (a[u].dataset.colid === d) {
        r.push(d);
        const c = a[u].getBoundingClientRect(), f = a[u].colSpan;
        let h = Math.round(c.width / f);
        h = l ? l({
          columnIndex: r.length - 1,
          width: h
        }) : h, i["!cols"].push({ wch: Math.round(h / 10) });
        break;
      }
  }
}
function L$({ bodyRowCount: e, colids: t, datas: n, footerRowCount: r, footerTrs: o, headerRowCount: i, opts: l, ws: a }) {
  if (r === 0)
    return;
  const s = l.table.rowHeightMethod, d = i + e;
  for (let u = 0; u < o.length; u++) {
    const c = o[u].getBoundingClientRect(), f = o[u].childNodes;
    let h = Math.round(c.height);
    ws({
      childNodes: f,
      colids: t,
      datas: n,
      i: u,
      offset: d,
      rowHeight: h,
      rowHeightMethod: s,
      ws: a
    }), Ss({ childNodes: f, colids: t, i: u, offset: d, ws: a });
  }
}
function R$(e, t) {
  const { XLSXX: n } = t.plugins, { bodyTrs: r, footerTrs: o, headerTrs: i, headerWrapper: l } = x$(e), { showBorder: a, headerWrapperBgc: s, bodyTrBgcArr: d, footerTrBgc: u } = D$(e, l, r), c = i.length, f = r.length, h = o.length, p = {}, v = [], g = [], m = T$();
  return p["!rows"] = [], p["!cols"] = [], p["!merges"] = [], $$({ $table: e, colids: g, datas: v, headerRowCount: c, headerTrs: i, opts: t, ws: p }), A$({ $table: e, bodyRowCount: f, bodyTrs: r, colids: g, opts: t, ws: p }), k$({ bodyRowCount: f, bodyTrs: r, colids: g, datas: v, headerRowCount: c, opts: t, ws: p }), L$({ bodyRowCount: f, colids: g, datas: v, footerRowCount: h, footerTrs: o, headerRowCount: c, opts: t, ws: p }), _$({ colids: g, datas: v, excelColNames: m, ws: p }), E$({
    $table: e,
    bodyRowCount: f,
    bodyTrBgcArr: d,
    colids: g,
    datas: v,
    excelColNames: m,
    footerTrBgc: u,
    headerRowCount: c,
    headerWrapperBgc: s,
    opts: t,
    showBorder: a,
    ws: p
  }), O$({ XLSXX: n, opts: t, ws: p });
}
function V$(e, t) {
  const n = Ae(!0, {}, t);
  if (n.plugins = n.plugins || {}, !n.plugins.XLSX || !n.plugins.XLSXX || !n.plugins.FileSaver)
    return;
  n.table = n.table || {}, n.table.sheetName = n.table.sheetName || hn.table.sheetName, n.table.formatMethod = n.table.formatMethod || hn.table.formatMethod, n.table.styleMethod = n.table.styleMethod || hn.table.styleMethod, n.table.rowHeightMethod = n.table.rowHeightMethod || hn.table.rowHeightMethod, n.table.columnWidthMethod = n.table.columnWidthMethod || hn.table.columnWidthMethod, n.table.mergesMethod = n.table.mergesMethod || hn.table.mergesMethod;
  const r = R$(e, n), { XLSXX: o, FileSaver: i } = n.plugins, l = { bookType: "xlsx", bookSST: !1, type: "binary" }, a = o.write(r, l);
  i.saveAs(new Blob([b$(a)], { type: "" }), n.table.sheetName + ".xlsx");
}
const N$ = (e, t, n) => {
  const r = n.querySelectorAll(".tiny-grid__body-wrapper.body__wrapper .tiny-grid-body__row"), o = [];
  for (let i = 0, l = r.length; i < l; i++) {
    const a = {}, s = r[i];
    e.forEach((d) => {
      const u = s.querySelector(`.${d.id}`);
      a[d.id] = u ? u.innerText.trim() : "";
    }), o.push(a);
  }
  return o;
}, P$ = (e, t, n, r) => {
  const o = e.original;
  let i = e.columns ? e.columns : n;
  e.columnFilterMethod && (i = i.filter(e.columnFilterMethod));
  let l = e.data ? e.data : o ? t : N$(i, t, r);
  return e.dataFilterMethod && (l = l.filter(e.dataFilterMethod)), { columns: i, datas: l };
}, F$ = (e, t, n, r) => {
  const o = t.original, i = e.$el, l = t.useTabs === !1 ? "" : "	", { columns: a, datas: s } = P$(t, r, n, i);
  let d = "\uFEFF";
  const u = (c) => c == null ? "" + l : typeof c == "number" && isNaN(c) ? "-" + l : (typeof c == "string" && c.replace(/ /g, "").match(/[\s,"]/) && (c = '"' + c.replace(/"/g, '""') + '"'), typeof c == "string" && c.match(/^([@=]|([-\\+].*[^0-9\\.])).*$/) && (c = " " + c), c + l);
  if (t.isHeader && (d += a.map(({ own: c }) => u(vt(c.title || c.label))).join(",") + `
`), s.forEach((c, f) => {
    o ? d += a.map((h) => h.type === "index" ? h.indexMethod ? h.indexMethod(f) : f + 1 : u(Ln(c, h))).join(",") + `
` : d += a.map((h) => u(c[h.id])).join(",") + `
`;
  }), t.isFooter) {
    const c = e.footerData, f = t.footerFilterMethod ? c.filter(t.footerFilterMethod) : c, h = e.tableColumn.map((p) => ~a.indexOf(p));
    f.forEach((p) => {
      d += p.filter((v, g) => h[g]).join(",") + `
`;
    });
  }
  return d;
}, z$ = (e, t) => window.Blob && window.URL && window.URL.createObjectURL && ft.name !== "safari" ? URL.createObjectURL(new Blob([t], { type: "text/csv;charset=utf-8" })) : `data:attachment/csv;charset=utf-8,${encodeURIComponent(t)}`, H$ = (e, t) => {
  if (!e.download)
    return Promise.resolve(t);
  if (navigator.msSaveBlob && window.Blob)
    navigator.msSaveBlob(new Blob([t], { type: "text/csv;charset=utf-8" }), e.filename);
  else {
    const n = document.createElement("a");
    n.target = "_blank", n.rel = "noopener noreferrer", n.download = e.filename, n.href = yd.filterUrl(z$(e, t)), document.body.appendChild(n), n.click(), document.body.removeChild(n);
  }
};
var B$ = {
  _exportCsv(e) {
    let { visibleColumn: t, scrollXLoad: n, scrollYLoad: r, treeConfig: o } = this, i = Ue({
      columns: null,
      columnFilterMethod: (s) => s.property && !["index", "selection", "radio"].includes(s.type),
      download: !0,
      data: null,
      dataFilterMethod: null,
      filename: "table.csv",
      footerFilterMethod: null,
      isHeader: !0,
      isFooter: !0,
      original: !!o
    }, e);
    i.filename.includes(".csv") || (i.filename += ".csv"), i.original || (n || r) && (i.original = !0);
    let l = t, a = this.tableFullData;
    return o && (a = F2(a, o)), a.forEach((s) => {
      Object.keys(s).forEach((d) => {
        s[d] === 0 && (s[d] = "0");
      });
    }), H$(i, F$(this, i, l, a));
  },
  _exportExcel(e) {
    V$(this, e);
  }
};
let il, $s = 250;
const Zt = [];
let ks;
const Ts = () => {
  clearTimeout(il), il = setTimeout(ks, $s);
};
ks = () => {
  Zt.length && (Zt.forEach((e) => {
    e.tarList.forEach((t) => {
      const { target: n, width: r, heighe: o } = t, i = n.clientWidth, l = n.clientHeight;
      (i && r !== i || l && o !== l) && (t.width = i, t.heighe = l, requestAnimationFrame(e.callback));
    });
  }), Ts());
};
class ll {
  constructor(t, n) {
    this.tarList = [], this.callback = t, $s = n;
  }
  observe(t) {
    t && (this.tarList.includes(t) || this.tarList.push({
      target: t,
      width: t.clientWidth,
      heighe: t.clientHeight
    }), Zt.length || Ts(), Zt.includes(this) || Zt.push(this));
  }
  unobserve(t) {
    Ye(Zt, (n) => ~n.tarList.indexOf(t));
  }
  disconnect() {
    Ye(Zt, (t) => t === this);
  }
}
const j$ = ft.isDoc && window.ResizeObserver || ll;
var W$ = j$;
const Or = "is__drag", _s = ({ params: e, parent: t, emit: n, event: r }) => {
  let { $listeners: o, events: i = {} } = t;
  o.zoom ? n("zoom", e, r) : i.zoom && i.zoom.call(t, e, r);
}, Mn = [], K$ = () => (e) => e.type === "message", q$ = ({ props: e, isMobileFirstMode: t }) => () => {
  if (t)
    return {};
  let n = "", r = "";
  return e.width && (n = isNaN(e.width) ? e.width : `${e.width}px`), e.height && (r = isNaN(e.height) ? e.height : `${e.height}px`), { width: n, height: r };
}, G$ = (e) => (t) => t ? e.open() : e.close("hide"), U$ = ({ api: e, props: t }) => (n) => {
  t.lockScroll && (n ? e.showScrollbar() : e.hideScrollbar());
}, Z$ = ({ api: e, props: t, state: n }) => () => {
  t.modelValue && e.open(), n.modalZindex = t.zIndex || Ut.nextZIndex();
}, Y$ = ({
  api: e,
  parent: t,
  props: n,
  isMobileFirstMode: r,
  state: o
}) => () => {
  if (r)
    ee(window, "resize", e.resetDragStyle);
  else {
    let i = e.getBox();
    Object.assign(i.style, {
      width: n.width ? isNaN(n.width) ? n.width : `${n.width}px` : null,
      height: n.height ? isNaN(n.height) ? n.height : `${n.height}px` : null
    }), n.lockScroll && o.visible && e.showScrollbar();
  }
  n.escClosable && ee(document, "keydown", e.handleGlobalKeydownEvent), ee(window, "hashchange", e.handleHashChange), document.body.appendChild(t.$el);
}, X$ = ({ api: e, parent: t, isMobileFirstMode: n }) => () => {
  n && oe(window, "resize", e.resetDragStyle), oe(document, "keydown", e.handleGlobalKeydownEvent), oe(window, "hashchange", e.handleHashChange), oe(window, "resize", e.resetModalViewPosition), e.removeMsgQueue(), e.hideScrollbar(), t.$el.parentNode && t.$el.parentNode.removeChild(t.$el);
}, Q$ = ({ api: e, parent: t, props: n }) => (r) => {
  n.maskClosable && r.target === t.$el && e.close("mask");
}, J$ = (e) => () => {
  clearTimeout(e.timer);
}, ek = ({ api: e, props: t, state: n }) => () => {
  e.addMsgQueue(), n.timer = window.setTimeout(
    () => {
      e.close("close");
    },
    parseFloat(t.duration)
  );
}, tk = ({ state: e, props: t }) => () => {
  e.modalZindex = t.zIndex || Ut.nextZIndex();
}, nk = ({
  api: e,
  emit: t,
  parent: n,
  props: r,
  isMobileFirstMode: o
}) => (i, l, a) => {
  if (~["close", "confirm", "cancel"].indexOf(i) && typeof r.beforeClose == "function" && r.beforeClose(i) === !1)
    return;
  const { events: s = {} } = n, d = {
    type: i,
    $modal: n
  };
  o && i === "confirm" && (d.options = a), t(i, d, l), s[i] && s[i].call(n, d), e.close(i);
}, rk = (e) => (t) => {
  e.handleEvent("close", t);
}, ok = ({ api: e, state: t }) => (n) => {
  e.handleEvent("confirm", n, t.options);
}, ik = (e) => (t) => {
  e.handleEvent("cancel", t);
}, lk = ({
  api: e,
  emit: t,
  nextTick: n,
  parent: r,
  props: o,
  state: i,
  isMobileFirstMode: l
}) => () => {
  let { $listeners: a, events: s = {} } = r;
  if (!i.visible) {
    let d = { type: "show", $modal: r };
    i.visible = !0, i.contentVisible = !1, e.updateZindex(), s.show || (t("update:modelValue", !0), t("show", d)), setTimeout(() => {
      i.contentVisible = !0, !a.show && s.show && n(() => {
        s.show.call(r, d);
      });
    }, 10), i.isMsg ? (e.addMsgQueue(), i.timer = window.setTimeout(
      () => {
        e.close(d.type);
      },
      parseFloat(o.duration)
    )) : n(() => {
      if (!l) {
        let u = e.getBox();
        const c = ha();
        let f = c.document.documentElement.clientWidth || c.document.body.clientWidth, h = c.document.documentElement.clientHeight || c.document.body.clientHeight, p = isNaN(o.width) ? o.width : `${o.width}px`;
        p ? u.style.left = "calc((100vw - " + p + ") / 2)" : u.style.left = `${f / 2 - u.offsetWidth / 2}px`, u.offsetHeight + u.offsetTop + o.marginSize > h && (u.style.top = `${o.marginSize}px`), ee(window, "resize", e.resetModalViewPosition);
      }
      o.fullscreen ? n(e.maximize) : e.revert();
    });
  }
}, ak = ({ api: e, parent: t }) => () => {
  ~Mn.indexOf(t) || Mn.push(t), e.updateStyle();
}, sk = ({ api: e, parent: t }) => () => {
  const n = Mn.indexOf(t);
  ~n && Mn.splice(n, 1), e.updateStyle();
}, dk = ({ nextTick: e, props: t }) => () => {
  e(() => {
    let n = 0, r = t.top;
    Mn.forEach((o) => {
      n += parseFloat(r), o.state.modalTop = n;
      const i = o.$refs.modalBox;
      n += i.clientHeight, r = 15;
    });
  });
}, uk = ({ emit: e, parent: t, props: n, state: r }) => (o) => {
  if (!~["close", "confirm", "cancel"].indexOf(o) && typeof n.beforeClose == "function" && n.beforeClose(o) === !1)
    return;
  let { events: i = {} } = t;
  r.emitter.emit("boxclose", n.isFormReset), r.visible && (r.contentVisible = !1, setTimeout(() => {
    r.visible = !1;
    let l = { type: o, $modal: t };
    i.hide ? i.hide.call(t, l) : (e("update:modelValue", !1), e("hide", l));
  }, 200));
}, ck = (e) => (t) => {
  t.keyCode === be.Escape && e.close("esc");
}, fk = (e) => () => {
  e.close("hide");
}, hk = ({ vm: e }) => () => e.$refs.modalBox, pk = ({
  api: e,
  nextTick: t,
  props: n,
  state: r,
  isMobileFirstMode: o
}) => () => t().then(() => {
  if (!r.zoomLocat) {
    let i = n.marginSize, l = e.getBox(), { visibleHeight: a, visibleWidth: s } = ar();
    r.zoomLocat = {
      top: l.offsetTop,
      left: l.offsetLeft,
      width: l.clientWidth,
      height: l.clientHeight
    }, o || Object.assign(l.style, {
      width: `${s - i * 2}px`,
      height: `${a - i * 2}px`,
      top: `${i}px`,
      left: `${i}px`
    }), r.emitter.emit("boxdrag");
  }
}), vk = ({
  api: e,
  nextTick: t,
  state: n,
  isMobileFirstMode: r
}) => () => t().then(() => {
  let o = n.zoomLocat;
  if (o) {
    let i = e.getBox();
    n.zoomLocat = null, r || Object.assign(i.style, {
      width: `${o.width}px`,
      height: `${o.height}px`,
      top: `${o.top}px`,
      left: `${o.left}px`
    }), n.emitter.emit("boxdrag");
  }
}), gk = ({
  api: e,
  emit: t,
  parent: n,
  state: r,
  isMobileFirstMode: o
}) => (i) => {
  let l = { type: r.zoomLocat ? "min" : "max", $modal: n };
  const a = r.zoomLocat ? e.revert : e.maximize;
  return o && e.resetDragStyle(), a().then(() => {
    _s({ params: l, parent: n, emit: t, event: i });
  });
};
function mk(e, t, n) {
  let r, o = e.target;
  for (; o && o.nodeType && o !== document; ) {
    if (Lr(o, n))
      r = o;
    else if (o === t)
      return {
        flag: n ? !!r : !0,
        container: t,
        targetElem: r
      };
    o = o.parentNode;
  }
  return { flag: !1 };
}
const yk = ({
  api: e,
  nextTick: t,
  props: n,
  state: r,
  emit: o,
  isMobileFirstMode: i
}) => (l) => {
  let a = e.getBox();
  if (!r.zoomLocat && l.button === 0 && !mk(l, a, "trigger__btn").flag) {
    l.preventDefault();
    let s = document.onmousemove, d = document.onmouseup, u = l.clientX - a.offsetLeft, c = l.clientY - a.offsetTop, { visibleHeight: f, visibleWidth: h } = ar();
    document.onmousemove = (p) => {
      p.preventDefault(), r.emitter.emit("boxdrag");
      let v = a.offsetWidth, g = a.offsetHeight, m = p.clientX - u, b = p.clientY - c, y, S, w, _;
      i ? (y = v / 2 + n.marginSize, S = h - v / 2 - n.marginSize, w = g / 2 + n.marginSize, _ = f - g / 2 - n.marginSize) : (y = n.marginSize, S = h - v - n.marginSize, w = n.marginSize, _ = f - g - n.marginSize), m < y && (m = y), m > S && (m = S), b < w && (b = w), b > _ && (b = _), a.style.left = `${m}px`, a.style.top = `${b}px`, Ee(a, Or), o("custom-mousemove", p);
    }, document.onmouseup = (p) => {
      document.onmousemove = s, document.onmouseup = d, t(() => {
        _e(a, Or);
      }), o("custom-mouseup", p);
    }, o("custom-mousedown", l);
  }
}, bk = ({
  width: e,
  offsetWidth: t,
  x: n,
  minWidth: r,
  temp: o,
  offsetLeft: i,
  marginSize: l,
  left: a
}) => (e = t - n, e = e < r ? r : e, o = i + t - l, e = e > o ? o : e, a = i + t - e, { width: e, left: a }), Ck = ({
  height: e,
  offsetHeight: t,
  y: n,
  minHeight: r,
  temp: o,
  offsetTop: i,
  marginSize: l,
  top: a
}) => (e = t - n, e = e < r ? r : e, o = i + t - l, e = e > o ? o : e, a = i + t - e, { height: e, top: a }), wk = ({
  width: e,
  offsetWidth: t,
  x: n,
  minWidth: r,
  temp: o,
  visibleWidth: i,
  offsetLeft: l,
  marginSize: a
}) => (e = t + n, e = e < r ? r : e, o = i - l - a, e = e > o ? o : e, { width: e }), Sk = ({
  height: e,
  offsetHeight: t,
  y: n,
  minHeight: r,
  temp: o,
  visibleHeight: i,
  offsetTop: l,
  marginSize: a
}) => (e = t + n, e = e < r ? r : e, o = i - l - a, e = e > o ? o : e, { height: e }), zr = ({
  ret: { width: e, left: t, height: n, top: r },
  modalBoxElem: o
}) => {
  e && (o.style.width = `${e}px`), t && (o.style.left = `${t}px`), n && (o.style.height = `${n}px`), r && (o.style.top = `${r}px`);
}, ro = ({
  width: e,
  offsetWidth: t,
  x: n,
  minWidth: r,
  temp: o,
  offsetLeft: i,
  marginSize: l,
  left: a,
  modalBoxElem: s
}) => {
  zr({
    ret: bk({ width: e, offsetWidth: t, x: n, minWidth: r, temp: o, offsetLeft: i, marginSize: l, left: a }),
    modalBoxElem: s
  });
}, oo = ({
  width: e,
  offsetWidth: t,
  x: n,
  minWidth: r,
  temp: o,
  visibleWidth: i,
  offsetLeft: l,
  marginSize: a,
  modalBoxElem: s
}) => {
  zr({
    ret: wk({ width: e, offsetWidth: t, x: n, minWidth: r, temp: o, visibleWidth: i, offsetLeft: l, marginSize: a }),
    modalBoxElem: s
  });
}, io = ({
  height: e,
  offsetHeight: t,
  y: n,
  minHeight: r,
  temp: o,
  offsetTop: i,
  marginSize: l,
  top: a,
  modalBoxElem: s
}) => {
  zr({
    ret: Ck({ height: e, offsetHeight: t, y: n, minHeight: r, temp: o, offsetTop: i, marginSize: l, top: a }),
    modalBoxElem: s
  });
}, lo = ({
  height: e,
  offsetHeight: t,
  y: n,
  minHeight: r,
  temp: o,
  visibleHeight: i,
  offsetTop: l,
  marginSize: a,
  modalBoxElem: s
}) => {
  zr({
    ret: Sk({ height: e, offsetHeight: t, y: n, minHeight: r, temp: o, visibleHeight: i, offsetTop: l, marginSize: a }),
    modalBoxElem: s
  });
}, $k = ({ params: e, delta: { x: t, y: n } }) => {
  const { visibleHeight: r, visibleWidth: o, modalBoxElem: i, type: l, props: a } = e, { offsetWidth: s, offsetHeight: d, offsetLeft: u, offsetTop: c } = i, { minWidth: f, minHeight: h, marginSize: p } = a, [v, g, m, b, y] = [0, 0, 0, 0, 0];
  switch (l) {
    case "wl":
      ro({ offsetWidth: s, width: v, minWidth: f, x: t, offsetLeft: u, temp: m, marginSize: p, left: g, modalBoxElem: i });
      break;
    case "wr":
      oo({ width: v, offsetWidth: s, x: t, minWidth: f, temp: m, visibleWidth: o, offsetLeft: u, marginSize: p, modalBoxElem: i });
      break;
    case "st":
      io({ height: b, offsetHeight: d, y: n, minHeight: h, temp: m, offsetTop: c, marginSize: p, top: y, modalBoxElem: i });
      break;
    case "sb":
      lo({ height: b, offsetHeight: d, y: n, minHeight: h, temp: m, visibleHeight: r, offsetTop: c, marginSize: p, modalBoxElem: i });
      break;
    case "swst":
      ro({ width: v, offsetWidth: s, x: t, minWidth: f, temp: m, offsetLeft: u, marginSize: p, left: g, modalBoxElem: i }), io({ height: b, offsetHeight: d, y: n, minHeight: h, temp: m, offsetTop: c, marginSize: p, top: y, modalBoxElem: i });
      break;
    case "sest":
      oo({ offsetWidth: s, width: v, x: t, temp: m, minWidth: f, marginSize: p, visibleWidth: o, offsetLeft: u, modalBoxElem: i }), io({ height: b, offsetHeight: d, y: n, minHeight: h, temp: m, offsetTop: c, marginSize: p, top: y, modalBoxElem: i });
      break;
    case "swlb":
      ro({ width: v, offsetWidth: s, minWidth: f, x: t, temp: m, marginSize: p, offsetLeft: u, modalBoxElem: i, left: g }), lo({ height: b, offsetHeight: d, y: n, minHeight: h, temp: m, visibleHeight: r, offsetTop: c, marginSize: p, modalBoxElem: i });
      break;
    case "selb":
      oo({ width: v, offsetWidth: s, minWidth: f, x: t, visibleWidth: o, offsetLeft: u, marginSize: p, temp: m, modalBoxElem: i }), lo({ height: b, offsetHeight: d, y: n, minHeight: h, temp: m, visibleHeight: r, offsetTop: c, marginSize: p, modalBoxElem: i });
      break;
  }
}, kk = ({ event: e, delta: t, state: n }) => {
  n.prevEvent && (t.x += e.screenX - n.prevEvent.screenX, t.y += e.screenY - n.prevEvent.screenY), n.prevEvent = e;
};
function Is(e, t) {
  const n = e.$children;
  n && n.length === 0 || n.forEach((r) => {
    const o = r.$options.componentName;
    /^Form$/.test(o) && t.push(r), Is(r, t);
  });
}
function Tk(e) {
  const t = [];
  return Is(e, t), t;
}
const _k = (e) => {
  const t = Tk(e);
  t.length > 0 && t.forEach((n) => {
    n.updateTip();
  });
}, Ik = ({ api: e, emit: t, parent: n, props: r, state: o }) => (i) => {
  var l;
  i.preventDefault();
  const a = { x: 0, y: 0 }, { visibleHeight: s, visibleWidth: d } = ar(), u = e.getBox(), c = document.onmousemove, f = document.onmouseup, h = {
    props: r,
    offsetTop: u.offsetTop,
    offsetLeft: u.offsetLeft,
    visibleWidth: d,
    modalBoxElem: u,
    visibleHeight: s,
    disX: i.clientX,
    disY: i.clientY,
    type: (l = i.target) == null ? void 0 : l.dataset.type
  };
  document.onmousemove = (p) => {
    _k(n), kk({ event: p, delta: a, state: o }), $k({ params: h, delta: a }), a.x = a.y = 0, Ee(u, Or), _s({
      params: { type: "resize", $modal: n },
      parent: n,
      emit: t,
      event: p
    });
  }, document.onmouseup = () => {
    o.zoomLocat = null, document.onmousemove = c, document.onmouseup = f, setTimeout(() => {
      _e(u, Or), o.prevEvent = null;
    }, 50);
  };
}, Ek = (e) => () => {
  const t = e.getBox();
  t.style.left = "", t.style.top = "";
}, Ok = (e) => () => {
  Ee(document.body, e);
}, Mk = (e) => () => {
  _e(document.body, e);
}, xk = (e) => () => {
  const t = e.getBox(), n = ha(), r = n.document.documentElement.clientWidth || n.document.body.clientWidth;
  t.style.left = `${r / 2 - t.offsetWidth / 2}px`;
}, Dk = [
  "state",
  "dragEvent",
  "mousedownEvent",
  "toggleZoomEvent",
  "revert",
  "maximize",
  "getBox",
  "close",
  "updateStyle",
  "selfClickEvent",
  "mouseEnterEvent",
  "mouseLeaveEvent",
  "updateZindex",
  "closeEvent",
  "confirmEvent",
  "cancelEvent",
  "open",
  "beforeUnmouted",
  "resetDragStyle",
  "resetModalViewPosition"
], Ak = (e, { computed: t, onMounted: n, onBeforeUnmount: r, reactive: o, watch: i }, { vm: l, emit: a, emitter: s, nextTick: d, broadcast: u, vm: c, constants: f, mode: h }, { isMobileFirstMode: p }) => {
  const v = {}, g = f.SCROLL_LOCK_CLASS(h), m = o({
    emitter: s(),
    visible: !1,
    contentVisible: !1,
    cumsumZindex: 0,
    modalTop: 0,
    modalZindex: 0,
    zoomLocat: null,
    isMsg: t(() => v.computedIsMsg(e)),
    prevEvent: null,
    options: [],
    theme: e.tiny_theme,
    boxStyle: t(() => v.computedBoxStyle()),
    timer: 0
  });
  return Object.assign(v, {
    state: m,
    broadcast: u,
    computedIsMsg: K$(),
    updateStyle: dk({ nextTick: d, props: e }),
    getBox: hk({ vm: l }),
    watchValue: G$(v),
    created: Z$({ api: v, props: e, state: m }),
    mounted: Y$({ api: v, parent: c, props: e, isMobileFirstMode: p, state: m }),
    beforeUnmouted: X$({ api: v, parent: c, isMobileFirstMode: p }),
    selfClickEvent: Q$({ api: v, parent: c, props: e }),
    mouseEnterEvent: J$(m),
    mouseLeaveEvent: ek({ api: v, props: e, state: m }),
    updateZindex: tk({ state: m, props: e }),
    handleEvent: nk({ api: v, emit: a, parent: c, props: e, isMobileFirstMode: p }),
    closeEvent: rk(v),
    confirmEvent: ok({ api: v, state: m }),
    cancelEvent: ik(v),
    open: lk({ api: v, emit: a, nextTick: d, parent: c, props: e, state: m, isMobileFirstMode: p }),
    addMsgQueue: ak({ api: v, parent: c }),
    removeMsgQueue: sk({ api: v, parent: c }),
    close: uk({ emit: a, parent: c, props: e, state: m }),
    handleGlobalKeydownEvent: ck(v),
    handleHashChange: fk(v),
    maximize: pk({ api: v, nextTick: d, props: e, state: m, isMobileFirstMode: p }),
    revert: vk({ api: v, nextTick: d, state: m, isMobileFirstMode: p }),
    toggleZoomEvent: gk({ api: v, emit: a, parent: c, state: m, isMobileFirstMode: p }),
    mousedownEvent: yk({ api: v, nextTick: d, props: e, state: m, emit: a, isMobileFirstMode: p }),
    dragEvent: Ik({ api: v, emit: a, parent: c, props: e, state: m }),
    resetDragStyle: Ek(v),
    resetModalViewPosition: xk(v),
    computedBoxStyle: q$({ props: e, isMobileFirstMode: p }),
    watchVisible: U$({ api: v, props: e }),
    hideScrollbar: Mk(g),
    showScrollbar: Ok(g)
  }), i(() => e.modelValue, v.watchValue), i(() => m.visible, v.watchVisible), v.created(), n(v.mounted), r(v.beforeUnmouted), v;
};
function jn() {
  return jn = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, jn.apply(null, arguments);
}
var ao = /* @__PURE__ */ U({
  props: [].concat(Ne, ["_constants", "animat", "beforeClose", "duration", "escClosable", "events", "fullscreen", "height", "id", "isFormReset", "lockScroll", "lockView", "marginSize", "mask", "maskClosable", "message", "minHeight", "minWidth", "modelValue", "resize", "showFooter", "showHeader", "status", "title", "top", "type", "vSize", "width", "zIndex", "messageClosable", "confirmContent", "cancelContent", "confirmBtnProps", "cancelBtnProps", "footerDragable", "tiny_theme", "slots", "showClose"]),
  emits: ["update:modelValue", "show", "close", "confirm", "cancel", "hide", "custom-mousedown", "custom-mouseup", "custom-mousemove"],
  provide: function() {
    return {
      dialog: this
    };
  },
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: Ak,
      api: Dk
    });
  },
  render: function() {
    var t, n, r, o = this, i = this.$props, l = i === void 0 ? {} : i, a = this.state, s = this.scopedSlots, d = this.vSize, u = this.type, c = this.resize, f = this.showClose, h = this.animat, p = this.status, v = this.showHeader, g = this.messageClosable, m = this.showFooter, b = this.title, y = this.message, S = this.lockScroll, w = this.lockView, _ = this.mask, $ = this._constants, I = this.t, A = this.confirmContent, x = this.cancelContent, D = this.confirmBtnProps, R = this.cancelBtnProps, O = a.zoomLocat, L = a.visible, M = a.contentVisible, V = a.modalTop, B = a.isMsg, H = l.slots, Y = H === void 0 ? {} : H, re = s.default || Y.default, ue = s.footer || Y.footer, ne = {
      $modal: this,
      beforeClose: this.beforeClose,
      confirm: this.confirmEvent,
      cancel: this.cancelEvent
    }, se = Object.prototype.toString.call(D) === "[object Object]" ? D : {}, he = Object.prototype.toString.call(R) === "[object Object]" ? R : {}, me = (t = A ?? D.text) != null ? t : I("ui.button.confirm"), we = (n = x ?? he.text) != null ? n : I("ui.button.cancel"), ye = {
      QUESTION: uf(),
      INFO: Oa(),
      SUCCESS: Aa(),
      WARNING: La(),
      ERROR: Nr(),
      LOADING: An()
    };
    return F("div", {
      class: ["tiny-modal", "tiny-modal__wrapper", "type__" + u, (r = {}, r["size__" + d] = d, r["status__" + p] = typeof p == "string", r.is__animat = h, r.lock__scroll = S, r.lock__view = w, r.is__mask = _, r.is__maximize = O, r.is__visible = M, r.active = L, r)],
      style: {
        zIndex: a.modalZindex,
        top: V ? V + "px" : null
      },
      on: {
        click: this.selfClickEvent
      }
    }, [F("div", {
      class: "tiny-modal__box",
      style: a.boxStyle,
      ref: "modalBox",
      on: jn({}, u === "message" ? {
        mouseenter: this.mouseEnterEvent,
        mouseleave: this.mouseLeaveEvent
      } : {})
    }, [v ? F("div", {
      class: ["tiny-modal__header", p && a.theme === "saas" ? "tiny-modal__header-icon" : ""],
      on: {
        mousedown: this.mousedownEvent
      }
    }, [p ? F("div", {
      class: ["tiny-modal__status-wrapper"]
    }, [typeof p == "string" ? F(ye[p.toUpperCase()], {
      class: [$.STATUS_MAPPING_CLASSS[p.toUpperCase()]]
    }) : F(p, {
      class: ["tiny-modal__status-icon"]
    })]) : null, b !== "" ? F("span", {
      class: "tiny-modal__title"
    }, b || I("ui.alert.title")) : null, c ? F(O ? ov() : Kc(), {
      class: ["tiny-modal__zoom-btn", "trigger__btn"],
      on: {
        click: this.toggleZoomEvent
      }
    }) : null, f ? F(dn(), {
      class: ["tiny-modal__close-btn", "trigger__btn"],
      on: {
        click: this.closeEvent
      }
    }) : null]) : null, F("div", {
      class: ["tiny-modal__body", u === "message" ? "is-message" : ""]
    }, [u === "message" ? F("div", {
      class: "tiny-modal__status-wrapper"
    }, [typeof p == "string" ? F(ye[p.toUpperCase()], {
      class: [$.STATUS_MAPPING_CLASSS[p.toUpperCase()]]
    }) : F(p, {
      class: ["tiny-modal__status-icon"]
    })]) : null, F("div", {
      class: "tiny-modal__content"
    }, re ? re.call(this, {
      $modal: this
    }, F) : [F("div", {
      class: "tiny-modal__text"
    }, typeof y == "function" ? y.call(this, F) : [y])]), g ? F("div", {
      class: "tiny-modal__close-wrapper"
    }, F(dn(), {
      class: ["tiny-modal__close-btn"],
      on: {
        click: this.closeEvent
      }
    })) : null]), m ? F("div", {
      class: ["tiny-modal__footer", this.footerDragable ? "tiny-modal__footer-move" : ""],
      on: {
        mousedown: this.footerDragable ? this.mousedownEvent : function() {
        }
      }
    }, ue ? ue.call(this, ne, F) : [u === "confirm" ? F(Be, {
      on: {
        click: this.cancelEvent
      },
      props: jn({}, he)
    }, we) : null, F(Be, {
      props: jn({
        type: "primary"
      }, se),
      on: {
        click: this.confirmEvent
      }
    }, me)]) : null, !B && c ? F("span", {
      class: "tiny-modal__resize"
    }, ["wl", "wr", "swst", "sest", "st", "swlb", "selb", "sb"].map(function(Pe) {
      return F("span", {
        class: Pe + "-resize",
        attrs: {
          "data-type": Pe
        },
        on: {
          mousedown: o.dragEvent
        }
      });
    })) : null])]);
  }
});
const Lk = ({ state: e, emit: t }) => () => {
  e.isLock = !0, setTimeout(() => {
    e.isLock = !1;
  }, 300), e.showPopover = !1;
}, Rk = ({ state: e, props: t, emit: n }) => (r) => {
  (r ? t.trigger !== r : !t.reference) || e.isLock || e.showPopover || (e.showPopover = !0);
}, Vk = ({ state: e, api: t }) => () => {
  e.showPopover = !1, t.handleEmit("confirm");
}, Nk = ({ state: e, emit: t, vm: n }) => (r) => {
  let { events: o = {} } = n;
  o[r] ? o[r].call(n, { $modal: n, type: r }) : t(r, e);
}, Pk = ({ vm: e, api: t }) => (n) => {
  e.$refs.popover.handleDocumentClick(n) && t.hide();
}, Fk = ["state", "show", "hide", "confirm", "handleEmit"], zk = (e, { computed: t, reactive: n, onMounted: r, onBeforeUnmount: o }, { emit: i, constants: l, designConfig: a, vm: s }) => {
  var d;
  const u = {}, c = (d = a == null ? void 0 : a.icons) == null ? void 0 : d[e.type], f = n({
    isLock: !1,
    showPopover: !1,
    getIcon: t(
      () => typeof e.type == "object" ? e.type : c || l.ICON_MAP[e.type]
    )
  });
  return Object.assign(u, {
    state: f,
    show: Rk({ state: f, emit: i, props: e }),
    hide: Lk({ state: f, emit: i }),
    confirm: Vk({ state: f, api: u }),
    handleEmit: Nk({ state: f, emit: i, vm: s }),
    handleDocumentClick: Pk({ api: u, vm: s })
  }), r(() => {
    e.closeOnClickOutside && ee(document, "click", u.handleDocumentClick);
  }), o(() => {
    e.closeOnClickOutside && oe(document, "click", u.handleDocumentClick);
  }), u;
};
function Hk(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = Bk(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function Bk(e, t) {
  if (e) {
    if (typeof e == "string") return al(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? al(e, t) : void 0;
  }
}
function al(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var jk = function(t, n) {
  for (var r = t.__vccOpts || t, o = Hk(n), i; !(i = o()).done; ) {
    var l = i.value, a = l[0], s = l[1];
    r[a] = s;
  }
  return r;
}, Wk = U({
  name: te + "Popconfirm",
  components: {
    TinyPopover: kt,
    TinyButton: Be,
    IconSuccess: Aa(),
    IconHelp: Oa(),
    IconWarningTriangle: Vh(),
    IconError: Nr()
  },
  props: {
    _constants: {
      type: Object,
      default: function() {
        return {};
      }
    },
    popperOptions: Object,
    message: String,
    customClass: String,
    trigger: {
      type: String,
      default: "hover",
      validator: function(t) {
        return ["click", "hover"].includes(t);
      }
    },
    cancelButton: {
      type: Boolean,
      default: !0
    },
    closeOnClickOutside: {
      type: Boolean,
      default: !0
    },
    title: String,
    placement: {
      type: String,
      default: "top"
    },
    width: {
      type: [String, Number],
      default: ""
    },
    type: [String, Object],
    reference: {},
    events: Object,
    popperAppendToBody: {
      type: Boolean,
      default: !0
    }
  },
  emits: ["hide", "show", "confirm"],
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: zk,
      api: Fk
    });
  }
}), Kk = {
  class: "tiny-popconfirm"
}, qk = {
  class: "tiny-popconfirm-popover__container"
}, Gk = {
  class: "tiny-popconfirm-popover__header"
}, Uk = {
  class: "tiny-popconfirm-popover__title"
}, Zk = {
  class: "tiny-popconfirm-popover__content"
}, Yk = {
  class: "tiny-popconfirm-popover__footer"
};
function Xk(e, t, n, r, o, i) {
  var l = K("tiny-button"), a = K("tiny-popover");
  return C(), k("div", Kk, [T("div", null, [E(a, {
    ref: "popover",
    modelValue: e.state.showPopover,
    "onUpdate:modelValue": t[2] || (t[2] = function(s) {
      return e.state.showPopover = s;
    }),
    placement: e.placement,
    trigger: "manual",
    width: e.width,
    "popper-class": "tiny-popconfirm-popover " + (e.customClass || ""),
    "popper-options": e.popperOptions,
    "append-to-body": e.popperAppendToBody,
    reference: e.reference,
    onShow: t[3] || (t[3] = function(s) {
      return e.handleEmit("show");
    }),
    onHide: t[4] || (t[4] = function(s) {
      return e.handleEmit("hide");
    })
  }, {
    reference: q(function() {
      return [T(
        "div",
        {
          class: "tiny-popconfirm__reference",
          onClick: t[0] || (t[0] = function(s) {
            return e.show("click");
          }),
          onMouseenter: t[1] || (t[1] = function(s) {
            return e.show("hover");
          })
        },
        [G(e.$slots, "reference")],
        32
        /* NEED_HYDRATION */
      )];
    }),
    default: q(function() {
      return [T("div", qk, [T("div", Gk, [e.type ? (C(), z(Te(e.state.getIcon), {
        key: 0,
        class: W(["tiny-popconfirm-popover__icon", e.type ? "tiny-popconfirm-popover--" + e.type : ""])
      }, null, 8, ["class"])) : P("v-if", !0), T(
        "div",
        Uk,
        j(e.title),
        1
        /* TEXT */
      )]), T("div", Zk, [G(e.$slots, "message", {}, function() {
        return [de(
          j(e.message),
          1
          /* TEXT */
        )];
      })]), T("div", Yk, [G(e.$slots, "footer", {}, function() {
        return [e.cancelButton ? (C(), z(l, {
          key: 0,
          class: "tiny-popconfirm-popover__cancel-button",
          size: "mini",
          onClick: e.hide
        }, {
          default: q(function() {
            return [de(
              j(e.t("ui.button.cancel")),
              1
              /* TEXT */
            )];
          }),
          _: 1
          /* STABLE */
        }, 8, ["onClick"])) : P("v-if", !0), E(l, {
          class: "tiny-popconfirm-popover__confirm-button",
          size: "mini",
          type: "primary",
          onClick: e.confirm
        }, {
          default: q(function() {
            return [de(
              j(e.t("ui.button.confirm")),
              1
              /* TEXT */
            )];
          }),
          _: 1
          /* STABLE */
        }, 8, ["onClick"])];
      })])])];
    }),
    _: 3
    /* FORWARDED */
  }, 8, ["modelValue", "placement", "width", "popper-class", "popper-options", "append-to-body", "reference"])])]);
}
var so = /* @__PURE__ */ jk(Wk, [["render", Xk]]);
function Ho() {
  return Ho = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, Ho.apply(null, arguments);
}
var Qk = function(t) {
  var n, r = typeof process == "object" ? (n = process.env) == null ? void 0 : n.TINY_MODE : null;
  return so;
}, Jk = {
  PC_PREFIXCLS: "tiny-popconfim",
  MOBILE_PREFIXCLS: "tiny-mobile-popconfim",
  Mode: "pc",
  prefixcls: function(t) {
    return t === this.Mode ? this.PC_PREFIXCLS : this.MOBILE_PREFIXCLS;
  },
  ICON_MAP: {
    success: "icon-success",
    error: "icon-error",
    info: "icon-help",
    warning: "icon-warning-triangle"
  }
}, eT = Ho({}, le, {
  _constants: {
    type: Object,
    default: function() {
      return Jk;
    }
  },
  message: String,
  customClass: String,
  popperOptions: Object,
  trigger: {
    type: String,
    default: "hover",
    validator: function(t) {
      return ["click", "hover"].includes(t);
    }
  },
  cancelButton: {
    type: Boolean,
    default: !0
  },
  closeOnClickOutside: {
    type: Boolean,
    default: !0
  },
  title: String,
  placement: {
    type: String,
    default: "top"
  },
  width: [String, Number],
  type: [String, Object],
  reference: {},
  events: Object,
  popperAppendToBody: {
    type: Boolean,
    default: !0
  }
}), nn = U({
  name: te + "Popconfim",
  props: eT,
  setup: function(t, n) {
    return Ie({
      props: t,
      context: n,
      template: Qk
    });
  }
}), tT = "3.undefined";
nn.install = function(e) {
  e.component(nn.name, nn);
};
nn.model = {
  prop: "modelValue",
  event: "update:modelValue"
};
nn.version = tT;
function Mr() {
  return Mr = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, Mr.apply(null, arguments);
}
var nT = function(t) {
  var n, r = typeof process == "object" ? (n = process.env) == null ? void 0 : n.TINY_MODE : null;
  return ao;
}, rT = {
  MODAL_STATUS: {
    INFO: "info",
    SUCCESS: "success",
    WARNING: "warning",
    ERROR: "error",
    LOADING: "loading"
  },
  NODAL_TYPE: {
    ALERT: "alert",
    CONFIRM: "confirm",
    MESSAGE: "message"
  },
  STATUS_MAPPING_CLASSS: {
    INFO: "tiny-modal-svg__info",
    SUCCESS: "tiny-modal-svg__success",
    WARNING: "tiny-modal-svg__warning",
    ERROR: "tiny-modal-svg__error",
    LOADING: "tiny-modal-svg__refresh roll"
  },
  PC_SCROLL_LOCK_CLASS: "dialog-box__scroll-lock",
  MOBILE_FIRST_SCROLL_LOCK_CLASS: "tiny-modal-lockscroll",
  Mode: "pc",
  SCROLL_LOCK_CLASS: function(t) {
    return t === this.Mode ? this.PC_SCROLL_LOCK_CLASS : this.MOBILE_FIRST_SCROLL_LOCK_CLASS;
  }
}, oT = Mr({}, le, {
  _constants: {
    type: Object,
    default: function() {
      return rT;
    }
  },
  animat: {
    type: Boolean,
    default: function() {
      return !0;
    }
  },
  beforeClose: Function,
  duration: {
    type: [Number, String],
    default: function() {
      return 3e3;
    }
  },
  messageClosable: Boolean,
  escClosable: Boolean,
  events: Object,
  fullscreen: Boolean,
  height: [Number, String],
  id: String,
  isFormReset: {
    type: Boolean,
    default: !0
  },
  lockScroll: Boolean,
  lockView: {
    type: Boolean,
    default: function() {
      return !0;
    }
  },
  marginSize: {
    type: [Number, String],
    default: 10
  },
  mask: {
    type: Boolean,
    default: function() {
      return !0;
    }
  },
  maskClosable: Boolean,
  message: [String, Function, Object],
  minHeight: {
    type: [Number, String],
    default: function() {
      return 200;
    }
  },
  minWidth: {
    type: [Number, String],
    default: function() {
      return 340;
    }
  },
  modelValue: Boolean,
  resize: Boolean,
  showFooter: Boolean,
  showHeader: {
    type: Boolean,
    default: !0
  },
  status: {
    type: [String, Object],
    default: ""
  },
  title: String,
  top: {
    type: [Number, String],
    default: 80
  },
  type: {
    type: String,
    default: "alert"
  },
  vSize: String,
  width: [Number, String],
  zIndex: [Number, String],
  description: String,
  // mf 属性
  options: Array,
  // mf 属性
  showClose: {
    type: Boolean,
    default: !0
  },
  // mf 属性
  confirmContent: String,
  cancelContent: String,
  position: {
    type: String,
    // mf 属性
    default: "",
    validator: function(t) {
      return ["", "bottom-right"].includes(t);
    }
  },
  customClass: String,
  // mf 属性
  confirmBtnProps: {
    type: Object,
    default: function() {
      return {};
    }
  },
  cancelBtnProps: {
    type: Object,
    default: function() {
      return {};
    }
  },
  footerDragable: Boolean,
  tiny_theme: String,
  slots: Object
}), iT = U({
  name: te + "Modal",
  componentName: "Modal",
  props: oT,
  setup: function(t, n) {
    return Ie({
      props: t,
      context: n,
      template: nT
    });
  }
}), lT = "3.undefined", Me = iT;
Me.version = lT;
Me.model = {
  prop: "modelValue",
  event: "update:modelValue"
};
function mn(e) {
  var t = new Promise(function(n) {
    if (e && e.id && Mn.some(function(l) {
      return l.id === e.id;
    }))
      n("exist");
    else {
      var r = e.events || {}, o;
      e.events = Object.assign({}, r, {
        hide: function(a) {
          r.hide && r.hide.call(this, a), o && "beforeUnmouted" in o && o.beforeUnmouted(), n(a.type);
        },
        confirm: function(a) {
          r.confirm && r.confirm.call(this, a);
        },
        show: function(a) {
          r.show && r.show.call(this, a);
        }
      }), o = ai({
        el: document.createElement("div"),
        propsData: Object.assign({
          tiny_mode: Me.tiny_mode,
          tiny_theme: Me.tiny_theme
        }, e),
        component: e.componentType === "popconfirm" ? nn : Me
      });
      var i = o[e.componentType === "popconfirm" ? "show" : "open"];
      i && i(), setTimeout(function() {
        t.vm = o;
      }, 0);
    }
  });
  return t;
}
var aT = mn, sT = ["alert", "confirm", "message", "popconfirm"], dT = {
  alert: {
    showFooter: !0,
    type: "alert"
  },
  confirm: {
    showFooter: !0,
    status: "question",
    type: "confirm"
  },
  message: {
    mask: !1,
    lockView: !1,
    showHeader: !1,
    showClose: !1,
    type: "message"
  },
  popconfirm: {}
};
sT.forEach(function(e) {
  Me[e] = mn[e] = function(t, n, r) {
    var o = {};
    return typeof t == "object" && t !== null ? o = t : n && (o = {
      title: n
    }), t == null && (t = ""), aT(Mr({
      message: t.toString()
    }, dT[e], o, r, {
      componentType: e
    }));
  };
});
Me.installed = !1;
fa.TINYModal = {
  install: function(t) {
    var n;
    if (!Me.installed) {
      var r = !!t.component, o = r ? t.prototype.tiny_mode : t.config.globalProperties.tiny_mode, i = r ? t.prototype.tiny_theme : t.config.globalProperties.tiny_theme, l = typeof process == "object" ? (n = process.env) == null ? void 0 : n.TINY_MODE : null;
      Me.tiny_mode = l || o && o.value, Me.tiny_theme = i && i.value, Me.installed = !0;
    }
  },
  init: function(t) {
    var n = t.$TinyModalApiPrefix || t.$apiPrefix || "$";
    t[n + "alert"] = mn.alert, t[n + "message"] = mn.message, t[n + "confirm"] = mn.confirm, t[n + "popconfirm"] = mn.popconfirm;
  }
};
Me.install = function(e) {
  e.component(Me.name, Me);
};
const uT = ({ props: e, state: t }) => () => {
  const n = e.pagerCount, r = (n - 1) / 2, o = Number(e.currentPage), i = Number(e.pageCount);
  let l = !1, a = !1;
  i > n && (o < i - r && (a = !0), o > n - r && (l = !0));
  const s = [];
  if (l && !a) {
    const d = i - (n - 2);
    for (let u = d; u < i; u++)
      s.push(u);
  } else if (!l && a)
    for (let d = 2; d < n; d++)
      s.push(d);
  else if (l && a) {
    const d = Math.floor(n / 2) - 1;
    for (let u = o - d; u <= o + d; u++)
      s.push(u);
  } else
    for (let d = 2; d < i; d++)
      s.push(d);
  return t.showPrevMore = l, t.showNextMore = a, s;
}, cT = ({ emit: e, props: t, vm: n }) => (r) => {
  const o = r.target;
  if (o.tagName === "UL" || t.disabled)
    return;
  let i = Number(r.target.textContent);
  const { tagName: l, parentNode: a } = o, s = l === "LI" ? o : l === "svg" ? a : a.parentNode, d = t.pageCount, u = t.currentPage, c = t.pagerCount - 2;
  s === n.$refs.prev ? i = u - c : s === n.$refs.next && (i = u + c), isNaN(i) || (i < 1 && (i = 1), i > d && (i = d));
  const f = () => {
    i !== u && e("change", i);
  };
  if (t.isBeforePageChange && i !== u) {
    let h = { newPage: i, currentPage: u, callback: f };
    n.$parent.$parent.beforePagerChangeHandler(h);
  } else
    f();
}, fT = ({ props: e, state: t }) => (n) => {
  e.disabled || (n === "left" ? t.quickprevIconClass = e.doubleLeftIcon : t.quicknextIconClass = e.doubleRightIcon);
}, hT = ["state", "onPagerClick", "onMouseenter"], pT = (e, { computed: t, reactive: n, watch: r }, { emit: o, vm: i }) => {
  const l = {
    onPagerClick: cT({ emit: o, props: e, vm: i })
  }, a = n({
    current: null,
    showPrevMore: !1,
    showNextMore: !1,
    quicknextIconClass: e.popupIcon,
    quickprevIconClass: e.popupIcon,
    pagers: t(() => l.getPages())
  });
  return Object.assign(l, {
    state: a,
    getPages: uT({ props: e, state: a }),
    onMouseenter: fT({ props: e, state: a })
  }), r(
    () => a.showPrevMore,
    (s) => {
      s || (a.quickprevIconClass = e.popupIcon);
    },
    { immediate: !0 }
  ), r(
    () => a.showNextMore,
    (s) => {
      s || (a.quicknextIconClass = e.popupIcon);
    },
    { immediate: !0 }
  ), l;
};
function vT(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = gT(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function gT(e, t) {
  if (e) {
    if (typeof e == "string") return sl(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? sl(e, t) : void 0;
  }
}
function sl(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var mT = function(t, n) {
  for (var r = t.__vccOpts || t, o = vT(n), i; !(i = o()).done; ) {
    var l = i.value, a = l[0], s = l[1];
    r[a] = s;
  }
  return r;
}, yT = U({
  name: te + "PagerItem",
  emits: ["click", "change"],
  components: {
    IconPopup: _r(),
    IconDoubleLeft: ko(),
    IconDoubleRight: To()
  },
  props: {
    disabled: {
      type: Boolean,
      default: !1
    },
    currentPage: Number,
    pageCount: Number,
    pagerCount: Number,
    popupIcon: {
      type: Object,
      default: function() {
        return _r();
      }
    },
    doubleLeftIcon: {
      type: Object,
      default: function() {
        return ko();
      }
    },
    doubleRightIcon: {
      type: Object,
      default: function() {
        return To();
      }
    },
    isBeforePageChange: Boolean
  },
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: pT,
      api: hT
    });
  }
}), bT = {
  class: "tiny-pager__group tiny-unselect"
}, CT = ["textContent"], wT = ["textContent"];
function ST(e, t, n, r, o, i) {
  return C(), k("div", bT, [T("ul", {
    class: "tiny-pager__pages",
    onClick: t[4] || (t[4] = function() {
      return e.onPagerClick && e.onPagerClick.apply(e, arguments);
    })
  }, [e.pageCount > 0 ? (C(), k(
    "li",
    {
      key: 0,
      class: W({
        "is-active": e.currentPage === 1
      }),
      textContent: "1"
    },
    null,
    2
    /* CLASS */
  )) : P("v-if", !0), e.state.showPrevMore ? (C(), k(
    "li",
    {
      key: 1,
      ref: "prev",
      class: W(["dot quickprev", [e.state.quickprevIconClass === e.popupIcon && "is-popup"]]),
      onMouseenter: t[0] || (t[0] = function(l) {
        return e.onMouseenter("left");
      }),
      onMouseleave: t[1] || (t[1] = function(l) {
        return e.state.quickprevIconClass = e.popupIcon;
      })
    },
    [(C(), z(Te(e.state.quickprevIconClass)))],
    34
    /* CLASS, NEED_HYDRATION */
  )) : P("v-if", !0), (C(!0), k(
    ie,
    null,
    $e(e.state.pagers, function(l) {
      return C(), k("li", {
        key: l,
        class: W({
          "is-active": e.currentPage === l
        }),
        textContent: j("" + l)
      }, null, 10, CT);
    }),
    128
    /* KEYED_FRAGMENT */
  )), e.state.showNextMore ? (C(), k(
    "li",
    {
      key: 2,
      ref: "next",
      class: W(["dot quicknext", [e.state.quicknextIconClass === e.popupIcon && "is-popup"]]),
      onMouseenter: t[2] || (t[2] = function(l) {
        return e.onMouseenter("right");
      }),
      onMouseleave: t[3] || (t[3] = function(l) {
        return e.state.quicknextIconClass = e.popupIcon;
      })
    },
    [(C(), z(Te(e.state.quicknextIconClass)))],
    34
    /* CLASS, NEED_HYDRATION */
  )) : P("v-if", !0), e.pageCount > 1 ? (C(), k("li", {
    key: 3,
    class: W({
      "is-active": e.pageCount === e.currentPage
    }),
    textContent: j("" + e.pageCount)
  }, null, 10, wT)) : P("v-if", !0)])]);
}
var uo = /* @__PURE__ */ mT(yT, [["render", ST]]);
function Bo() {
  return Bo = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, Bo.apply(null, arguments);
}
var $T = function(t) {
  var n, r = typeof process == "object" ? (n = process.env) == null ? void 0 : n.TINY_MODE : null;
  return uo;
}, Wn = U({
  name: te + "PagerItem",
  props: Bo({}, le, {
    disabled: {
      type: Boolean,
      default: !1
    },
    currentPage: Number,
    pageCount: Number,
    pagerCount: Number,
    popupIcon: {
      type: Object,
      default: _r
    },
    doubleLeftIcon: {
      type: Object,
      default: ko
    },
    doubleRightIcon: {
      type: Object,
      default: To
    },
    isBeforePageChange: Boolean
  }),
  setup: function(t, n) {
    return Ie({
      props: t,
      context: n,
      template: $T
    });
  }
}), kT = "3.undefined";
Wn.install = function(e) {
  e.component(Wn.name, Wn);
};
Wn.version = kT;
const TT = ({ api: e, nextTick: t, state: n }) => (r) => {
  const o = r.target.value;
  if (r.type === "compositionend") {
    n.isOnComposition = !1;
    const i = !1, l = !0;
    t(() => e.handleQueryChange(o, i, l));
  } else {
    const i = o[o.length - 1] || "";
    n.isOnComposition = !aa(i);
  }
}, _T = ({ props: e, state: t, vm: n }) => (r) => {
  if (!e.showOverflowTooltip)
    return;
  let o;
  if (!r)
    clearTimeout(t.tipTimer), t.tipTimer = setTimeout(() => {
      t.showTip = t.tipHover;
    }, n.$refs.popover.closeDelay);
  else {
    if (e.multiple)
      o = n.$refs.tags.scrollHeight > n.$refs.tags.getBoundingClientRect().height;
    else {
      const i = n.$refs.reference.$el;
      o = i.querySelector("input").scrollWidth > i.scrollWidth;
    }
    t.showTip = r && o && !!t.tips && !t.visible;
  }
}, IT = ({ props: e, state: t, constants: n, api: r, nextTick: o }) => (i, l) => {
  e.remote && (typeof e.remoteMethod == "function" || typeof e.initQuery == "function") ? (t.hoverIndex = -1, e.remoteMethod && e.remoteMethod(i, e.extraQueryParams)) : typeof e.filterMethod == "function" ? (e.filterMethod(i), t.selectEmitter.emit(n.COMPONENT_NAME.OptionGroup, n.EVENT_NAME.queryChange)) : r.queryChange(i, l), Es(o, t, e), r.getOptionIndexArr(), t.magicKey = t.magicKey > 0 ? -1 : 1;
}, ET = ({ props: e, state: t, constants: n }) => (r, o) => {
  if (e.optimization && o) {
    const i = t.initDatas.filter((l) => new RegExp(za(r), "i").test(l.label));
    t.datas = i;
  } else
    t.selectEmitter.emit(n.EVENT_NAME.queryChange, r);
}, Es = (e, t, n) => {
  e(() => {
    if (n.multiple && n.showAlloption && n.filterable && t.query && !n.remote) {
      const r = t.options.filter((i) => i.state.visible && i.state.itemSelected).map((i) => i.value), o = t.options.filter((i) => i.state.visible);
      r.length === o.length ? t.filteredSelectCls = "checked-sur" : r.length === 0 ? t.filteredSelectCls = "check" : t.filteredSelectCls = "halfselect";
    }
  });
}, OT = ({ api: e, constants: t, nextTick: n, props: r, vm: o, state: i }) => (l, a = !1, s = !1) => {
  if (!(i.previousQuery === l && !a || i.isOnComposition)) {
    if (i.previousQuery === null && !a && (typeof r.filterMethod == "function" || typeof r.remoteMethod == "function" || typeof r.initQuery == "function")) {
      i.previousQuery = l;
      return;
    }
    i.query = l, i.previousQuery = l, window.requestAnimationFrame(() => {
      i.visible && (i.selectEmitter.emit(t.EVENT_NAME.updatePopper), i.showWarper = !0);
    }), i.hoverIndex = -1, r.multiple && r.filterable && !r.shape && n(() => {
      const d = o.$refs.input.value.length * 15 + 20;
      i.inputLength = i.collapseTags ? Math.min(50, d) : d, e.managePlaceholder(), e.resetInputHeight();
    }), i.triggerSearch = !0, e.defaultOnQueryChange(l, s);
  }
}, MT = ({ vm: e, constants: t }) => (n) => {
  const r = Array.isArray(n) && n[0] && n[0].state ? n[0].state.el : n.state ? n.state.el : "";
  if (e.$refs.popper && r) {
    const o = e.$refs.popper.$el.querySelector(t.CLASS.SelectDropdownWrap);
    setTimeout(() => la(o, r));
  }
  e.$refs.scrollbar && e.$refs.scrollbar.handleScroll();
}, xT = ({ api: e, nextTick: t, state: n, props: r }) => () => {
  r.optimization || t(() => e.scrollToOption(n.selected));
}, DT = ({ emit: e, props: t, state: n, constants: r }) => (o, i) => {
  n.device === "mb" && t.multiple && !i || ir(t.modelValue, n.compareValue) || e("change", o);
}, AT = ({ emit: e, props: t, state: n }) => (r, o) => {
  n.device === "mb" && t.multiple || e("change", r, o);
}, LT = ({ props: e, state: t, api: n }) => (r) => {
  let o;
  const i = Object.prototype.toString.call(r).toLowerCase() === "[object object]", l = Object.prototype.toString.call(r).toLowerCase() === "[object null]", a = Object.prototype.toString.call(r).toLowerCase() === "[object undefined]";
  if (t.cachedOptions.length !== 0) {
    for (let u = t.cachedOptions.length - 1; u >= 0; u--) {
      const c = t.cachedOptions[u];
      if (i ? xe(c.value, e.valueKey) === xe(r, e.valueKey) : c.value === r) {
        o = c;
        break;
      }
    }
    if (o)
      return o;
  } else if (!lr(t.selected))
    return t.selected;
  if (e.optimization) {
    if (o = n.getSelectedOption(r), o)
      return { value: o.value, currentLabel: o.label || o.currentLabel };
    if (o = t.datas.find((u) => xe(u, e.valueKey) === r), o)
      return { value: o.value, currentLabel: o.label || o.currentLabel };
  }
  const s = !i && !l && !a && !e.clearNoMatchValue ? r : "";
  let d = { value: r, currentLabel: s };
  return e.multiple && (d.hitState = !1), d;
}, RT = ({ props: e, state: t }) => (n) => {
  let r;
  return e.multiple ? r = t.selected.find((o) => xe(o, e.valueKey) === n) : !lr(t.selected) && xe(t.selected, e.valueKey) === n && (r = t.selected), r;
}, VT = ({ api: e, props: t }) => {
  const n = e.getOption(t.modelValue) || {};
  return n.state || (n.state = {}), n.created ? (n.createdLabel = n.state.currentLabel, n.createdSelected = !0) : n.createdSelected = !1, n.state.currentLabel || e.clearNoMatchValue(""), n;
}, NT = ({ state: e, api: t, props: n }) => {
  let r = [];
  const o = [];
  return Array.isArray(e.modelValue) && e.modelValue.forEach((i) => {
    const l = t.getOption(i);
    (!n.clearNoMatchValue || n.clearNoMatchValue && l.label) && (r.push(l), o.push(i));
  }), t.clearNoMatchValue(o), r;
}, PT = ({ api: e, nextTick: t, props: n, vm: r, state: o }) => () => {
  if (n.multiple) {
    const i = NT({ state: o, props: n, api: e });
    o.selectCls = i.length ? i.length === o.options.length ? "checked-sur" : "halfselect" : "check", r.$slots.panel || (o.selected = i), o.selected.length && (o.selectedLabel = ""), o.tips = o.selected.map((l) => l.state ? l.state.currentLabel : l.currentLabel).join(","), Es(t, o, n), t(e.resetInputHeight);
  } else {
    const i = VT({ api: e, props: n });
    o.selected = i, o.selectedLabel = i.state.currentLabel || i.currentLabel, n.filterable && !n.shape && (o.query = o.selectedLabel);
  }
}, FT = ({ props: e, state: t }) => (n) => {
  const r = e.filterable && e.remote && (typeof e.remoteMethod == "function" || typeof e.initQuery == "function"), { textField: o, valueField: i } = e, l = r ? t.remoteData : t.gridData, a = cn(l, (d) => d[i] === n), s = [];
  return a && (a.currentLabel = a[o], s.push(a)), s;
}, zT = ({ api: e, state: t }) => (n) => {
  let r = [];
  const o = t.options.filter((a) => !a.state.disabled && !a.state.groupDisabled && !a.required && a.state.visible).map((a) => a.value);
  n ? t.filteredSelectCls === "check" || t.filteredSelectCls === "halfselect" ? r = [.../* @__PURE__ */ new Set([...t.modelValue, ...o])] : r = t.modelValue.filter((a) => !o.includes(a)) : t.selectCls === "check" ? r = o : t.selectCls === "halfselect" ? t.options.filter((s) => !s.state.disabled && s.state.selectCls === "check").length ? r = o : r = [] : t.selectCls === "checked-sur" && (r = []);
  const i = t.options.filter((a) => a.required).map((a) => a.value), l = t.options.filter((a) => (a.state.disabled || a.state.groupDisabled) && a.state.selectCls === "checked-sur").map((a) => a.value);
  r = [...r, ...i, ...l], e.setSoftFocus(), t.isSilentBlur = !0, e.updateModelValue(r), e.directEmitChange(r);
}, HT = ({ emit: e, props: t, state: n }) => (r) => {
  n.softFocus ? (n.searchSingleCopy && n.selectedLabel && e("focus", r), n.softFocus = !1) : ((t.automaticDropdown || t.filterable) && (n.visible = !0, n.softFocus = !0), e("focus", r));
}, BT = ({ vm: e, state: t }) => () => {
  t.softFocus || e.$refs.reference.focus();
}, jT = ({ vm: e, state: t }) => () => {
  t.visible = !1, e.$refs.reference.blur();
}, WT = ({ constants: e, dispatch: t, emit: n, state: r, designConfig: o }) => (i) => {
  var l;
  clearTimeout(r.timer), r.timer = setTimeout(() => {
    var a;
    r.isSilentBlur ? r.isSilentBlur = !1 : n("blur", i), (a = o == null ? void 0 : o.state) != null && a.delayBlur && t(e.COMPONENT_NAME.FormItem, e.EVENT_NAME.formBlur, i.target.value);
  }, 200), (l = o == null ? void 0 : o.state) != null && l.delayBlur || t(e.COMPONENT_NAME.FormItem, e.EVENT_NAME.formBlur, i.target.value), r.softFocus = !1;
}, KT = (e) => (t) => {
  e.deleteSelected(t);
}, qT = (e) => () => {
  var t;
  (t = e == null ? void 0 : e.$refs) != null && t.popper && e.$refs.popper.doDestroy();
}, GT = (e) => () => {
  e.visible = !1;
}, UT = ({ state: e }) => (t) => {
  if (!Array.isArray(e.selected))
    return;
  const n = e.selected[e.selected.length - 1];
  if (!n)
    return;
  if (n.required)
    return !0;
  const r = n.state || n;
  return t === !0 || t === !1 ? (r.hitState = t, t) : (r.hitState = !r.hitState, r.hitState);
}, ZT = ({ api: e, state: t }) => (n) => {
  if (n.target.value.length <= 0 && !e.toggleLastOptionHitState()) {
    const r = t.modelValue.slice();
    r.pop(), t.compareValue = ht(r), e.updateModelValue(r), e.emitChange(r);
  }
}, YT = ({ vm: e, state: t }) => () => {
  t.currentPlaceholder !== "" && (t.currentPlaceholder = e.$refs.input.value ? "" : t.cachedPlaceHolder);
}, XT = ({ api: e, vm: t, state: n }) => (r) => {
  r.keyCode !== 8 && e.toggleLastOptionHitState(!1), n.inputLength = t.$refs.input.value.length * 15 + 20, e.resetInputHeight();
}, QT = ({ constants: e, nextTick: t, props: n, vm: r, state: o, api: i, designConfig: l }) => () => {
  o.collapseTags && !n.filterable || t(() => {
    var a, s;
    if (!r.$refs.reference)
      return;
    let d = r.$refs.reference.type === "text" && r.$refs.reference.$el.querySelector("input");
    const u = r.$refs.tags, c = r.$refs.reference.$el.querySelector("span.tiny-select__limit-txt");
    if (!d)
      return;
    !o.isDisplayOnly && (n.hoverExpand || n.clickExpand) && !n.disabled && i.calcCollapseTags();
    const f = (l == null ? void 0 : l.state.initialInputHeight) || o.initialInputHeight || 32, h = o.selected.length === 0, p = (s = (a = l == null ? void 0 : l.state) == null ? void 0 : a.spacingHeight) != null ? s : e.SPACING_HEIGHT;
    if (o.isDisplayOnly ? d.style.height = "auto" : !h && u ? Rt.measure(() => {
      const v = u.clientHeight;
      Rt.mutate(() => {
        d.style.height = Math.max(v + p, f) + "px";
      });
    }) : d.style.height = h ? f + "px" : Math.max(0, f) + "px", c && n.multipleLimit) {
      const { width: v, marginLeft: g, marginRight: m } = getComputedStyle(c);
      r.$refs.tags.style.paddingRight = `${Math.ceil(
        parseFloat(v) + parseFloat(g) + parseFloat(m)
      )}px`;
    }
    o.visible && o.emptyText !== !1 && o.selectEmitter.emit(e.EVENT_NAME.updatePopper, !0);
  });
}, JT = ({ props: e, state: t }) => () => {
  e.showOverflowTooltip ? e.multiple ? t.selected.length > 0 ? t.hoverIndex = Math.min.apply(
    null,
    t.selected.map((n) => t.options.indexOf(n))
  ) : t.hoverIndex = -1 : t.hoverIndex = t.options.indexOf(t.selected) : t.hoverIndex = -1;
}, e4 = ({ props: e, state: t }) => () => {
  e.optimization && !e.remote && !e.filterMethod && (t.datas = t.initDatas);
}, t4 = ({ api: e, nextTick: t, props: n, vm: r, state: o }) => (i, l) => {
  if (o.memorize && o.memorize.updateByKey(i[o.memorize._dataKey] || i.value), n.multiple) {
    const a = (o.modelValue || []).slice(), s = e.getValueIndex(a, i.value);
    s > -1 ? a.splice(s, 1) : (o.multipleLimit <= 0 || a.length < o.multipleLimit) && a.push(i.value), o.compareValue = ht(a), e.updateModelValue(a), e.emitChange(a), i.created && (o.query = "", e.handleQueryChange("", !1, !0), o.inputLength = 20), n.filterable && r.$refs.input.focus(), n.autoClose && (o.visible = !1);
  } else
    o.compareValue = ht(i.value), e.updateModelValue(i.value), e.emitChange(i.value), i.created && (o.createdSelected = !0, o.createdLabel = i.value), o.visible = !1;
  o.isSilentBlur = l, e.setSoftFocus(), !o.visible && t(() => {
    e.scrollToOption(i);
  });
}, n4 = ({ state: e }) => (t) => {
  !e.initValue.find((r) => r === t.value) && e.initValue.push(t.value);
}, r4 = ({ vm: e, state: t }) => () => {
  t.softFocus = !0;
  const n = e.$refs.input || e.$refs.reference;
  n && n.focus(), t.softFocus = !1;
}, o4 = (e) => (t = [], n = null) => {
  if (Object.prototype.toString.call(n).toLowerCase() === "[object object]") {
    const o = e.valueKey;
    let i = -1;
    return t.some((l, a) => xe(l, o) === xe(n, o) ? (i = a, !0) : !1), i;
  } else
    return t.indexOf(n);
}, i4 = ({ vm: e, state: t, props: n, api: r }) => (o) => {
  if (n.keepFocus && t.visible && n.filterable)
    return;
  const i = o || window.event, l = 13, a = i.target && i.target.nodeName, s = n.ignoreEnter ? i.keyCode !== l && a === "INPUT" : !0;
  if (n.displayOnly || i.stopPropagation(), !t.selectDisabled && (s && !t.softFocus && (t.visible = !t.visible), t.softFocus = !1, t.visible && !(n.filterable && n.shape))) {
    const d = e.$refs.input || e.$refs.reference;
    d != null && d.focus && d.focus(), r.setOptionHighlight();
  }
}, l4 = ({ api: e, state: t, props: n }) => (r) => {
  if (!t.visible || n.hideDrop)
    e.toggleMenu(r);
  else {
    let o = "";
    t.query || n.remote ? o = t.options.find((i) => i.state.index === t.hoverValue) : o = t.options[t.hoverIndex], o && e.handleOptionSelect(o);
  }
}, a4 = ({ api: e, emit: t, props: n, state: r }) => (o) => {
  o && o.stopPropagation();
  let i = [];
  if (n.multiple) {
    const a = r.options.filter((s) => s.required && s.value);
    i = r.modelValue.slice().filter((s) => a.find((d) => d.value === s));
  }
  const l = n.multiple ? i : "";
  r.showTip = !1, r.compareValue = ht(l), e.updateModelValue(l, !0), e.emitChange(l, !0), r.visible = !1, t("clear");
}, s4 = ({ api: e, constants: t, emit: n, props: r, state: o, nextTick: i, vm: l }) => (a, s) => {
  if (s.required)
    return;
  const d = o.selected.indexOf(s);
  if (d > -1 && !o.selectDisabled) {
    const u = o.modelValue.slice();
    u.splice(d, 1), o.compareValue = ht(u), e.updateModelValue(u), e.emitChange(u), n(t.EVENT_NAME.removeTag, s[r.valueField]), i(() => o.key++);
  }
  a && a.stopPropagation();
}, d4 = ({ api: e, props: t, state: n, constants: r, nextTick: o }) => () => {
  t.delay ? e.debouncRquest() : t.filterable && n.query !== n.selectedLabel && (n.query = n.selectedLabel, e.handleQueryChange(n.query, !1, !0), o(() => {
    n.selectEmitter.emit(r.EVENT_NAME.updatePopper);
  })), o(() => {
    n.selectEmitter.emit(r.EVENT_NAME.updatePopper);
  });
}, u4 = (e) => (t) => {
  t > -1 && (e.optionsCount--, e.filteredOptionsCount--, e.options.splice(t, 1));
}, c4 = ({ vm: e, state: t }) => () => {
  e.$refs.reference && e.$refs.reference.$el && (t.inputWidth = e.$refs.reference.$el.getBoundingClientRect().width);
}, f4 = ({ api: e, props: t, state: n }) => () => {
  e.resetInputWidth(), t.multiple && !n.isDisplayOnly && e.resetInputHeight();
}, h4 = (e) => () => {
  for (let t = 0; t < e.options.length; ++t) {
    const n = e.options[t];
    if (!n.disabled && !n.groupDisabled && !n.state.created && n.state.visible && n.state.itemSelected) {
      e.hoverIndex = t;
      break;
    }
  }
}, p4 = (e) => () => {
  e.hoverIndex = -1;
  let t = !1;
  const n = e.options.filter((r) => r.visible && r.state.visible);
  for (let r = n.length - 1; r >= 0; r--)
    if (n[r].created) {
      t = !0, e.hoverIndex = r, e.hoverValue = e.optionIndexArr[r];
      break;
    }
  if (!t)
    for (let r = 0; r < n.length; r++) {
      const o = n[r];
      if (e.query) {
        if (!o.disabled && !o.groupDisabled && o.state.visible && o.visible) {
          e.hoverIndex = r, e.hoverValue = e.optionIndexArr[r];
          break;
        }
      } else if (o.itemSelected) {
        e.hoverIndex = r, e.hoverValue = e.optionIndexArr[r];
        break;
      }
    }
}, v4 = (e) => (t) => {
  if (t)
    return Object.prototype.toString.call(t.value).toLowerCase() !== "[object object]" ? t.value || t[e.valueField] : xe(t.value, e.valueKey);
}, g4 = ({ api: e, state: t, props: n, nextTick: r }) => (o) => {
  const { optimization: i } = n;
  if (i)
    return;
  const l = t.options.filter((a) => a.visible && a.state.visible).length;
  if (!t.visible) {
    t.visible = !0;
    return;
  }
  if (!(l === 0 || t.filteredOptionsCount === 0) && (t.disabledOptionHover = !0, setTimeout(() => {
    t.disabledOptionHover = !1;
  }, 100), (t.hoverIndex < -1 || t.hoverIndex >= l) && (t.hoverIndex = 0), !t.optionsAllDisabled)) {
    o === "next" ? (t.hoverIndex++, t.hoverIndex === l && (t.hoverIndex = 0)) : o === "prev" && (t.hoverIndex--, t.hoverIndex < 0 && (t.hoverIndex = l - 1));
    let a = {};
    t.hoverValue = t.optionIndexArr[t.hoverIndex], t.query || n.remote ? a = t.options.find((s) => s.state.index === t.hoverValue) : a = t.options[t.hoverIndex], (a.disabled === !0 || a.groupDisabled === !0 || !a.state.visible || a.state.limitReached) && e.navigateOptions(o), r(() => e.scrollToOption(t.hoverIndex === -9 ? {} : a || {}));
  }
}, m4 = ({ props: e, state: t }) => () => e.optimization ? e.allowCreate ? t.query === "" && t.datas.length === 0 : t.datas.length === 0 : t.options.length === 0, y4 = ({ state: e, props: t, recycle: n }) => () => {
  const { ITEM_HEIGHT: r, SAFE_MARGIN: o, SAAS_HEIGHT: i, AURORA_HEIGHT: l } = n;
  let a = e.datas.length;
  return e.showNewOption && (a += 1), a === 0 || t.loading ? 0 : a < 6 ? a * r + (e.isSaaSTheme ? o * 2 : 0) : e.isSaaSTheme ? i : l;
}, b4 = ({ I18N: e, props: t, state: n, t: r, isMobileFirstMode: o }) => () => t.loading ? t.loadingText || r(e.loading) : t.remote && n.query === "" && t.renderType ? C4(t, n) : t.remote && n.query === "" && n.emptyFlag && !n.triggerSearch ? t.shape === "filter" || o ? "" : !1 : t.filterable && n.query && (t.remote && n.emptyFlag || !n.options.some((i) => i.visible && i.state.visible)) ? t.noMatchText || r(e.noMatch) : n.emptyFlag ? t.noDataText || r(e.noData) : null, C4 = function(e, t) {
  return e.multiple ? t.selected.length > 0 || t.remoteData.length >= 0 : t.selected[e.valueField] || t.remoteData.length >= 0;
}, w4 = ({ api: e, constants: t, dispatch: n, props: r, vm: o, state: i }) => (l, a) => {
  r.multiple && (e.resetInputHeight(), l && l.length > 0 || o.$refs.input && i.query !== "" ? i.currentPlaceholder = "" : i.currentPlaceholder = i.cachedPlaceHolder, r.filterable && !r.reserveKeyword && !r.searchable && (i.query = "")), e.setSelected(), !i.isClickChoose && e.initQuery({ init: !0 }).then(() => e.setSelected()), i.isClickChoose = !1, r.filterable && !r.multiple && (i.inputLength = 20), i.completed && !ir(l, a) && n(t.COMPONENT_NAME.FormItem, t.EVENT_NAME.formChange, l), r.optimization && Gt.setValueIndex({ props: r, state: i });
}, S4 = ({ vm: e, props: t, state: n }) => (r) => {
  if (t.multiple && t.showOverflowTooltip) {
    n.overflow = !1;
    const o = e.$refs.tags, i = o.querySelectorAll('[data-tag="tiny-tag"]');
    if (i.length) {
      o.scrollTo && o.scrollTo({ top: 0 });
      let { x: s, width: d } = i[0].getBoundingClientRect();
      if (d >= o.getBoundingClientRect().width)
        n.overflow = 0;
      else
        for (let u = 1; u < i.length; u++)
          if (i[u].getBoundingClientRect().x === s) {
            n.overflow = u - 1;
            break;
          }
    }
    e.$refs.select.style.height = e.$refs.select.style.height || r, e.$refs.reference.$el.style.position = "absolute";
    const l = e.$refs.select.getBoundingClientRect().width, a = n.visible ? "absolute" : "";
    n.selectFiexd = {
      height: r,
      position: a,
      width: l + "px",
      zIndex: Ut.nextZIndex()
    }, n.inputWidth = l;
  }
}, $4 = ({ props: e, state: t, constants: n }) => {
  e.multiple || t.selected && (e.filterable && e.allowCreate && t.createdSelected && t.createdLabel ? t.selectedLabel = t.createdLabel : t.selectedLabel = t.selected.state.currentLabel || t.selected.currentLabel, e.filterable && (t.query = t.selectedLabel), e.filterable && (t.currentPlaceholder = t.cachedPlaceHolder));
}, k4 = ({ constants: e, state: t, props: n, vm: r, api: o, nextTick: i }) => () => {
  t.selectEmitter.emit(e.EVENT_NAME.destroyPopper), n.remote && n.dropOnlySearch && (t.showWarper = !1), r.$refs.input && r.$refs.input.blur(), t.query = "", t.selectedLabel = "", t.inputLength = 20, t.previousQuery !== t.query && o.initQuery().then(() => o.setSelected()), t.previousQuery = null, o.resetHoverIndex(), o.resetDatas(), i(() => {
    r.$refs.input && r.$refs.input.value === "" && t.selected.length === 0 && (t.currentPlaceholder = t.cachedPlaceHolder);
  }), $4({ props: n, state: t, constants: e });
}, T4 = ({ constants: e, state: t, props: n, vm: r, api: o }) => () => {
  const { filterable: i, remote: l, remoteConfig: a, shape: s, multiple: d, valueField: u } = n;
  if (t.selectEmitter.emit(e.COMPONENT_NAME.SelectDropdown, e.EVENT_NAME.updatePopper), i) {
    t.query = l || s ? "" : t.selectedLabel;
    const c = l && a.autoSearch && (t.firstAutoSearch || a.clearData);
    t.firstAutoSearch = !1, o.handleQueryChange(t.query, c), d ? r.$refs.input.focus() : (l || (t.selectEmitter.emit(e.EVENT_NAME.queryChange, ""), t.selectEmitter.emit(e.COMPONENT_NAME.OptionGroup, e.EVENT_NAME.queryChange)), t.selectedLabel && !s && (t.currentPlaceholder = t.selectedLabel, t.selectedLabel = ""));
  }
}, _4 = ({ api: e, constants: t, emit: n, state: r, vm: o, props: i }) => (l) => {
  (i.filterable || i.remote) && !l && o.$refs.reference.blur(), !e.onCopying() && (l && i.multiple && r.device === "mb" && (r.selectedCopy = r.selected.slice()), setTimeout(() => {
    !l && !r.selectedLabel && r.cachedOptions.forEach((a) => {
      a.state.visible = !0;
    });
  }, 200), l ? e.toHide() : e.toVisible(), n(t.EVENT_NAME.visibleChange, l), setTimeout(() => {
    r.selectEmitter.emit(t.EVENT_NAME.updatePopper), l && o.$refs.scrollbar && (i.optimization ? (Gt.setScrollTop({ refs: o.$refs, state: r }), o.$refs.scrollbar.updateVisibleItems(!0, !0)) : o.$refs.scrollbar.handleScroll());
  }, i.updateDelay), !l && i.shape === "filter" && (r.softFocus = !1));
}, I4 = ({ api: e, constants: t, nextTick: n, parent: r, props: o, state: i }) => () => {
  typeof window > "u" || (n(() => {
    i.selectEmitter.emit(t.EVENT_NAME.updatePopper);
  }), o.multiple && e.resetInputHeight(), n(() => {
    r.$el.querySelector("input") !== document.activeElement && e.setSelected();
  }), e.getOptionIndexArr());
}, E4 = ({ props: e, state: t, api: n }) => () => {
  setTimeout(() => {
    t.optionIndexArr = n.queryVisibleOptions().map((r) => Number(r.getAttribute("data-index"))), e.defaultFirstOption && (e.filterable || e.remote) && t.filteredOptionsCount && (e.optimization ? Gt.checkDefaultFirstOption({ state: t }) : n.checkDefaultFirstOption());
  });
}, O4 = ({ props: e, vm: t, isMobileFirstMode: n }) => () => e.optimization ? Gt.queryVisibleOptions(t, n) : t.$refs.scrollbar ? Array.from(t.$refs.scrollbar.$el.querySelectorAll('[data-index]:not([style*="display: none"])')) : [], M4 = ({ parent: e, props: t, state: n }) => () => {
  const r = document.createElement("input");
  r.style.height = 0, r.style.border = "none", r.style.position = "absolute", e.$el.appendChild(r), r.value = n.selected.map((o) => o.state ? o.state.currentLabel : o.currentLabel).join(t.textSplit), r.select(), document.execCommand("copy"), e.$el.removeChild(r);
}, x4 = ({ api: e, state: t, props: n }) => Ve(n.delay, () => {
  n.filterable && t.query !== t.selectedLabel && (t.query = t.selectedLabel, e.handleQueryChange(t.query, !1, !0));
}), D4 = () => (e, t) => {
  const n = [], r = (o) => {
    o.forEach((i) => {
      n.push(i.data[t]), i.childNodes.length > 0 && r(i.childNodes);
    });
  };
  return r(e), n;
}, A4 = ({ constants: e, parent: t, props: n, state: r }) => () => {
  const o = {
    dataset: n.options || n.dataset,
    service: t.$service
  };
  or(o).then((i) => {
    let l = i.slice();
    if (n.multiple) {
      const a = [];
      l = l.filter((s) => s.required ? (a.push(s), !1) : !0), l = a.concat(l);
    }
    n.cacheOp && n.cacheOp.key ? (r.memorize = new ia(n.cacheOp), r.datas = r.memorize.assemble(l.slice())) : (r.datas = l, r.initDatas = l);
  });
}, L4 = ({ state: e }) => () => {
  e.inputHovering = !0, e.searchSingleCopy && e.selectedLabel && (e.softFocus = !0);
}, R4 = ({ state: e }) => (t) => {
  t.target !== t.currentTarget && (e.inputHovering = !1, e.searchSingleCopy && e.selectedLabel && (e.softFocus = !1));
}, V4 = ({ state: e, vm: t }) => () => e.searchSingleCopy && e.selectedLabel && t.$refs.reference && t.$refs.reference.hasSelection && t.$refs.reference.hasSelection(), N4 = ({ state: e }) => (t) => {
  t === -1 || t === -9 ? e.hoverValue = -1 : e.hoverValue = e.optionIndexArr[t];
}, P4 = ({ vm: e, state: t, props: n, emit: r }) => (o) => {
  n.allowCopy && e.$refs.reference && (e.$refs.reference.$el.querySelector("input").selectionEnd = 0), t.softFocus = !1, r("dropdown-click", o);
}, F4 = ({ state: e }) => (t, n) => {
  const r = t.target;
  r && r.scrollWidth > r.offsetWidth && (e.tooltipContent = Mt(Ue({}, e.tooltipContent), { [n]: r.innerText }));
}, z4 = ({ state: e, vm: t, props: n }) => () => {
  if (e.inputHovering && !n.clickExpand)
    return e.isHidden = !0;
  const r = t.$refs.tags, o = r && r.querySelector('[data-tag="tags-collapse"]');
  if (!o || !r)
    return;
  const { width: i, paddingLeft: l, paddingRight: a } = window.getComputedStyle(r), s = parseFloat(i) - parseFloat(l) - parseFloat(a), { width: d, marginRight: u } = o && window.getComputedStyle(o), c = o && parseFloat(d) + parseFloat(u), f = Array.from(r.querySelectorAll('[data-tag="tiny-tag"]'));
  let [h, p, v, g] = [null, 0, 0, 0];
  for (let m = 0; m < n.maxVisibleRows; m++) {
    v = 0;
    let b = 0;
    for (g; g < f.length; g++) {
      const y = f[g];
      if (y !== o) {
        const { width: S, marginRight: w, marginLeft: _ } = y && window.getComputedStyle(y);
        b = parseFloat(S) + parseFloat(w) + parseFloat(_), v += b;
      }
      if (y !== o && v > s) {
        !h && m === n.maxVisibleRows - 1 && (v - b + c < s ? (h = y, p = g) : (h = f[g - 1], p = g - 1));
        break;
      }
    }
    if (g === f.length - 1)
      break;
  }
  if (p === 0)
    return e.exceedMaxVisibleRow = !1, e.showCollapseTag = !1, e.isHidden = !0;
  h ? (h.before(o), e.isHidden = !1) : e.isHidden = !0, e.collapseTagsLength = f.length - p, e.exceedMaxVisibleRow = !0, e.toHideIndex = p;
}, H4 = ({ vm: e }) => (t) => {
  const [n, r] = t;
  if (!n && !r) {
    const o = e.$refs.tags, i = e.$refs["tags-content"];
    o && i && o.scrollTo({ top: i });
  }
}, B4 = ({ props: e, state: t, constants: n, vm: r }) => ({ init: o } = {}) => {
  const i = e.filterable && e.remote && (typeof e.remoteMethod == "function" || typeof e.initQuery == "function");
  let l;
  if (i && e.initQuery) {
    let a = e.initQuery(e.modelValue, e.extraQueryParams, !!o);
    if (a.then)
      return new Promise((s) => {
        a.then((d) => {
          t.remoteData = d, s(d);
        });
      });
    l = a, t.remoteData = l;
  }
  return Promise.resolve(l);
}, j4 = ({ api: e, parent: t, state: n, props: r, vm: o, designConfig: i }) => () => {
  var l;
  const a = t.$el, s = a.querySelector('input[data-tag="tiny-input-inner"]'), d = s && s.getBoundingClientRect() || {};
  s === document.activeElement && document.activeElement.blur(), n.completed = !0;
  const u = { medium: 40, default: 32, small: 28, mini: 24 }, c = ((l = i == null ? void 0 : i.state) == null ? void 0 : l.sizeMap) || u;
  r.multiple && Array.isArray(r.modelValue) && r.modelValue.length > 0 && (n.currentPlaceholder = ""), n.initialInputHeight = n.isDisplayOnly ? c[n.selectSize || "default"] : d.height || c[n.selectSize], an(a, e.handleResize), o.$refs.tags && an(o.$refs.tags, e.resetInputHeight), r.remote && r.multiple && e.resetInputHeight(), n.inputWidth = d.width, e.initQuery({ init: !0 }).then(() => e.setSelected()), r.dataset && e.watchPropsOption();
}, W4 = ({ api: e, parent: t, vm: n, state: r }) => () => {
  t.$el && e.handleResize && ln(t.$el, e.handleResize), n.$refs.tags && ln(n.$refs.tags, e.resetInputHeight), r.popperElm = null;
}, Gt = {
  exist: (e, t) => t ? Array.isArray(e) && e.length : e,
  getValueIndex: (e) => {
    const { options: t, valueField: n, modelValue: r, multiple: o } = e, i = (s, d) => Array.isArray(d) && ~d.indexOf(s), l = (s, d) => o ? i(d[n], [s]) : d[n] === s;
    let a = 0;
    if (Gt.exist(r, o) && t) {
      const s = o ? r[r.length - 1] : r;
      for (let d = 0; d < t.length; d++)
        if (l(s, t[d]))
          return d;
    }
    return a;
  },
  queryVisibleOptions: (e, t) => {
    const n = t ? ".cursor-not-allowed" : ".is-disabled";
    return Array.from(
      e.$refs.scrollbar.$el.querySelectorAll(
        '.tiny-recycle-scroller__slot, .tiny-recycle-scroller__item-view:not([style*="transform: translateY(-9999px) translateX(0px)"])'
      )
    ).map((r) => r.querySelector(`[data-tag="tiny-option"]:not(${n})`)).filter((r) => r);
  },
  setScrollTop: ({ refs: e, state: t }) => {
    const { optimizeStore: n } = t;
    e.scrollbar.scrollToItem(n.valueIndex);
  },
  setValueIndex: ({ props: e, state: t }) => {
    t.optimizeStore.valueIndex = Gt.getValueIndex(e);
  },
  natural: (e) => e < 0 ? 0 : e,
  checkDefaultFirstOption: ({ state: e }) => {
    e.hoverIndex = 0, e.hoverValue = e.optionIndexArr[0];
  }
}, K4 = ({ props: e, designConfig: t }) => () => {
  const { optimization: n } = e, r = t != null && t.baseOpts ? t.baseOpts : { gt: 20, rSize: 10, optionHeight: 30, limit: 20 };
  let o;
  if (n)
    return typeof n == "boolean" ? o = Ae(!0, {}, r) : o = Ae(!0, {}, r, n), o;
}, q4 = ({ props: e, state: t }) => () => {
  const { optimizeOpts: n, optimizeStore: r } = t;
  n && e.optimization && (r.valueIndex = Gt.getValueIndex(e));
}, G4 = (e) => () => e.collapseTags, U4 = ({ props: e, state: t }) => () => {
  const { multipleLimit: n, multiple: r, optimization: o } = e, { optimizeOpts: i } = t;
  return Gt.natural(r && o ? n || i.limit : n);
}, Z4 = ({ props: e, emit: t, state: n }) => (r, o) => {
  n.isClickChoose = !0, n.device === "mb" && e.multiple && !o ? n.modelValue = r : t("update:modelValue", r);
}, Y4 = ({ props: e, state: t }) => (n) => {
  const r = t.datas, o = n.state ? n.state.currentValue : n.value, i = r.find((a) => a.value === o);
  return Mt(Ue({}, i), {
    label: n.state ? n.state.currentLabel : n.currentLabel,
    value: o
  });
}, X4 = ({ props: e, parent: t, state: n, vm: r }) => () => {
  let i = {
    "max-width": e.disabled || (t.form || {}).disabled || e.displayOnly ? "" : n.inputWidth - n.inputPaddingRight + "px",
    width: "100%"
  };
  if ((e.clickExpand && !n.exceedMaxVisibleRow || n.visible) && Object.assign(i, { height: "auto" }), e.clickExpand && n.exceedMaxVisibleRow && !n.showCollapseTag) {
    const l = r.$refs.tags, { paddingTop: a, paddingBottom: s } = window.getComputedStyle(l), d = parseFloat(a) + parseFloat(s), u = l == null ? void 0 : l.querySelector('[data-tag="tiny-tag"]');
    if (u) {
      const { height: c, marginTop: f, marginBottom: h } = window.getComputedStyle(u), p = (parseFloat(c) + parseFloat(f) + parseFloat(h)) * e.maxVisibleRows;
      Object.assign(i, { height: `${p + d}px` });
    }
  }
  return i;
}, Q4 = ({ props: e, state: t }) => () => t.device === "mb" || e.readonly || !e.filterable || e.multiple || ft.name !== Tr.IE && ft.name !== Tr.Edge && !t.visible, J4 = ({ props: e, state: t }) => () => e.clearable && !t.selectDisabled && (t.inputHovering || e.multiple && t.visible) && (e.multiple ? Array.isArray(e.modelValue) && e.modelValue.length > 0 : !Ke(e.modelValue) && e.modelValue !== ""), e5 = (e) => () => e.selectSize, t5 = ({ props: e, state: t }) => () => {
  const n = t.device === "mb" ? t.queryValue : t.query;
  return e.filterable && e.allowCreate && n && !t.options.filter((r) => !r.created).some((r) => r.state.currentLabel === t.query);
}, n5 = ({ props: e, state: t }) => () => e.multiple && e.copyable && t.inputHovering && t.selected.length, r5 = (e) => () => e.options.filter((t) => t.visible).every((t) => t.disabled), o5 = (e) => () => e.selected.map((t) => t.state ? t.state.currentLabel : t.currentLabel).join("；"), i5 = ({ props: e, parent: t }) => () => e.disabled || (t.form || {}).disabled || e.displayOnly || (t.form || {}).displayOnly, l5 = ({ props: e, state: t }) => () => {
  const n = (t.selectHover || t.visible) && e.hoverExpand && !e.disabled, r = e.clickExpand && t.exceedMaxVisibleRow && t.showCollapseTag;
  return n || r;
}, a5 = ({ props: e, emit: t }) => (n) => {
  if (e.multiple) {
    let r = e.modelValue.slice();
    n.forEach((o) => {
      r = r.filter((i) => i !== o);
    }), t("update:modelValue", n.concat(r));
  }
}, s5 = ({ nextTick: e, state: t, parent: n }) => () => {
  xn || e(() => {
    const o = n.$el.querySelector('input[data-tag="tiny-input-inner"]');
    if (o) {
      const { paddingRight: i } = getComputedStyle(o), l = 16;
      t.inputPaddingRight = parseFloat(i) + l;
    }
  });
}, d5 = ({ state: e }) => () => e.isDisplayOnly, u5 = () => (e) => !e.required, c5 = ({ designConfig: e, props: t }) => () => t.dropdownIcon ? { icon: t.dropdownIcon } : {
  icon: (e == null ? void 0 : e.icons.dropdownIcon) || "icon-delta-down",
  isDefault: !0
}, f5 = ({ designConfig: e, props: t }) => () => {
  var n;
  return (n = e == null ? void 0 : e.props) != null && n.tagType && !t.tagType ? e.props.tagType : t.tagType;
}, h5 = ({ state: e, api: t }) => () => {
  e.query = "", e.previousQuery = void 0, t.handleQueryChange(e.query);
}, p5 = ({ props: e, emit: t }) => (n) => {
  e.clearNoMatchValue && (e.multiple && e.modelValue.length !== n.length || !e.multiple && e.modelValue !== n) && t("update:modelValue", n);
}, v5 = ({ state: e, api: t }) => Ve(e.debounce, (n) => {
  t.handleQueryChange(n);
}), g5 = ({ state: e, props: t, nextTick: n, api: r }) => (o) => {
  o.stopPropagation(), t.clickExpand && !t.disabled && !e.isDisplayOnly && (e.showCollapseTag = !e.showCollapseTag, n(r.resetInputHeight));
}, m5 = ({ state: e }) => (t) => {
  e.selected = t;
}, y5 = ({ state: e }) => () => {
  e.visible = !1;
}, b5 = [
  "state",
  "toggleCheckAll",
  "handleCopyClick",
  "focus",
  "blur",
  "showTip",
  "doDestroy",
  "getOption",
  "emitChange",
  "handleBlur",
  "toggleMenu",
  "getValueKey",
  "handleFocus",
  "handleClose",
  "setSoftFocus",
  "getValueIndex",
  "scrollToOption",
  "resetHoverIndex",
  "onOptionDestroy",
  "resetInputWidth",
  "resetInputHeight",
  "managePlaceholder",
  "checkDefaultFirstOption",
  "setOptionHighlight",
  "toggleLastOptionHitState",
  "deleteTag",
  "setSelected",
  "selectOption",
  "handleResize",
  "deletePrevTag",
  "onInputChange",
  "deleteSelected",
  "handleMenuEnter",
  "resetInputState",
  "handleClearClick",
  "handleComposition",
  "handleQueryChange",
  "handleOptionSelect",
  "debouncedOnInputChange",
  "debouncedQueryChange",
  "navigateOptions",
  "onMouseenterNative",
  "onMouseleaveNative",
  "onCopying",
  "handleDropdownClick",
  "handleEnterTag",
  "getLabelSlotValue",
  "updateModelValue",
  "clearSearchText",
  "onClickCollapseTag",
  "updateSelectedData",
  "hidePanel",
  "computedShowTagText",
  "isTagClosable"
], C5 = ({ reactive: e, computed: t, props: n, api: r, emitter: o, parent: i, constants: l, useBreakpoint: a, vm: s, designConfig: d }) => {
  const u = w5({ computed: t, props: n, api: r, parent: i }), c = e(Mt(Ue({}, u), {
    selectEmitter: o(),
    datas: [],
    initDatas: [],
    query: "",
    magicKey: 0,
    options: [],
    visible: !1,
    showCopy: t(() => r.computedShowCopy()),
    showWarper: !0,
    // 显示下拉外层控制
    selected: n.multiple ? [] : {},
    softFocus: !1,
    hover: !1,
    triggerSearch: !1,
    firstAutoSearch: n.remoteConfig.autoSearch,
    tagsStyle: t(() => r.computedTagsStyle()),
    readonly: t(() => r.computedReadonly()),
    iconClass: t(() => c.visible ? "" : l.CLASS.IsReverse),
    showClose: t(() => r.computedShowClose()),
    optionsAllDisabled: t(() => r.computedOptionsAllDisabled()),
    collapseTagSize: t(() => r.computedCollapseTagSize()),
    showNewOption: t(() => r.computedShowNewOption()),
    selectSize: t(() => n.size || c.formItemSize),
    optimizeOpts: t(() => r.computeOptimizeOpts()),
    optimizeStore: { valueIndex: 0, recycleScrollerHeight: t(() => r.recycleScrollerHeight()) },
    collapseTags: t(() => r.computeCollapseTags()),
    multipleLimit: t(() => r.computeMultipleLimit()),
    disabledTooltipContent: t(() => r.computedDisabledTooltipContent()),
    isExpand: t(() => r.computedIsExpand()),
    collapseTagsLength: 0,
    initValue: [],
    key: 0,
    device: "",
    timer: null,
    modelValue: [],
    queryValue: "",
    selectedCopy: [],
    compareValue: null,
    selectedVal: t(
      () => c.device === "mb" && n.multiple && c.visible ? c.selectedCopy : c.selected
    ),
    displayOnlyContent: t(
      () => n.multiple && Array.isArray(c.selected) ? c.selected.map((f) => f.state ? f.state.currentLabel : f.currentLabel).join("; ") : ""
    ),
    breakpoint: a ? a().current : "",
    isSaaSTheme: s.theme === "saas",
    disabledOptionHover: !1,
    hasClearSelection: !1,
    // tiny 新增
    getIcon: t(() => r.computedGetIcon()),
    getTagType: t(() => r.computedGetTagType()),
    isSelectAll: t(() => c.selectCls === "checked-sur"),
    autoHideDownIcon: d != null && d.state && "autoHideDownIcon" in d.state ? d.state.autoHideDownIcon : !0
  }));
  return c;
}, w5 = ({ computed: e, props: t, api: n, parent: r }) => ({
  selectedTags: [],
  tips: "",
  showTip: !1,
  tipHover: !1,
  selectHover: !1,
  tipTimer: null,
  selectCls: "checked-sur",
  filteredSelectCls: "checked-sur",
  overflow: null,
  completed: !1,
  inputWidth: 0,
  inputPaddingRight: 0,
  hoverIndex: -1,
  hoverValue: -1,
  optionsIndex: -1,
  inputLength: 20,
  optionsCount: 0,
  selectFiexd: {},
  createdLabel: null,
  isSilentBlur: !1,
  cachedOptions: [],
  selectedLabel: "",
  previousQuery: null,
  inputHovering: !1,
  createdSelected: !1,
  isOnComposition: !1,
  cachedPlaceHolder: t.placeholder,
  inputHeight: 0,
  initialInputHeight: 0,
  currentPlaceholder: t.placeholder,
  filteredOptionsCount: 0,
  remoteData: [],
  currentKey: t.modelValue,
  updateId: "",
  popperElm: null,
  debounce: e(() => ii(t.queryDebounce) ? t.queryDebounce : t.remote ? 300 : 0),
  emptyText: e(() => n.emptyText()),
  emptyFlag: e(() => n.emptyFlag()),
  formItemSize: e(() => (r.formItem || { state: {} }).state.formItemSize),
  selectDisabled: e(() => n.computedSelectDisabled()),
  isDisplayOnly: e(() => t.displayOnly || (r.form || {}).displayOnly),
  isDisabled: e(() => t.disabled || (r.form || {}).disabled),
  isShowTagText: e(() => n.computedShowTagText()),
  searchSingleCopy: e(() => t.allowCopy && !t.multiple && t.filterable),
  childrenName: e(() => "children"),
  tooltipContent: {},
  isHidden: !1,
  optionIndexArr: [],
  showCollapseTag: !1,
  exceedMaxVisibleRow: !1,
  // 是否超出默认最大显示行数
  toHideIndex: 1 / 0
  // 第一个超出被隐藏的索引
}), S5 = ({
  api: e,
  props: t,
  state: n,
  emit: r,
  maskState: o,
  constants: i,
  parent: l,
  nextTick: a,
  dispatch: s,
  t: d,
  vm: u,
  isMobileFirstMode: c,
  designConfig: f
}) => {
  Object.assign(e, {
    state: n,
    maskState: o,
    doDestroy: qT(u),
    blur: jT({ vm: u, state: n }),
    focus: BT({ vm: u, state: n }),
    getValueKey: v4(t),
    handleClose: GT(n),
    getValueIndex: o4(t),
    getChildValue: D4(),
    getOption: LT({ props: t, state: n, api: e }),
    getSelectedOption: RT({ props: t, state: n }),
    emitChange: DT({ emit: r, props: t, state: n, constants: i }),
    directEmitChange: AT({ emit: r, props: t, state: n }),
    toggleMenu: i4({ vm: u, state: n, props: t, api: e }),
    showTip: _T({ props: t, state: n, vm: u }),
    onOptionDestroy: u4(n),
    setSoftFocus: r4({ vm: u, state: n }),
    resetInputWidth: c4({ vm: u, state: n }),
    resetHoverIndex: JT({ props: t, state: n }),
    resetDatas: e4({ props: t, state: n }),
    scrollToOption: MT({ vm: u, constants: i }),
    handleCopyClick: M4({ parent: l, props: t, state: n }),
    managePlaceholder: YT({ vm: u, state: n }),
    checkDefaultFirstOption: p4(n),
    setOptionHighlight: h4(n),
    handleBlur: WT({ constants: i, dispatch: s, emit: r, state: n, designConfig: f }),
    toggleLastOptionHitState: UT({ state: n }),
    emptyText: b4({ I18N: i.I18N, props: t, state: n, t: d, isMobileFirstMode: c }),
    emptyFlag: m4({ props: t, state: n }),
    getOptionIndexArr: E4({ props: t, state: n, api: e }),
    queryVisibleOptions: O4({ props: t, vm: u, isMobileFirstMode: c }),
    recycleScrollerHeight: y4({ state: n, props: t, recycle: i.RECYCLE }),
    watchPropsOption: A4({ constants: i, parent: l, props: t, state: n }),
    onMouseenterNative: L4({ state: n }),
    onMouseleaveNative: R4({ state: n }),
    onCopying: V4({ state: n, vm: u }),
    watchHoverIndex: N4({ state: n }),
    computeOptimizeOpts: K4({ props: t, designConfig: f }),
    computeCollapseTags: G4(t),
    computeMultipleLimit: U4({ props: t, state: n }),
    watchInputHover: H4({ vm: u }),
    initQuery: B4({ props: t, state: n, constants: i, vm: u }),
    updateModelValue: Z4({ props: t, emit: r, state: n }),
    computedTagsStyle: X4({ props: t, parent: l, state: n, vm: u }),
    computedReadonly: Q4({ props: t, state: n }),
    computedShowClose: J4({ props: t, state: n }),
    computedCollapseTagSize: e5(n),
    computedShowNewOption: t5({ props: t, state: n }),
    computedShowCopy: n5({ props: t, state: n }),
    computedOptionsAllDisabled: r5(n),
    computedDisabledTooltipContent: o5(n),
    computedSelectDisabled: i5({ props: t, parent: l }),
    computedIsExpand: l5({ props: t, state: n }),
    watchInitValue: a5({ props: t, emit: r }),
    watchShowClose: s5({ nextTick: a, state: n, parent: l }),
    // tiny 新增
    computedGetIcon: c5({ designConfig: f, props: t }),
    computedGetTagType: f5({ designConfig: f, props: t }),
    clearSearchText: h5({ state: n, api: e }),
    clearNoMatchValue: p5({ props: t, emit: r }),
    computedShowTagText: d5({ state: n }),
    isTagClosable: u5(),
    updateSelectedData: m5({ state: n }),
    hidePanel: y5({ state: n })
  }), $5({ api: e, props: t, state: n, emit: r, constants: i, parent: l, nextTick: a, dispatch: s, vm: u, isMobileFirstMode: c, designConfig: f });
}, $5 = ({
  api: e,
  props: t,
  state: n,
  emit: r,
  constants: o,
  parent: i,
  nextTick: l,
  dispatch: a,
  vm: s,
  isMobileFirstMode: d,
  designConfig: u
}) => {
  Object.assign(e, {
    resetInputHeight: QT({ api: e, constants: o, nextTick: l, props: t, vm: s, state: n, designConfig: u }),
    calcOverFlow: S4({ vm: s, props: t, state: n }),
    handleFocus: HT({ emit: r, props: t, state: n }),
    deleteTag: s4({ api: e, constants: o, emit: r, props: t, vm: s, nextTick: l, state: n }),
    watchValue: w4({ api: e, constants: o, dispatch: a, props: t, vm: s, state: n }),
    toHide: T4({ constants: o, state: n, props: t, vm: s, api: e }),
    toVisible: k4({ constants: o, state: n, props: t, vm: s, api: e, nextTick: l }),
    setSelected: PT({ api: e, nextTick: l, props: t, vm: s, state: n }),
    selectOption: l4({ api: e, state: n, props: t }),
    handleResize: f4({ api: e, props: t, state: n }),
    watchOptions: I4({ api: e, constants: o, nextTick: l, parent: i, props: t, state: n }),
    watchVisible: _4({ api: e, constants: o, emit: r, state: n, vm: s, props: t }),
    deletePrevTag: ZT({ api: e, state: n }),
    onInputChange: d4({ api: e, props: t, state: n, constants: o, nextTick: l }),
    deleteSelected: a4({ api: e, emit: r, props: t, state: n }),
    handleMenuEnter: xT({ api: e, nextTick: l, state: n, props: t }),
    resetInputState: XT({ api: e, vm: s, state: n }),
    navigateOptions: g4({ api: e, state: n, props: t, nextTick: l }),
    handleClearClick: KT(e),
    handleComposition: TT({ api: e, nextTick: l, state: n }),
    handleQueryChange: OT({ api: e, constants: o, nextTick: l, props: t, vm: s, state: n }),
    handleOptionSelect: t4({ api: e, nextTick: l, props: t, vm: s, state: n }),
    getPluginOption: FT({ props: t, state: n }),
    toggleCheckAll: zT({ api: e, state: n }),
    handleDebouncedQueryChange: v5({ state: n, api: e }),
    debouncedQueryChange: (c) => {
      const f = t.shape ? c : c.target.value;
      e.handleDebouncedQueryChange(f);
    },
    debouncedOnInputChange: Ve(n.debounce, () => {
      e.onInputChange();
    }),
    debouncRquest: x4({ api: e, state: n, props: t }),
    defaultOnQueryChange: IT({ props: t, state: n, constants: o, api: e, nextTick: l }),
    queryChange: ET({ props: t, state: n, constants: o }),
    mounted: j4({ api: e, parent: i, state: n, props: t, vm: s, designConfig: u }),
    unMount: W4({ api: e, parent: i, vm: s, state: n }),
    watchOptimizeOpts: q4({ props: t, state: n }),
    handleDropdownClick: P4({ props: t, vm: s, state: n, emit: r }),
    handleEnterTag: F4({ state: n }),
    calcCollapseTags: z4({ state: n, vm: s, props: t }),
    initValue: n4({ state: n }),
    getLabelSlotValue: Y4({ props: t, state: n }),
    onClickCollapseTag: g5({ state: n, props: t, nextTick: l, api: e })
  });
}, k5 = ({ watch: e, props: t, api: n, state: r, nextTick: o }) => {
  e(
    () => r.selectDisabled,
    () => o(n.resetInputHeight)
  ), e(
    () => t.placeholder,
    (i) => {
      r.cachedPlaceHolder = r.currentPlaceholder = i;
    }
  ), e(
    () => t.modelValue,
    () => {
      t.multiple && Array.isArray(t.modelValue) ? r.modelValue = [...t.modelValue] : r.modelValue = t.modelValue;
    },
    { immediate: !0, deep: !0 }
  ), e(() => r.modelValue, n.watchValue), e(
    () => r.selectedLabel,
    () => {
      t.trim && (r.selectedLabel = r.selectedLabel.trim());
    }
  ), e(
    () => t.extraQueryParams,
    () => n.handleQueryChange(r.previousQuery, !0),
    { deep: !0 }
  ), e(
    () => r.breakpoint,
    (i) => {
      i === "default" ? r.device = "mb" : r.device = "pc";
    },
    { immediate: !0, deep: !0 }
  ), e(
    () => r.device,
    (i, l) => {
      l !== "" && r.visible && n.updateModelValue(r.modelValue, !0);
    }
  ), e(() => r.visible, n.watchVisible), e(() => r.initValue, n.watchInitValue, { deep: !0 }), T5({ watch: e, props: t, api: n, state: r, nextTick: o });
}, T5 = ({ watch: e, props: t, api: n, state: r, nextTick: o }) => {
  e(() => [...r.options], n.watchOptions), e(() => r.hoverIndex, n.watchHoverIndex), t.options && e(() => t.options, n.watchPropsOption, { immediate: !0, deep: !0 }), t.optimization && e(() => r.optimizeOpts, n.watchOptimizeOpts, { immediate: !0 }), e([() => r.inputHovering, () => r.visible], n.watchInputHover), e(() => r.showClose, n.watchShowClose, { immediate: !0 }), e(
    () => r.selectHover,
    () => t.hoverExpand && !t.disabled && !r.isDisplayOnly && o(n.resetInputHeight)
  );
}, _5 = (e, { computed: t, onBeforeUnmount: n, onMounted: r, reactive: o, watch: i, provide: l, inject: a }, { vm: s, parent: d, emit: u, constants: c, nextTick: f, dispatch: h, t: p, emitter: v, isMobileFirstMode: g, useBreakpoint: m, designConfig: b }) => {
  const y = {}, S = C5({
    reactive: o,
    computed: t,
    props: e,
    api: y,
    emitter: v,
    parent: d,
    constants: c,
    useBreakpoint: m,
    vm: s,
    designConfig: b
  }), w = a("dialog", null);
  l("selectEmitter", S.selectEmitter), l("selectVm", s);
  const _ = o({ width: "", height: "", top: "" });
  return S5({
    api: y,
    props: e,
    state: S,
    emit: u,
    maskState: _,
    constants: c,
    parent: d,
    nextTick: f,
    dispatch: h,
    t: p,
    vm: s,
    isMobileFirstMode: g,
    designConfig: b
  }), d.$on("handle-clear", ($) => {
    y.handleClearClick($);
  }), e.multiple && !Array.isArray(e.modelValue) && u("update:modelValue", []), !e.multiple && Array.isArray(e.modelValue) && u("update:modelValue", ""), w && w.state.emitter.on("handleSelectClose", y.handleClose), S.selectEmitter.on(c.EVENT_NAME.handleOptionClick, y.handleOptionSelect), S.selectEmitter.on(c.EVENT_NAME.setSelected, y.setSelected), S.selectEmitter.on(c.EVENT_NAME.initValue, y.initValue), k5({ watch: i, props: e, api: y, state: S, nextTick: f }), r(y.mounted), n(() => {
    y.unMount(), w && w.state.emitter.off("handleSelectClose", y.handleClose);
  }), y;
}, I5 = ({ dispatch: e, emit: t }) => (n) => {
  e("Picker", "handle-clear", n), e("Select", "handle-clear", n), e("Cascader", "handle-clear", n), e("Amount", "handle-clear", n), t("handle-clear");
}, E5 = ({ props: e, emit: t }) => (n) => {
  e.disabled || (n.stopPropagation(), t("click", n));
}, O5 = ["state", "handleClear", "focus", "blur", "handeClick"], M5 = (e, { reactive: t }, { dispatch: n, emit: r, designConfig: o }) => {
  var i;
  const l = t({
    expandButtonIcon: ((i = o == null ? void 0 : o.icons) == null ? void 0 : i.expandButton) || "IconDownWard"
  }), a = {};
  return Object.assign(a, {
    state: l,
    focus: () => l,
    blur: () => l,
    handleClear: I5({ dispatch: n, emit: r }),
    handeClick: E5({ props: e, emit: r })
  }), a;
};
function x5(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = D5(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function D5(e, t) {
  if (e) {
    if (typeof e == "string") return dl(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? dl(e, t) : void 0;
  }
}
function dl(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var A5 = function(t, n) {
  for (var r = t.__vccOpts || t, o = x5(n), i; !(i = o()).done; ) {
    var l = i.value, a = l[0], s = l[1];
    r[a] = s;
  }
  return r;
};
function jo() {
  return jo = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, jo.apply(null, arguments);
}
var L5 = U({
  name: te + "FilterBox",
  emits: ["click", "handle-clear"],
  components: {
    IconDownWard: Hn(),
    IconError: Nr(),
    IconHelpCircle: rf(),
    TinyTooltip: $t
  },
  props: jo({}, le, {
    label: String,
    value: [String, Number],
    tip: String,
    placeholder: {
      type: String,
      default: ""
    },
    showClose: {
      type: Boolean,
      default: !0
    },
    disabled: {
      type: Boolean,
      default: !1
    },
    dropDownVisible: {
      type: Boolean,
      default: !1
    },
    blank: {
      type: Boolean,
      default: !1
    }
  }),
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: M5,
      api: O5,
      mono: !0
    });
  }
});
function R5(e, t, n, r, o, i) {
  var l = K("icon-help-circle"), a = K("tiny-tooltip"), s = K("icon-error");
  return C(), k(
    "div",
    {
      class: W(["tiny-filter-box", e.disabled && "disabled", e.blank && "is-blank"]),
      onClick: t[0] || (t[0] = function() {
        return e.handeClick && e.handeClick.apply(e, arguments);
      })
    },
    [T(
      "p",
      {
        class: W(["title", e.dropDownVisible && "active"])
      },
      [T(
        "label",
        null,
        j(e.label),
        1
        /* TEXT */
      ), e.tip ? (C(), z(a, {
        key: 0,
        effect: "light",
        content: e.tip,
        placement: "top"
      }, {
        default: q(function() {
          return [E(l)];
        }),
        _: 1
        /* STABLE */
      }, 8, ["content"])) : P("v-if", !0)],
      2
      /* CLASS */
    ), T(
      "p",
      {
        class: W(["value", !e.value && e.value !== 0 && "placeholder"])
      },
      j(e.value || e.value === 0 ? e.value : e.placeholder),
      3
      /* TEXT, CLASS */
    ), e.value && e.showClose && !e.disabled ? (C(), z(s, {
      key: 0,
      class: "filter-icon-close",
      onClick: X(e.handleClear, ["stop"])
    }, null, 8, ["onClick"])) : (C(), z(Te(e.state.expandButtonIcon), {
      key: 1,
      class: W(["filter-box-icon", e.dropDownVisible && "is-reverse"])
    }, null, 8, ["class"]))],
    2
    /* CLASS */
  );
}
var $n = /* @__PURE__ */ A5(L5, [["render", R5]]), V5 = "3.undefined";
$n.install = function(e) {
  e.component($n.name, $n);
};
$n.version = V5;
let Wo = !1;
if (typeof window < "u") {
  Wo = !1;
  try {
    const e = Object.defineProperty({}, "passive", {
      get() {
        Wo = !0;
      }
    });
    window.addEventListener("test", null, e);
  } catch {
  }
}
const N5 = ({ api: e, emit: t, state: n }) => (r, o) => {
  n.ready && (r || o.boundingClientRect.width !== 0 || o.boundingClientRect.height !== 0 ? (t("visible"), requestAnimationFrame(() => {
    e.updateVisibleItems(!1);
  })) : t("hidden"));
}, P5 = ({ api: e }) => () => {
  e.resetTemporary(), e.updateVisibleItems(!0);
}, F5 = ({ api: e, emit: t, props: n, state: r, vm: o }) => (i, l = !1) => {
  const a = n.itemSize, s = n.gridItems || 1, d = n.itemSecondarySize || a, u = r.temporary.computedMinItemSize, c = n.typeField, f = r.simpleArray ? null : n.keyField, h = n.items, p = h.length, v = r.sizes, g = r.temporary.views, m = r.temporary.unusedViews, b = r.pool, y = r.itemIndexByKey;
  let S, w, _, $, I;
  if (!p)
    S = w = _ = $ = I = 0;
  else if (r.temporary.prerender)
    S = _ = 0, $ = w = Math.min(n.prerender, h.length), I = null;
  else {
    const D = e.getScroll();
    if (t3({ checkPositionDiff: l, scroll: D, state: r, itemSize: a, minItemSize: u }))
      return { continuous: !0 };
    r.temporary.lastUpdateScrollPosition = D.start;
    const R = { props: n, scroll: D, vm: o, itemSize: a, count: p, sizes: v, startIndex: S, totalSize: I };
    Object.assign(R, { endIndex: w, items: h, visibleStartIndex: _, visibleEndIndex: $, gridItems: s });
    const O = n3(R);
    S = O.startIndex, w = O.endIndex, _ = O.visibleStartIndex, $ = O.visibleEndIndex, I = O.totalSize;
  }
  if (w - S > n.itemsLimit)
    throw new Error("[TINY Error][RecycleScroller] Rendered items limit reached");
  r.totalSize = I;
  const A = S <= r.temporary.endIndex && w >= r.temporary.startIndex, x = { continuous: A, pool: b, checkItem: i, itemIndexByKey: y, keyField: f, startIndex: S };
  return Object.assign(x, { endIndex: w, api: e, items: h, views: g, itemSize: a, sizes: v, typeField: c, unusedViews: m }), Object.assign(x, { emit: t, gridItems: s, itemSecondarySize: d }), o3(x), r.temporary.startIndex = S, r.temporary.endIndex = w, n.emitUpdate && t("update", S, w, _, $), clearTimeout(r.temporary.sortTimer), r.temporary.sortTimer = setTimeout(e.sortViews, n.updateInterval + 300), { continuous: A };
}, z5 = ({ props: e, state: t }) => () => {
  if (e.itemSize === null) {
    const n = { "-1": { accumulator: 0 } }, r = e.items, o = e.sizeField, i = e.minItemSize;
    let l = 1e4, a = 0, s;
    for (let d = 0, u = r.length; d < u; d++)
      s = r[d][o] || i, s < l && (l = s), a += s, n[d] = { accumulator: a, size: s };
    return t.temporary.computedMinItemSize = l, n;
  }
  return [];
}, H5 = (e) => () => {
  const { keyField: t, items: n } = e, r = {};
  for (let o = 0, i = n.length; o < i; o++)
    r[n[o][t]] = o;
  return r;
}, B5 = ({ props: e, vm: t }) => () => {
  const { $el: n } = t, o = e.direction === "vertical";
  let i;
  if (e.pageMode) {
    const l = n.getBoundingClientRect(), a = o ? l.height : l.width;
    let s = o ? window.innerHeight : window.innerWidth, d = -(o ? l.top : l.left);
    d < 0 && (s += d, d = 0), d + s > a && (s = a - d), i = { start: d, end: d + s };
  } else o ? i = { start: n.scrollTop, end: n.scrollTop + n.clientHeight } : i = { start: n.scrollLeft, end: n.scrollLeft + n.clientWidth };
  return i;
}, j5 = (e) => (t, n = !1) => {
  const r = e.temporary.unusedViews, { type: o } = t.nr;
  let i = r.get(o);
  i || (i = [], r.set(o, i)), i.push(t), n || (t.nr.used = !1, t.position = -9999);
};
let W5 = 0;
const K5 = ({ markRaw: e, shallowReactive: t }) => (n, r, o, i, l) => {
  const a = e({ id: W5++, index: r, used: !0, key: i, type: l }), s = t({ item: o, position: 0, nr: a });
  return n.push(s), s;
}, q5 = (e) => () => {
  e.pool.sort((t, n) => t.nr.index - n.nr.index);
}, G5 = ({ api: e, props: t, state: n }) => () => {
  if (!n.temporary.scrollDirty) {
    if (n.temporary.scrollDirty = !0, n.temporary.updateTimeout)
      return;
    const r = () => requestAnimationFrame(() => {
      n.temporary.scrollDirty = !1;
      const { continuous: o } = e.updateVisibleItems(!1, !0);
      o || (cancelAnimationFrame(n.temporary.refreshTimeout), n.temporary.refreshTimeout = requestAnimationFrame(() => e.updateVisibleItems(!1)));
    });
    r(), t.updateInterval && (n.temporary.updateTimeout = setTimeout(() => {
      n.temporary.updateTimeout = 0, n.temporary.scrollDirty && r();
    }, t.updateInterval));
  }
}, U5 = ({ api: e, emit: t, state: n }) => () => {
  t("resize"), n.ready && e.updateVisibleItems(!1);
}, Z5 = ({ api: e, props: t }) => () => {
  t.pageMode ? e.addListeners() : e.removeListeners();
}, Y5 = ({ api: e, state: t }) => () => {
  t.listenerTarget = e.getListenerTarget();
  const n = Wo ? { passive: !0 } : !1;
  t.listenerTarget.addEventListener("scroll", e.handleScroll, n), t.listenerTarget.addEventListener("resize", e.handleResize);
}, X5 = ({ api: e, state: t }) => () => {
  t.listenerTarget && (t.listenerTarget.removeEventListener("scroll", e.handleScroll), t.listenerTarget.removeEventListener("resize", e.handleResize), t.listenerTarget = null);
}, Q5 = ({ props: e, vm: t }) => () => {
  let n = pa(t.$el.parentNode, e.direction === "vertical");
  return window.document && (n === window.document.documentElement || n === window.document.body) && (n = window), n;
}, J5 = ({ props: e, vm: t }) => (n) => {
  const r = e.direction === "vertical" ? { scroll: "scrollTop", start: "top" } : { scroll: "scrollLeft", start: "left" };
  let o, i, l;
  if (e.pageMode) {
    const a = pa(t.$el.parentNode, e.direction === "vertical"), s = a.tagName === "HTML" ? 0 : a[r.scroll], d = a.getBoundingClientRect(), c = t.$el.getBoundingClientRect()[r.start] - d[r.start];
    o = a, i = r.scroll, l = n + s + c;
  } else
    o = t.$el, i = r.scroll, l = n;
  o[i] = l;
}, e3 = ({ api: e, props: t, state: n }) => (r) => {
  const o = t.gridItems || 1;
  let i;
  t.itemSize === null ? i = r > 0 ? n.sizes[r - 1].accumulator : 0 : i = Math.floor(r / o) * t.itemSize, e.scrollToPosition(i);
}, t3 = ({ checkPositionDiff: e, scroll: t, state: n, itemSize: r, minItemSize: o }) => {
  if (e) {
    let i = t.start - n.temporary.lastUpdateScrollPosition;
    if (i < 0 && (i = -i), r === null && i < o || i < r)
      return !0;
  }
}, n3 = (e) => {
  let { props: t, scroll: n, vm: r, itemSize: o, count: i, sizes: l, startIndex: a, totalSize: s } = e, { endIndex: d, items: u, visibleStartIndex: c, visibleEndIndex: f, gridItems: h } = e;
  const p = t.buffer;
  let v = 0;
  if (n.start -= p, n.end += p, r.$refs.before && (v = r.$refs.before.scrollHeight, n.start -= v), r.$refs.after) {
    const g = r.$refs.after.scrollHeight;
    n.end += g;
  }
  if (o === null) {
    let g = { count: i, sizes: l, scroll: n, startIndex: a, totalSize: s, endIndex: d };
    Object.assign(g, { items: u, visibleStartIndex: c, beforeSize: v, visibleEndIndex: f });
    const m = r3(g);
    a = m.startIndex, d = m.endIndex, c = m.visibleStartIndex, f = m.visibleEndIndex, s = m.totalSize;
  } else {
    a = ~~(n.start / o * h);
    const g = a % h;
    a -= g, d = Math.ceil(n.end / o * h), c = Math.max(0, Math.floor((n.start - v) / o * h)), f = Math.floor((n.end - v) / o * h), a < 0 && (a = 0), d > i && (d = i), c < 0 && (c = 0), f > i && (f = i), s = Math.ceil(i / h) * o;
  }
  return { startIndex: a, endIndex: d, visibleStartIndex: c, visibleEndIndex: f, totalSize: s };
}, r3 = (e) => {
  let { count: t, sizes: n, scroll: r, startIndex: o, totalSize: i, endIndex: l } = e, { items: a, visibleStartIndex: s, beforeSize: d, visibleEndIndex: u } = e, c, f, h, p, v;
  f = 0, h = t - 1, p = ~~(t / 2);
  do
    v = p, c = n[p].accumulator, c < r.start ? f = p : p < t - 1 && n[p + 1].accumulator > r.start && (h = p), p = ~~((f + h) / 2);
  while (p !== v);
  for (p < 0 && (p = 0), o = p, i = n[t - 1].accumulator, l = p; l < t && n[l].accumulator < r.end; l++)
    ;
  for (l === -1 ? l = a.length - 1 : (l++, l > t && (l = t)), s = o; s < t && d + n[s].accumulator < r.start; s++)
    ;
  for (u = s; u < t && d + n[u].accumulator < r.end; u++)
    ;
  return { startIndex: o, totalSize: i, endIndex: l, visibleStartIndex: s, visibleEndIndex: u };
}, o3 = (e) => {
  let { continuous: t, pool: n, checkItem: r, itemIndexByKey: o, keyField: i, startIndex: l } = e, { endIndex: a, api: s, items: d, views: u, itemSize: c, sizes: f, typeField: h, unusedViews: p } = e, { emit: v, gridItems: g, itemSecondarySize: m } = e, b = i3({ continuous: t, pool: n, checkItem: r, itemIndexByKey: o, keyField: i, startIndex: l, endIndex: a, api: s });
  const y = t ? null : /* @__PURE__ */ new Map();
  let S, w;
  for (let _ = l; _ < a; _++) {
    S = d[_];
    const $ = i ? S[i] : S;
    if (Ke($))
      throw new Error(`[TINY Error][RecycleScroller] Key is ${$} on item (keyField is '${i}')`);
    if (b = u.get($), !c && !f[_].size) {
      b && s.unuseView(b);
      continue;
    }
    w = S[h];
    let I = p.get(w), A = !1, x = { view: b, continuous: t, unusedPool: I, api: s, pool: n, i: _, item: S };
    Object.assign(x, { key: $, type: w, unusedIndex: y, unusedViews: p, views: u, newlyUsedView: A });
    const D = l3(x);
    b = D.view, I = D.unusedPool, A = D.newlyUsedView, A && (_ === d.length - 1 && v("scroll-end"), _ === 0 && v("scroll-start")), c === null ? (b.position = f[_ - 1].accumulator, b.offset = 0) : (b.position = Math.floor(_ / g) * c, b.offset = _ % g * m);
  }
}, i3 = ({ continuous: e, pool: t, checkItem: n, itemIndexByKey: r, keyField: o, startIndex: i, endIndex: l, api: a }) => {
  let s;
  if (e)
    for (let d = 0, u = t.length; d < u; d++)
      s = t[d], s.nr.used && (n && (s.nr.index = r[s.item[o]]), (Ke(s.nr.index) || s.nr.index < i || s.nr.index >= l) && a.unuseView(s));
  return s;
}, l3 = (e) => {
  let { view: t, continuous: n, unusedPool: r, api: o, pool: i, i: l, item: a } = e, { key: s, type: d, unusedIndex: u, unusedViews: c, views: f, newlyUsedView: h } = e, p;
  if (!t)
    n ? r && r.length ? t = r.pop() : t = o.addView(i, l, a, s, d) : (p = u.get(d) || 0, (!r || p >= r.length) && (t = o.addView(i, l, a, s, d), o.unuseView(t, !0), r = c.get(d)), t = r[p], u.set(d, p + 1)), f.delete(t.nr.key), t.nr.used = !0, t.nr.index = l, t.nr.key = s, t.nr.type = d, f.set(s, t), h = !0;
  else if (!t.nr.used && (t.nr.used = !0, h = !0, r)) {
    const v = r.indexOf(t);
    ~v && r.splice(v, 1);
  }
  return t.item = a, { view: t, unusedPool: r, newlyUsedView: h };
}, a3 = ({ props: e, state: t }) => (n) => {
  const { direction: r, gridItems: o, itemSecondarySize: i, itemSize: l } = e;
  let a = `translate${r === "vertical" ? "Y" : "X"}(${n.position}px)`;
  a = `${a} translate${r === "vertical" ? "X" : "Y"}(${n.offset}px)`;
  let s = o ? `${r === "vertical" && i || l}px` : void 0, d = o ? `${r === "horizontal" && i || l}px` : void 0;
  return t.ready ? { transform: a, width: s, height: d } : null;
}, s3 = ({ props: e, state: t }) => (n) => e.skipHover ? {} : {
  mouseenter: () => t.hoverKey = n.nr.key,
  mouseleave: () => t.hoverKey = null
}, d3 = ({ state: e }) => () => {
  e.temporary = {
    startIndex: 0,
    endIndex: 0,
    views: /* @__PURE__ */ new Map(),
    unusedViews: /* @__PURE__ */ new Map(),
    scrollDirty: !1,
    lastUpdateScrollPosition: 0
  }, e.pool = [];
}, u3 = [
  "state",
  "handleVisibilityChange",
  "handleScroll",
  "scrollToItem",
  "computeViewStyle",
  "computeViewEvent",
  "updateVisibleItems",
  "resetTemporary"
], c3 = ({ watch: e, props: t, api: n, state: r }) => {
  e(
    () => t.items,
    () => n.init()
  ), e(
    () => t.pageMode,
    () => {
      n.applyPageMode(), n.updateVisibleItems(!1);
    }
  ), e(
    () => r.sizes,
    () => n.updateVisibleItems(!1),
    { deep: !0 }
  ), e(
    () => t.gridItems,
    () => n.updateVisibleItems(!0)
  ), e(
    () => t.itemSecondarySize,
    () => n.updateVisibleItems(!0)
  );
}, f3 = (e) => {
  if (e.gridItems && !e.itemSize)
    throw new Error("[TINY Error][RecycleScroller] You must provide an itemSize when using gridItems");
}, h3 = (e, { reactive: t, computed: n, onBeforeUnmount: r, onMounted: o, onActivated: i, watch: l, markRaw: a, shallowReactive: s }, { vm: d, nextTick: u, emit: c }) => {
  const f = t({
    pool: [],
    totalSize: 0,
    ready: !1,
    hoverKey: null,
    simpleArray: n(() => e.items.length && typeof e.items[0] != "object"),
    sizes: n(() => h.computedSizes()),
    itemIndexByKey: n(() => h.computedItemIndexByKey())
  }), h = {
    state: f,
    computedSizes: z5({ props: e, state: f }),
    computedItemIndexByKey: H5(e),
    getScroll: B5({ props: e, vm: d }),
    unuseView: j5(f),
    addView: K5({ markRaw: a, shallowReactive: s }),
    sortViews: q5(f),
    getListenerTarget: Q5({ props: e, vm: d }),
    scrollToPosition: J5({ props: e, vm: d }),
    computeViewStyle: a3({ props: e, state: f }),
    computeViewEvent: s3({ props: e, state: f })
  };
  return Object.assign(h, {
    handleVisibilityChange: N5({ api: h, emit: c, state: f }),
    updateVisibleItems: F5({ api: h, emit: c, props: e, state: f, vm: d }),
    handleScroll: G5({ api: h, props: e, state: f }),
    handleResize: U5({ api: h, emit: c, state: f }),
    applyPageMode: Z5({ api: h, props: e }),
    addListeners: Y5({ api: h, state: f }),
    removeListeners: X5({ api: h, state: f }),
    scrollToItem: e3({ api: h, props: e, state: f }),
    resetTemporary: d3({ state: f }),
    init: P5({ api: h })
  }), f.temporary = {
    startIndex: 0,
    endIndex: 0,
    views: /* @__PURE__ */ new Map(),
    unusedViews: /* @__PURE__ */ new Map(),
    scrollDirty: !1,
    lastUpdateScrollPosition: 0
  }, e.prerender && (f.temporary.prerender = !0, h.updateVisibleItems(!1)), f3(e), i(() => {
    const p = f.temporary.lastUpdateScrollPosition;
    typeof p == "number" && u(() => {
      h.scrollToPosition(p);
    });
  }), o(() => {
    an(d.$el, h.handleResize), h.applyPageMode(), u(() => {
      f.temporary.prerender = !1, h.updateVisibleItems(!0), f.ready = !0;
    });
  }), r(() => {
    ln(d.$el, h.handleResize), h.removeListeners();
  }), c3({ watch: l, props: e, api: h, state: f }), h;
};
function p3(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = v3(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function v3(e, t) {
  if (e) {
    if (typeof e == "string") return ul(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? ul(e, t) : void 0;
  }
}
function ul(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var g3 = function(t, n) {
  for (var r = t.__vccOpts || t, o = p3(n), i; !(i = o()).done; ) {
    var l = i.value, a = l[0], s = l[1];
    r[a] = s;
  }
  return r;
}, m3 = U({
  emits: ["resize", "visible", "hidden", "update", "scroll-start", "scroll-end"],
  props: [].concat(Ne, ["items", "keyField", "direction", "listTag", "itemTag", "itemSize", "gridItems", "itemSecondarySize", "minItemSize", "sizeField", "typeField", "buffer", "pageMode", "prerender", "emitUpdate", "updateInterval", "skipHover", "listClass", "itemClass", "itemsLimit"]),
  directives: {
    ObserveVisibility: Pd
  },
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: h3,
      api: u3
    });
  }
}), y3 = {
  key: 0,
  ref: "before",
  class: "tiny-recycle-scroller__slot"
}, b3 = {
  key: 1,
  ref: "after",
  class: "tiny-recycle-scroller__slot"
};
function C3(e, t, n, r, o, i) {
  var l, a, s = Qe("observe-visibility");
  return ae((C(), k(
    "div",
    {
      class: W(["tiny-recycle-scroller", (l = {
        ready: e.state.ready,
        "page-mode": e.pageMode
      }, l["direction-" + e.direction] = !0, l)]),
      onScrollPassive: t[0] || (t[0] = function() {
        return e.handleScroll && e.handleScroll.apply(e, arguments);
      })
    },
    [e.slots.before ? (C(), k(
      "div",
      y3,
      [G(e.$slots, "before")],
      512
      /* NEED_PATCH */
    )) : P("v-if", !0), (C(), z(Te(e.listTag), {
      ref: "wrapper",
      style: ke((a = {}, a[e.direction === "vertical" ? "minHeight" : "minWidth"] = e.state.totalSize + "px", a)),
      class: W(["tiny-recycle-scroller__item-wrapper", e.listClass])
    }, {
      default: q(function() {
        return [(C(!0), k(
          ie,
          null,
          $e(e.state.pool, function(d) {
            return C(), z(Te(e.itemTag), it({
              key: d.nr.id,
              style: e.computeViewStyle(d),
              class: ["tiny-recycle-scroller__item-view", [e.itemClass, {
                hover: !e.skipHover && e.state.hoverKey === d.nr.key
              }]]
            }, na(e.computeViewEvent(d))), {
              default: q(function() {
                return [G(e.$slots, "default", {
                  item: d.item,
                  index: d.nr.index,
                  active: d.nr.used
                })];
              }),
              _: 2
              /* DYNAMIC */
            }, 1040, ["style", "class"]);
          }),
          128
          /* KEYED_FRAGMENT */
        )), G(e.$slots, "empty")];
      }),
      _: 3
      /* FORWARDED */
    }, 8, ["style", "class"])), e.slots.after ? (C(), k(
      "div",
      b3,
      [G(e.$slots, "after")],
      512
      /* NEED_PATCH */
    )) : P("v-if", !0)],
    34
    /* CLASS, NEED_HYDRATION */
  )), [[s, e.handleVisibilityChange]]);
}
var w3 = /* @__PURE__ */ g3(m3, [["render", C3]]);
function Ko() {
  return Ko = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, Ko.apply(null, arguments);
}
var S3 = function(t) {
  var n;
  return typeof process == "object" && ((n = process.env) == null || n.TINY_MODE), w3;
}, rn = U({
  name: te + "RecycleScroller",
  props: Ko({}, le, {
    items: {
      type: Array,
      required: !0
    },
    keyField: {
      type: String,
      default: "id"
    },
    direction: {
      type: String,
      default: "vertical",
      validator: function(t) {
        return ["vertical", "horizontal"].includes(t);
      }
    },
    listTag: {
      type: String,
      default: "div"
    },
    itemTag: {
      type: String,
      default: "div"
    },
    itemSize: {
      type: Number,
      default: null
    },
    gridItems: {
      type: Number,
      default: void 0
    },
    itemSecondarySize: {
      type: Number,
      default: void 0
    },
    minItemSize: {
      type: [Number, String],
      default: null
    },
    sizeField: {
      type: String,
      default: "size"
    },
    typeField: {
      type: String,
      default: "type"
    },
    buffer: {
      type: Number,
      default: 200
    },
    pageMode: {
      type: Boolean,
      default: !1
    },
    prerender: {
      type: Number,
      default: 0
    },
    emitUpdate: {
      type: Boolean,
      default: !1
    },
    updateInterval: {
      type: Number,
      default: 0
    },
    skipHover: {
      type: Boolean,
      default: !1
    },
    listClass: {
      type: [String, Object, Array],
      default: ""
    },
    itemClass: {
      type: [String, Object, Array],
      default: ""
    },
    itemsLimit: {
      type: Number,
      default: 1e3
    }
  }),
  setup: function(t, n) {
    return Ie({
      props: t,
      context: n,
      template: S3
    });
  }
}), $3 = N.reactive, k3 = function(t) {
  var n = {};
  return n.stateId = null, n.getId = null, n.updateIdState = function(r) {
    var o = n.getId();
    Ke(o) && console.warn("[TINY Error][Mixin IdState] No id found for IdState with idProp"), o !== n.stateId && (t[o] || n.idStateInit(o, r), r.idState = t[o]);
  }, n.idStateInit = function(r, o) {
    var i = o.$options.idState;
    if (typeof i == "function") {
      var l = i.call(o, o);
      return t[r] = l, n.stateId = r, l;
    } else
      throw new TypeError("[TINY Error][Mixin IdState] Missing `idState` function on component definition");
  }, n;
};
function T3(e) {
  var t, n = e.idProp, r = e.stateGetterName;
  n = n || function(i) {
    return i.item.id;
  }, r = r || "getIdState";
  var o = $3({});
  return t = {
    data: function() {
      return {
        idState: null
      };
    },
    created: function() {
      var l = this;
      this.temporary = k3(o), typeof n == "function" ? this.temporary.getId = function() {
        return n.call(l, l);
      } : this.temporary.getId = function() {
        return l[n];
      }, this.$watch(this.temporary.getId, {
        handler: function(s) {
          var d = this;
          this.$nextTick(function() {
            return d.temporary.stateId = s;
          });
        },
        immediate: !0
      }), this.temporary.updateIdState(this);
    },
    beforeUpdate: function() {
      this.temporary.updateIdState(this);
    }
  }, t[r] = function(i) {
    return Ke(i) ? o : o[i] ? o[i] : null;
  }, t;
}
var _3 = "3.undefined";
rn.IdState = T3;
rn.install = function(e) {
  e.component(rn.name, rn);
};
rn.version = _3;
const I3 = ({ state: e, props: t }) => () => {
  Array.isArray(e.model) && !e.model.includes(t.label) ? e.model.push(t.label) : e.model = t.trueLabel || !0;
}, E3 = ({ state: e, props: t }) => () => {
  if (Array.isArray(e.model)) {
    const n = e.model.indexOf(t.label);
    n !== -1 && e.model.splice(n, 1);
  } else
    e.model = t.falseLabel !== void 0 && t.falseLabel;
}, O3 = ({
  state: e,
  props: t,
  emit: n,
  nextTick: r,
  dispatch: o,
  constants: i
}) => (l) => {
  if (e.isLimitExceeded)
    return;
  let a;
  const { trueLabel: s, falseLabel: d } = t;
  l.target.checked ? a = s === void 0 ? !0 : s : a = d === void 0 ? !1 : d, n("change", a, l), r(() => {
    e.isGroup && o(i.CHECKBOX_GROUP, "change", [e.checkboxGroup.modelValue]);
  });
}, M3 = ({ state: e, props: t }) => () => {
  const n = e.isGroup ? e.store : t.modelValue !== void 0 ? t.modelValue : e.selfModel;
  return Ke(n) ? e.isGroup ? [] : "" : n;
}, x3 = ({
  state: e,
  dispatch: t,
  emit: n,
  constants: r
}) => (o) => {
  e.isGroup ? (e.isLimitExceeded = !1, e.checkboxGroup.min !== void 0 && o.length < e.checkboxGroup.min && (e.isLimitExceeded = !0), e.checkboxGroup.max !== void 0 && o.length > e.checkboxGroup.max && (e.isLimitExceeded = !0), e.isLimitExceeded === !1 && t(r.CHECKBOX_GROUP, "update:modelValue", [o])) : (n("update:modelValue", o), e.selfModel = o);
}, D3 = ({ state: e, props: t }) => () => typeof e.model == "boolean" ? e.model : Array.isArray(e.model) ? e.model.includes(t.label) : Ke(e.model) ? !1 : e.model === t.trueLabel, A3 = ({ state: e, parent: t, constants: n }) => () => {
  let r = t.$parent;
  for (; r; )
    if (r.$options.componentName !== n.CHECKBOX_GROUP)
      r = r.$parent;
    else
      return e.checkboxGroup = r, !0;
  return !1;
}, L3 = ({ state: e, props: t }) => () => e.checkboxGroup ? e.checkboxGroup.modelValue : t.modelValue, R3 = (e) => () => {
  const { max: t, min: n } = e.checkboxGroup;
  return !!(t || n) && e.model.length >= t && !e.isChecked || e.model.length <= n && e.isChecked;
}, V3 = ({ state: e, props: t }) => () => (e.isGroup ? e.checkboxGroup.disabled || e.checkboxGroup.displayOnly || t.disabled || t.displayOnly || e.isLimitDisabled : t.disabled) || e.formDisabled, N3 = (e) => () => (e.formItem || {}).formItemSize, P3 = ({ state: e, props: t, formItemSize: n }) => () => {
  const r = t.size || n.value;
  return e.isGroup && e.checkboxGroup.state.checkboxGroupSize || r;
}, F3 = ({ props: e, emit: t, api: n, parent: r }) => () => {
  e.checked && n.addToStore(), e.indeterminate && r.$el.setAttribute("aria-controls", e.controls), t("complete", !0);
}, cl = ({
  parent: e,
  props: t,
  type: n
}) => {
  const r = e.$el;
  for (let o in t.events)
    r[n + "EventListener"](o, t.events[o]);
}, z3 = ({ state: e, props: t }) => () => t.displayOnly || e.formDisplayOnly, H3 = ({ state: e }) => () => e.isGroup && (e.checkboxGroup.displayOnly || e.formDisplayOnly), B3 = ({ state: e, props: t, t: n }) => () => (e.showLabel = !0, t.trueLabel !== void 0 && t.falseLabel !== void 0 ? t.modelValue : t.modelValue ? n("yes") : n("no")), j3 = ({ props: e }) => () => !Ke(e.text) || !Ke(e.label), W3 = ({ props: e }) => () => e.text || !Ke(e.text) ? e.text : e.label, K3 = ["state", "handleChange", "computedStore"], q3 = ({ reactive: e, computed: t, parent: n, api: r, inject: o, props: i }) => {
  const l = e({
    size: t(() => i.size || o("size", null) || (n.tinyForm || {}).size),
    vertical: o("vertical", null),
    iconPosition: i.iconPosition || o("iconPosition", "center"),
    focus: !1,
    selfModel: !1,
    showLabel: !1,
    isLimitExceeded: !1,
    checkboxGroup: null,
    store: t(() => r.computedStore()),
    isGroup: t(() => r.computedIsGroup()),
    isChecked: t(() => r.computedIsChecked()),
    isDisabled: t(() => r.computedIsDisabled()),
    checkboxSize: t(() => r.computedCheckboxSize()),
    isLimitDisabled: t(() => r.computedIsLimitDisabled()),
    formDisabled: t(() => (n.tinyForm || {}).disabled),
    formDisplayOnly: t(() => (n.tinyForm || {}).displayOnly),
    isDisplayOnly: t(() => r.computedIsDisplayOnly()),
    isGroupDisplayOnly: t(() => r.computedIsGroupDisplayOnly()),
    displayLabel: t(() => r.computedDisplayLabel()),
    inputDisabled: t(() => l.isDisabled || l.isDisplayOnly || l.isGroupDisplayOnly),
    model: t({
      get: () => r.computedGetModelGet(),
      set: (a) => r.computedGetModelSet(a)
    }),
    showText: t(() => r.computedShowText()),
    isShowText: t(() => r.computedIsShowText()),
    shape: o("shape", null) || i.shape
  });
  return l;
}, G3 = ({
  api: e,
  state: t,
  dispatch: n,
  props: r,
  parent: o,
  constants: i,
  formItemSize: l,
  emit: a,
  nextTick: s,
  t: d,
  vm: u
}) => {
  Object.assign(e, {
    state: t,
    addToStore: I3({ state: t, props: r }),
    removeFromStore: E3({ state: t, props: r }),
    computedStore: L3({ state: t, props: r }),
    computedFormItemSize: N3(r),
    computedIsChecked: D3({ state: t, props: r }),
    computedIsLimitDisabled: R3(t),
    computedIsDisabled: V3({ state: t, props: r }),
    computedIsDisplayOnly: z3({ state: t, props: r }),
    computedIsGroupDisplayOnly: H3({ state: t }),
    computedGetModelGet: M3({ state: t, props: r }),
    computedIsGroup: A3({ state: t, parent: o, constants: i }),
    computedCheckboxSize: P3({ state: t, props: r, formItemSize: l }),
    computedGetModelSet: x3({ state: t, dispatch: n, emit: a, constants: i }),
    mounted: F3({ emit: a, props: r, api: e, parent: o }),
    handleChange: O3({ state: t, props: r, emit: a, nextTick: s, dispatch: n, constants: i }),
    computedDisplayLabel: B3({ state: t, props: r, t: d }),
    computedIsShowText: j3({ props: r }),
    computedShowText: W3({ props: r })
  });
}, U3 = (e, { computed: t, onMounted: n, onBeforeUnmount: r, reactive: o, watch: i, inject: l }, { vm: a, parent: s, emit: d, constants: u, nextTick: c, dispatch: f, t: h }) => {
  const p = { dispatch: f }, v = t(() => p.computedFormItemSize()), g = q3({ reactive: o, computed: t, parent: s, api: p, inject: l, props: e });
  return s.tinyForm = s.tinyForm || l("form", null), G3({ api: p, state: g, dispatch: f, props: e, parent: s, constants: u, formItemSize: v, emit: d, nextTick: c, t: h, vm: a }), i(
    () => e.modelValue,
    (m) => e.validateEvent && p.dispatch(u.FORM_ITEM, u.FORM_CHANGE, m)
  ), i(
    () => e.checked,
    (m) => {
      m ? p.addToStore() : p.removeFromStore();
    }
  ), r(() => {
    cl({ parent: s, props: e, type: "remove" });
  }), n(() => {
    f("Tooltip", "tooltip-update"), cl({ parent: s, props: e, type: "add" }), p.mounted();
  }), p;
};
function Z3(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = Y3(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function Y3(e, t) {
  if (e) {
    if (typeof e == "string") return fl(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? fl(e, t) : void 0;
  }
}
function fl(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var X3 = function(t, n) {
  for (var r = t.__vccOpts || t, o = Z3(n), i; !(i = o()).done; ) {
    var l = i.value, a = l[0], s = l[1];
    r[a] = s;
  }
  return r;
}, Q3 = U({
  // tiny 新增。 renderless中，没有emit('click')的地方。 此处勿声明，否则会造成丢失click事件。
  emits: ["update:modelValue", "change", "complete"],
  directives: {
    AutoTip: _n
  },
  props: [].concat(Ne, ["modelValue", "text", "events", "label", "indeterminate", "disabled", "checked", "name", "trueLabel", "falseLabel", "id", "controls", "size", "border", "validateEvent", "displayOnly", "shape", "tabindex"]),
  components: {
    IconHalfselect: Xt(),
    IconCheckedSur: Nt(),
    IconCheck: Vt()
  },
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: U3,
      api: K3
    });
  }
}), J3 = ["id"], e8 = ["role", "aria-checked"], t8 = ["tabindex", "aria-hidden", "name", "disabled", "true-value", "false-value"], n8 = ["tabindex", "aria-hidden", "disabled", "value", "name"], r8 = {
  class: "tiny-checkbox__inner"
}, o8 = {
  key: 0,
  class: "tiny-checkbox__label tiny-checkbox-display-only"
};
function i8(e, t, n, r, o, i) {
  var l = K("icon-halfselect"), a = K("icon-checked-sur"), s = K("icon-check"), d = Qe("auto-tip");
  return C(), k("label", it({
    class: ["tiny-checkbox", [e.border && e.state.checkboxSize ? "tiny-checkbox--" + e.state.checkboxSize : "", {
      "is-disabled": e.state.isDisabled || e.state.isDisplayOnly
    }, {
      "is-bordered": e.border
    }, {
      "is-checked": e.state.isChecked
    }, {
      "is-group-display-only": e.state.isGroupDisplayOnly
    }, {
      "is-display-only": e.state.isDisplayOnly
    }, {
      "is-filter": e.state.shape === "filter"
    }]],
    id: e.id,
    tabindex: "-1"
  }, e.a(e.$attrs, ["class", "style", "onClick"], !0)), [T("span", {
    class: W(["tiny-checkbox__input", {
      "is-disabled": e.state.isDisabled || e.state.isDisplayOnly,
      "is-checked": e.state.isChecked,
      "is-indeterminate": e.indeterminate,
      "is-focus": e.state.focus
    }]),
    role: e.indeterminate ? "checkbox" : void 0,
    "aria-checked": e.indeterminate ? "mixed" : !1
  }, [e.trueLabel || e.falseLabel ? ae((C(), k("input", {
    key: 0,
    class: "tiny-checkbox__original",
    type: "checkbox",
    tabindex: e.tabindex,
    "aria-hidden": e.indeterminate ? "true" : "false",
    name: e.name,
    disabled: e.state.isDisabled || e.state.isDisplayOnly,
    "true-value": e.trueLabel,
    "false-value": e.falseLabel,
    "onUpdate:modelValue": t[0] || (t[0] = function(u) {
      return e.state.model = u;
    }),
    onChange: t[1] || (t[1] = X(function() {
      return e.handleChange && e.handleChange.apply(e, arguments);
    }, ["stop"])),
    onFocus: t[2] || (t[2] = function(u) {
      return e.state.focus = !0;
    }),
    onBlur: t[3] || (t[3] = function(u) {
      return e.state.focus = !1;
    }),
    onClick: t[4] || (t[4] = X(function() {
    }, ["stop"]))
  }, null, 40, t8)), [[xi, e.state.model]]) : ae((C(), k("input", {
    key: 1,
    class: "tiny-checkbox__original",
    type: "checkbox",
    tabindex: e.tabindex,
    "aria-hidden": e.indeterminate ? "true" : "false",
    disabled: e.state.isDisabled || e.state.isDisplayOnly,
    value: e.label,
    name: e.name,
    "onUpdate:modelValue": t[5] || (t[5] = function(u) {
      return e.state.model = u;
    }),
    onChange: t[6] || (t[6] = X(function() {
      return e.handleChange && e.handleChange.apply(e, arguments);
    }, ["stop"])),
    onFocus: t[7] || (t[7] = function(u) {
      return e.state.focus = !0;
    }),
    onBlur: t[8] || (t[8] = function(u) {
      return e.state.focus = !1;
    }),
    onClick: t[9] || (t[9] = X(function() {
    }, ["stop"]))
  }, null, 40, n8)), [[xi, e.state.model]]), T("span", r8, [e.indeterminate && e.state.shape !== "filter" ? (C(), z(l, {
    key: 0,
    class: "tiny-svg-size icon-halfselect"
  })) : e.state.isChecked ? (C(), z(a, {
    key: 1,
    class: "tiny-svg-size icon-checked-sur"
  })) : (C(), z(s, {
    key: 2,
    class: "tiny-svg-size icon-check"
  }))])], 10, e8), e.slots.default && e.slots.default() || e.state.isShowText ? ae((C(), k("span", o8, [G(e.$slots, "default", {}, function() {
    return [de(
      j(e.state.showText),
      1
      /* TEXT */
    )];
  })])), [[d]]) : P("v-if", !0)], 16, J3);
}
var co = /* @__PURE__ */ X3(Q3, [["render", i8]]);
function qo() {
  return qo = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, qo.apply(null, arguments);
}
var l8 = function(t) {
  var n, r = typeof process == "object" ? (n = process.env) == null ? void 0 : n.TINY_MODE : null;
  return co;
}, a8 = {
  FORM_ITEM: "FormItem",
  FORM_CHANGE: "form.change",
  CHECKBOX: te + "Checkbox",
  CHECKBOX_GROUP: "CheckboxGroup"
}, s8 = qo({}, le, {
  _constants: {
    type: Object,
    default: function() {
      return a8;
    }
  },
  modelValue: {
    type: [String, Number, Boolean],
    // Tiny新增，因为类型有Boolean类型，所以默认值需要显示设置成 undefined 才可以保持逻辑正确
    default: void 0
  },
  label: {
    type: [String, Number, Boolean],
    default: ""
  },
  indeterminate: Boolean,
  disabled: Boolean,
  checked: Boolean,
  name: String,
  trueLabel: [String, Number],
  falseLabel: [String, Number],
  /*
   * 当indeterminate为真时，为controls提供相关连的checkbox的id，表明元素间的控制关系
   */
  id: String,
  /*
   * 当indeterminate为真时，为controls提供相关连的checkbox的id，表明元素间的控制关系
   */
  controls: {
    type: String,
    default: ""
  },
  border: Boolean,
  size: String,
  text: String,
  customClass: [String, Object, Array],
  validateEvent: {
    type: Boolean,
    default: !0
  },
  events: {
    type: Object,
    default: function() {
      return {};
    }
  },
  displayOnly: {
    type: Boolean,
    default: !1
  },
  iconPosition: String,
  shape: {
    type: String,
    default: ""
  },
  tabindex: {
    type: String,
    default: "0"
  }
}), Ht = U({
  name: te + "Checkbox",
  props: s8,
  setup: function(t, n) {
    return Ie({
      props: t,
      context: n,
      template: l8
    });
  }
}), d8 = "3.undefined";
Ht.model = {
  prop: "modelValue",
  event: "update:modelValue"
};
Ht.install = function(e) {
  e.component(Ht.name, Ht);
};
Ht.version = d8;
function u8(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = c8(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function c8(e, t) {
  if (e) {
    if (typeof e == "string") return hl(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? hl(e, t) : void 0;
  }
}
function hl(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var f8 = function(t, n) {
  for (var r = t.__vccOpts || t, o = u8(n), i; !(i = o()).done; ) {
    var l = i.value, a = l[0], s = l[1];
    r[a] = s;
  }
  return r;
}, pl = function(t, n, r) {
  var o = n.expression ? n.value : n.arg, i = r.context.$refs[o];
  i && (Array.isArray(i) ? i[0].$refs.reference = t : i.$refs.reference = t);
}, h8 = U({
  inheritAttrs: !1,
  emits: ["update:modelValue", "change", "focus", "blur", "clear", "remove-tag", "visible-change", "handleDropdownClick", "dropdown-click", "top-create-click"],
  directives: Dn({
    Clickoutside: sr,
    popover: {
      bind: function(t, n, r) {
        pl(t, n, r);
      },
      inserted: function(t, n, r) {
        pl(t, n, r);
      }
    }
  }),
  components: {
    TinyTag: Qt,
    TinyInput: Yn,
    TinyOption: Jt,
    TinyButton: Be,
    IconClose: dn(),
    TinyScrollbar: wn,
    IconCopy: Ia(),
    IconAddCircle: Na(),
    IconLoadingShadow: An(),
    TinySelectDropdown: en,
    IconHalfselect: Xt(),
    IconCheck: Vt(),
    IconCheckedSur: Nt(),
    TinyFilterBox: $n,
    TinyTooltip: $t,
    TinyRecycleScroller: rn,
    // tiny 新增，
    IconSearch: fi(),
    IconDeltaDown: nc(),
    // 默认下拉图标
    TinyCheckbox: Ht,
    IconEllipsis: Vr(),
    IconChevronUp: _a()
  },
  props: [].concat(Ne, [
    "id",
    "multiple",
    "name",
    "dataset",
    "readonly",
    "tabindex",
    "dropStyle",
    "valueField",
    "textField",
    "copyable",
    "size",
    "options",
    "showCheck",
    "showAlloption",
    "hideDrop",
    "modelValue",
    "showOverflowTooltip",
    "remote",
    "remoteConfig",
    "placement",
    "loading",
    "disabled",
    "valueKey",
    "clearable",
    "noDataText",
    "filterable",
    "loadingText",
    "noMatchText",
    "popperClass",
    "allowCreate",
    "placeholder",
    "remoteMethod",
    "filterMethod",
    "collapseTags",
    "autocomplete",
    "multipleLimit",
    "reserveKeyword",
    "automaticDropdown",
    "defaultFirstOption",
    "popperAppendToBody",
    "showDropdown",
    "expandTags",
    "delay",
    "cacheOp",
    "isDropInheritWidth",
    "tagSelectable",
    "selectConfig",
    "radioConfig",
    "allowCopy",
    "textSplit",
    "autoClose",
    "queryDebounce",
    "ignoreEnter",
    "dropdownIcon",
    "disabledTooltipContent",
    "hoverExpand",
    "optimization",
    "displayOnly",
    "initQuery",
    "extraQueryParams",
    "shape",
    "label",
    "tip",
    "updateDelay",
    "showTips",
    "popperOptions",
    "trim",
    "topCreate",
    "topCreateText",
    "keepFocus",
    "blank",
    // 以下为 tiny 新增
    "searchable",
    "showEmptyImage",
    "inputBoxType",
    "tagType",
    "clearNoMatchValue",
    "showLimitText",
    "showProportion",
    "clickExpand",
    "maxVisibleRows",
    "showAllTextTag",
    "allText"
  ]),
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: _5,
      api: b5
    });
  }
}), p8 = {
  key: 0
}, v8 = {
  key: 0
}, g8 = {
  class: "tiny-base-select__tags-text"
}, m8 = {
  key: 0
}, y8 = {
  class: "tiny-base-select__tags-text"
}, b8 = {
  key: 1,
  ref: "tags-content"
}, C8 = {
  key: 0,
  class: "tiny-base-select__tags-text"
}, w8 = {
  key: 1,
  class: "tiny-base-select__tags-text"
}, S8 = {
  key: 0
}, $8 = {
  key: 1
}, k8 = {
  key: 1,
  class: "tiny-base-select__tags-text is-disabled"
}, T8 = {
  key: 0
}, _8 = {
  key: 1
}, I8 = ["disabled", "autocomplete"], E8 = {
  key: 0,
  class: "tiny-base-select__limit-txt"
}, O8 = {
  key: 1,
  class: "tiny-base-select__proportion-txt"
}, M8 = {
  key: 1,
  class: "tiny-select__top-create"
}, x8 = {
  class: "tiny-icon-close"
}, D8 = {
  key: 0,
  class: "tiny-select-dropdown__empty-wrap"
}, A8 = {
  key: 1,
  class: "tiny-select-dropdown__empty-images"
}, L8 = {
  key: 2,
  class: "tiny-select-dropdown__empty"
}, R8 = {
  key: 1,
  class: "tiny-select-dropdown__loading"
}, V8 = {
  key: 0,
  class: "tiny-select-dropdown__empty-images"
}, N8 = {
  key: 1,
  class: "tiny-select-dropdown__empty"
}, P8 = {
  key: 1,
  class: "circular",
  viewBox: "25 25 50 50"
}, F8 = /* @__PURE__ */ T(
  "circle",
  {
    class: "path",
    cx: "50",
    cy: "50",
    r: "24",
    fill: "none"
  },
  null,
  -1
  /* HOISTED */
), z8 = [F8], H8 = {
  key: 0,
  class: "tiny-base-select__placeholder"
}, B8 = /* @__PURE__ */ T(
  "input",
  {
    class: "tiny-input__inner",
    disabled: ""
  },
  null,
  -1
  /* HOISTED */
), j8 = [B8];
function W8(e, t, n, r, o, i) {
  var l = K("tiny-filter-box"), a = K("tiny-tooltip"), s = K("tiny-tag"), d = K("icon-ellipsis"), u = K("icon-chevron-up"), c = K("icon-copy"), f = K("icon-close"), h = K("tiny-input"), p = K("icon-search"), v = K("tiny-option"), g = K("tiny-recycle-scroller"), m = K("tiny-scrollbar"), b = K("tiny-select-dropdown"), y = Qe("popover"), S = Qe("clickoutside");
  return ae((C(), k(
    "div",
    it({
      ref: "select",
      class: ["tiny-base-select", [e.state.selectSize ? "tiny-base-select--" + e.state.selectSize : "", e.state.collapseTags ? "tiny-base-select__collapse-tags" : "", e.filterable ? "tiny-base-select__filterable" : "", e.multiple ? "tiny-base-select__multiple" : "", (e.state.inputHovering || e.state.visible) && !e.clickExpand ? "is-hover" : "", e.state.isDisplayOnly ? "is-display-only" : "", e.hoverExpand ? "is-hover-expand" : "", e.clickExpand ? "is-click-expand" : "", e.state.showCollapseTag ? "collapse-tag-clicked" : "", e.state.selectDisabled ? "is-disabled" : "", e.$parent.$attrs.class]],
      onMouseleave: t[40] || (t[40] = X(function() {
        e.state.selectHover = !1, e.state.inputHovering = !1;
      }, ["self"])),
      onMouseenter: t[41] || (t[41] = X(function() {
        e.state.selectHover = !0, e.state.inputHovering = !0;
      }, ["self"])),
      onClick: t[42] || (t[42] = function() {
        return e.toggleMenu && e.toggleMenu.apply(e, arguments);
      })
    }, e.a(e.$attrs, ["class", "style"], !0)),
    [T(
      "div",
      {
        ref: "tagsGroup",
        style: ke(e.state.selectFiexd),
        class: W(["tiny-base-select__tags-group", {
          "is-expand": e.state.isExpand
        }])
      },
      [G(e.$slots, "reference", {}, function() {
        return [e.shape === "filter" ? (C(), z(l, {
          key: 0,
          ref: "reference",
          onClick: e.toggleMenu,
          "show-close": e.clearable,
          placeholder: e.placeholder,
          disabled: e.state.selectDisabled,
          label: e.label,
          tip: e.tip,
          value: e.multiple ? e.state.selected.map(function(w) {
            return w.state ? w.state.currentLabel : w.currentLabel;
          }).join("; ") : e.state.selectedLabel,
          "drop-down-visible": e.state.visible,
          blank: e.blank
        }, null, 8, ["onClick", "show-close", "placeholder", "disabled", "label", "tip", "value", "drop-down-visible", "blank"])) : P("v-if", !0), e.multiple && !e.state.isDisplayOnly && !e.shape ? (C(), k(
          "div",
          {
            key: 1,
            ref: "tags",
            class: W(["tiny-base-select__tags", {
              "is-showicon": e.slots.prefix,
              "not-selected": !e.state.selected.length
            }, {
              "is-show-tag": !e.state.isShowTagText
            }]),
            style: ke(e.state.tagsStyle)
          },
          [e.state.isShowTagText ? (C(), k("span", k8, [E(a, {
            effect: "light",
            placement: "top",
            disabled: !e.showTips
          }, {
            content: q(function() {
              return [T(
                "div",
                {
                  class: W([e.state.showTips && "tiny-base-select__show-tips", "tiny-base-select__show-common"])
                },
                [e.slots.label ? (C(), k("span", T8, [(C(!0), k(
                  ie,
                  null,
                  $e(e.state.selected, function(w) {
                    return C(), k("span", {
                      key: e.getValueKey(w)
                    }, [G(e.$slots, "label", {
                      item: w
                    })]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))])) : (C(), k(
                  "span",
                  _8,
                  j(e.disabledTooltipContent || e.state.disabledTooltipContent),
                  1
                  /* TEXT */
                ))],
                2
                /* CLASS */
              )];
            }),
            default: q(function() {
              return [T("span", null, [(C(!0), k(
                ie,
                null,
                $e(e.state.selected, function(w) {
                  return C(), k("span", {
                    key: w.value
                  }, [G(e.$slots, "label", {
                    item: w
                  }, function() {
                    return [de(
                      j(w.state ? w.state.currentLabel : w.currentLabel),
                      1
                      /* TEXT */
                    )];
                  }), de("; ")]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))])];
            }),
            _: 3
            /* FORWARDED */
          }, 8, ["disabled"])])) : (C(), k("span", p8, [e.collapseTags && e.state.selected.length ? (C(), k("span", v8, [(C(), z(s, {
            closable: !e.state.selectDisabled,
            size: e.state.collapseTagSize,
            hit: e.state.selected[0].state ? e.state.selected[0].state.hitState : e.state.selected[0].hitState,
            key: e.state.key,
            type: e.state.getTagType,
            onClose: t[1] || (t[1] = function(w) {
              return e.deleteTag(w, e.state.selected[0]);
            }),
            "disable-transitions": ""
          }, {
            default: q(function() {
              return [E(a, {
                effect: "light",
                placement: "top",
                onMouseenter: t[0] || (t[0] = function(w) {
                  return e.handleEnterTag(w, e.getValueKey(e.state.selected[0]));
                })
              }, {
                content: q(function() {
                  return [e.state.tooltipContent[e.getValueKey(e.state.selected[0])] ? (C(), k("span", m8, [G(e.$slots, "label", {
                    item: e.getLabelSlotValue(e.state.selected[0])
                  }, function() {
                    return [de(
                      j(e.state.selected[0].state ? e.state.selected[0].state.currentLabel : e.state.selected[0].currentLabel),
                      1
                      /* TEXT */
                    )];
                  })])) : P("v-if", !0)];
                }),
                default: q(function() {
                  return [T("span", g8, [G(e.$slots, "label", {
                    item: e.getLabelSlotValue(e.state.selected[0])
                  }, function() {
                    return [de(
                      j(e.state.selected[0].state ? e.state.selected[0].state.currentLabel : e.state.selected[0].currentLabel),
                      1
                      /* TEXT */
                    )];
                  })])];
                }),
                _: 3
                /* FORWARDED */
              })];
            }),
            _: 3
            /* FORWARDED */
          }, 8, ["closable", "size", "hit", "type"])), e.state.selected.length > 1 ? (C(), z(s, {
            key: 0,
            closable: !1,
            size: e.state.collapseTagSize,
            type: e.state.getTagType,
            "disable-transitions": "",
            class: "tiny-base-select__tags-number"
          }, {
            default: q(function() {
              return [T(
                "span",
                y8,
                "+ " + j(e.state.selected.length - 1),
                1
                /* TEXT */
              )];
            }),
            _: 1
            /* STABLE */
          }, 8, ["size", "type"])) : P("v-if", !0)])) : P("v-if", !0), e.collapseTags ? P("v-if", !0) : (C(), k(
            "span",
            b8,
            [e.showAllTextTag && e.state.selectCls === "checked-sur" ? (C(), z(s, {
              type: e.state.getTagType,
              key: "tags-all-text-tag",
              "data-tag": "tags-all-text-tag",
              disabled: e.state.isDisabled,
              closable: !0,
              size: e.state.collapseTagSize,
              onClose: t[2] || (t[2] = function(w) {
                return e.toggleCheckAll(!1);
              })
            }, {
              default: q(function() {
                return [de(
                  j(e.allText || e.t("ui.base.all")),
                  1
                  /* TEXT */
                )];
              }),
              _: 1
              /* STABLE */
            }, 8, ["type", "disabled", "size"])) : (C(), k(
              ie,
              {
                key: 1
              },
              [e.hoverExpand || e.clickExpand ? (C(), z(s, {
                class: W(["tiny-base-select__tags-collapse", {
                  "is-hidden": e.state.isHidden || e.state.isDisabled
                }]),
                type: e.state.getTagType,
                key: "tags-collapse",
                "data-tag": "tags-collapse",
                "only-icon": "",
                closable: !1,
                size: e.state.collapseTagSize,
                onClick: t[3] || (t[3] = function(w) {
                  return e.onClickCollapseTag(w);
                })
              }, {
                default: q(function() {
                  return [e.hoverExpand ? (C(), k(
                    ie,
                    {
                      key: 0
                    },
                    [de(
                      " + " + j(e.state.collapseTagsLength),
                      1
                      /* TEXT */
                    )],
                    64
                    /* STABLE_FRAGMENT */
                  )) : (C(), z(d, {
                    key: 1
                  }))];
                }),
                _: 1
                /* STABLE */
              }, 8, ["class", "type", "size"])) : P("v-if", !0), (C(!0), k(
                ie,
                null,
                $e(e.state.selected, function(w, _) {
                  return C(), z(s, {
                    key: e.getValueKey(w),
                    class: W({
                      "not-visible": e.state.toHideIndex <= _ && !e.state.isExpand,
                      "is-required": w.required
                    }),
                    closable: e.isTagClosable(w),
                    disabled: e.state.isDisabled || w.disabled,
                    size: e.state.collapseTagSize,
                    hit: w.state ? w.state.hitState : w.hitState,
                    type: e.state.getTagType,
                    onClose: function(I) {
                      return e.deleteTag(I, w);
                    },
                    "disable-transitions": ""
                  }, {
                    default: q(function() {
                      return [E(a, {
                        effect: "light",
                        placement: "top",
                        onMouseenter: function(I) {
                          return e.handleEnterTag(I, e.getValueKey(w));
                        }
                      }, kr({
                        default: q(function() {
                          return [!e.state.visible && e.state.overflow === _ ? (C(), k(
                            "span",
                            C8,
                            j(w.state ? w.state.currentLabel + "... " : w.currentLabel + "... "),
                            1
                            /* TEXT */
                          )) : (C(), k("span", w8, [G(e.$slots, "label", {
                            item: e.getLabelSlotValue(w)
                          }, function() {
                            return [de(
                              j(w.state ? w.state.currentLabel : w.currentLabel),
                              1
                              /* TEXT */
                            )];
                          })]))];
                        }),
                        _: 2
                        /* DYNAMIC */
                      }, [e.state.tooltipContent[e.getValueKey(w)] ? {
                        name: "content",
                        fn: q(function() {
                          return [!e.state.visible && e.state.overflow === _ ? (C(), k(
                            "span",
                            S8,
                            j(w.state ? w.state.currentLabel + "... " : w.currentLabel + "... "),
                            1
                            /* TEXT */
                          )) : (C(), k("span", $8, [G(e.$slots, "label", {
                            item: e.getLabelSlotValue(w)
                          }, function() {
                            return [de(
                              j(w.state ? w.state.currentLabel : w.currentLabel),
                              1
                              /* TEXT */
                            )];
                          })]))];
                        }),
                        key: "0"
                      } : void 0]), 1032, ["onMouseenter"])];
                    }),
                    _: 2
                    /* DYNAMIC */
                  }, 1032, ["class", "closable", "disabled", "size", "hit", "type", "onClose"]);
                }),
                128
                /* KEYED_FRAGMENT */
              )), e.clickExpand && e.state.showCollapseTag ? (C(), k("span", {
                key: 1,
                class: "tiny-base-select__collapse-text",
                onClick: t[4] || (t[4] = function(w) {
                  return e.onClickCollapseTag(w);
                })
              }, [de(
                j(e.t("ui.select.collapse")) + " ",
                1
                /* TEXT */
              ), E(u)])) : P("v-if", !0)],
              64
              /* STABLE_FRAGMENT */
            ))],
            512
            /* NEED_PATCH */
          ))])), ae(T("input", {
            ref: "input",
            "onUpdate:modelValue": t[5] || (t[5] = function(w) {
              return e.state.query = w;
            }),
            type: "text",
            class: W(["tiny-base-select__input", [e.state.selectSize ? "is-" + e.state.selectSize : ""]]),
            disabled: e.state.selectDisabled,
            autocomplete: e.autocomplete,
            onFocus: t[6] || (t[6] = function() {
              return e.handleFocus && e.handleFocus.apply(e, arguments);
            }),
            onBlur: t[7] || (t[7] = function() {
              return e.handleBlur && e.handleBlur.apply(e, arguments);
            }),
            onKeyup: t[8] || (t[8] = function() {
              return e.managePlaceholder && e.managePlaceholder.apply(e, arguments);
            }),
            onKeydown: [t[9] || (t[9] = function() {
              return e.resetInputState && e.resetInputState.apply(e, arguments);
            }), t[10] || (t[10] = Se(X(function(w) {
              return e.navigateOptions("next");
            }, ["prevent"]), ["down"])), t[11] || (t[11] = Se(X(function(w) {
              return e.navigateOptions("prev");
            }, ["prevent"]), ["up"])), t[12] || (t[12] = Se(X(function() {
              return e.selectOption && e.selectOption.apply(e, arguments);
            }, ["prevent"]), ["enter"])), t[13] || (t[13] = Se(X(function(w) {
              return e.state.visible = !1;
            }, ["stop", "prevent"]), ["esc"])), t[14] || (t[14] = Se(function() {
              return e.deletePrevTag && e.deletePrevTag.apply(e, arguments);
            }, ["delete"])), t[15] || (t[15] = Se(function(w) {
              return e.state.visible = !1;
            }, ["tab"]))],
            onCompositionstart: t[16] || (t[16] = function() {
              return e.handleComposition && e.handleComposition.apply(e, arguments);
            }),
            onCompositionupdate: t[17] || (t[17] = function() {
              return e.handleComposition && e.handleComposition.apply(e, arguments);
            }),
            onCompositionend: t[18] || (t[18] = function() {
              return e.handleComposition && e.handleComposition.apply(e, arguments);
            }),
            onInput: t[19] || (t[19] = function() {
              return e.debouncedQueryChange && e.debouncedQueryChange.apply(e, arguments);
            }),
            style: ke({
              "flex-grow": "1",
              width: e.state.inputLength / (e.state.inputWidth - 32) + "%",
              "max-width": e.state.inputWidth - 42 + "px",
              height: "auto"
            })
          }, null, 46, I8), [[De, e.filterable && !e.searchable && !e.state.selectDisabled], [Yt, e.state.query]])],
          6
          /* CLASS, STYLE */
        )) : P("v-if", !0), e.shape ? P("v-if", !0) : (C(), z(h, {
          key: 2,
          tiny_mode: "pc",
          ref: "reference",
          modelValue: e.state.selectedLabel,
          "onUpdate:modelValue": t[22] || (t[22] = function(w) {
            return e.state.selectedLabel = w;
          }),
          type: "text",
          placeholder: e.state.currentPlaceholder,
          name: e.name,
          id: e.id,
          autocomplete: e.autocomplete,
          size: e.state.selectSize,
          disabled: e.state.selectDisabled,
          readonly: e.state.readonly,
          "display-only": e.state.isDisplayOnly,
          "display-only-content": e.state.displayOnlyContent,
          unselectable: e.state.readonly ? "on" : "off",
          "validate-event": !1,
          "input-box-type": e.inputBoxType,
          class: W({
            "is-focus": e.state.visible,
            overflow: e.state.overflow,
            "is-show-close": e.state.showClose
          }),
          tabindex: e.multiple && e.filterable ? "-1" : e.tabindex,
          onFocus: e.handleFocus,
          onBlur: e.handleBlur,
          onKeyup: e.debouncedOnInputChange,
          onKeydown: [t[23] || (t[23] = Se(X(function(w) {
            return e.navigateOptions("next");
          }, ["stop", "prevent"]), ["down"])), t[24] || (t[24] = Se(X(function(w) {
            return e.navigateOptions("prev");
          }, ["stop", "prevent"]), ["up"])), Se(X(e.selectOption, ["prevent"]), ["enter"]), t[25] || (t[25] = Se(X(function(w) {
            return e.state.visible = !1;
          }, ["stop", "prevent"]), ["esc"])), t[26] || (t[26] = Se(function(w) {
            return e.state.visible = !1;
          }, ["tab"]))],
          onPaste: e.debouncedOnInputChange,
          onMouseenter: e.onMouseenterNative,
          onMouseleave: e.onMouseleaveNative,
          onCompositionend: e.handleComposition
        }, kr({
          suffix: q(function() {
            return [G(e.$slots, "suffix"), e.showLimitText && e.multiple && e.multipleLimit ? (C(), k(
              "span",
              E8,
              j(e.state.selected.length) + "/" + j(e.multipleLimit),
              1
              /* TEXT */
            )) : e.showProportion && e.state.selected.length > 0 && e.state.options.length > 1 ? (C(), k(
              "span",
              O8,
              j(e.state.selected.length + "/" + e.state.options.length),
              1
              /* TEXT */
            )) : P("v-if", !0), e.state.showCopy ? (C(), k("span", {
              key: 2,
              class: "tiny-base-select__copy",
              onClick: t[20] || (t[20] = X(function() {
                return e.handleCopyClick && e.handleCopyClick.apply(e, arguments);
              }, ["stop"]))
            }, [E(c, {
              class: "tiny-svg-size tiny-base-select__caret"
            })])) : P("v-if", !0), e.state.showClose ? (C(), z(f, {
              key: 3,
              class: "tiny-svg-size tiny-base-select__caret icon-close",
              onClick: e.handleClearClick,
              onMouseenter: t[21] || (t[21] = function(w) {
                return e.state.inputHovering = !0;
              })
            }, null, 8, ["onClick"])) : P("v-if", !0), ae((C(), z(Te(e.state.getIcon.icon), {
              class: W(["tiny-svg-size", "tiny-base-select__caret", e.state.iconClass, {
                "is-reverse": !e.state.visible && e.state.getIcon.isDefault
              }, {
                "not-reverse": !e.state.getIcon.isDefault
              }]),
              onClick: e.handleDropdownClick
            }, null, 8, ["class", "onClick"])), [[De, e.state.autoHideDownIcon ? !e.state.showClose && !(e.remote && e.filterable && !e.remoteConfig.showIcon) : !(e.remote && e.filterable && !e.remoteConfig.showIcon)]])];
          }),
          _: 2
          /* DYNAMIC */
        }, [e.slots.prefix ? {
          name: "prefix",
          fn: q(function() {
            return [G(e.$slots, "prefix")];
          }),
          key: "0"
        } : void 0]), 1032, ["modelValue", "placeholder", "name", "id", "autocomplete", "size", "disabled", "readonly", "display-only", "display-only-content", "unselectable", "input-box-type", "class", "tabindex", "onFocus", "onBlur", "onKeyup", "onKeydown", "onPaste", "onMouseenter", "onMouseleave", "onCompositionend"]))];
      }), E(Ot, {
        name: "tiny-zoom-in-top",
        onBeforeEnter: e.handleMenuEnter,
        onAfterLeave: e.doDestroy,
        persisted: ""
      }, {
        default: q(function() {
          return [ae(E(b, {
            ref: "popper",
            "is-drop-inherit-width": e.isDropInheritWidth,
            placement: e.placement,
            "append-to-body": e.popperAppendToBody,
            style: ke(e.dropStyle),
            "popper-options": e.popperOptions
          }, {
            default: q(function() {
              var w, _;
              return [e.shape && e.filterable ? (C(), k(
                "div",
                {
                  key: 0,
                  class: W(["tiny-base-select__filter-input", [e.remote && !e.state.options.length ? "tiny-base-select__remote-input" : ""]])
                },
                [E(h, {
                  ref: "input",
                  type: "text",
                  modelValue: e.state.query,
                  "onUpdate:modelValue": t[27] || (t[27] = function($) {
                    return e.state.query = $;
                  }),
                  placeholder: e.placeholder,
                  onInput: e.debouncedQueryChange,
                  onFocus: e.handleFocus,
                  autofocus: ""
                }, null, 8, ["modelValue", "placeholder", "onInput", "onFocus"])],
                2
                /* CLASS */
              )) : P("v-if", !0), e.topCreate ? (C(), k("div", M8, [T("div", {
                onClick: t[28] || (t[28] = function($) {
                  return e.$emit("top-create-click", $);
                })
              }, [(C(), z(Te(((w = e.state.designConfig) == null || (_ = w.icons) == null ? void 0 : _.addIcon) || "icon-add-circle"))), T(
                "span",
                null,
                j(e.topCreateText),
                1
                /* TEXT */
              )])])) : P("v-if", !0), G(e.$slots, "panel", {
                methods: {
                  updateSelectedData: e.updateSelectedData,
                  hidePanel: e.hidePanel
                }
              }), e.searchable ? (C(), z(h, {
                key: 2,
                "input-box-type": "underline",
                modelValue: e.state.query,
                "onUpdate:modelValue": [t[29] || (t[29] = function($) {
                  return e.state.query = $;
                }), t[30] || (t[30] = function($) {
                  return e.handleQueryChange(e.state.query);
                })],
                placeholder: e.t("ui.search.placeholder"),
                class: "tiny-select-dropdown__search"
              }, {
                prefix: q(function() {
                  return [E(p, {
                    class: "tiny-select-dropdown__search-prefix"
                  })];
                }),
                suffix: q(function() {
                  return [ae(T(
                    "span",
                    x8,
                    [E(f, {
                      onClick: e.clearSearchText
                    }, null, 8, ["onClick"])],
                    512
                    /* NEED_PATCH */
                  ), [[De, e.state.query]]), E(p, {
                    class: "tiny-select-dropdown__search-suffix"
                  })];
                }),
                _: 1
                /* STABLE */
              }, 8, ["modelValue", "placeholder"])) : P("v-if", !0), e.optimization ? (C(), k(
                "div",
                {
                  key: 3,
                  style: ke({
                    height: e.state.optimizeStore.recycleScrollerHeight + "px"
                  })
                },
                [ae((C(), z(g, {
                  ref: "scrollbar",
                  style: {
                    height: "100%"
                  },
                  key: e.state.magicKey,
                  "key-field": e.valueField,
                  "list-class": ["tiny-select-dropdown__wrap"],
                  "item-class": ["tiny-select-dropdown__item-view"],
                  items: e.state.datas,
                  "item-size": e.state.optimizeOpts.optionHeight
                }, {
                  before: q(function() {
                    return [e.state.showNewOption ? (C(), z(v, {
                      key: 0,
                      value: e.state.query,
                      created: ""
                    }, null, 8, ["value"])) : P("v-if", !0)];
                  }),
                  default: q(function($) {
                    var I = $.item;
                    return [G(e.$slots, "default", {
                      item: I
                    }, function() {
                      return [(C(), z(v, {
                        key: "" + I[e.valueField],
                        label: I[e.textField],
                        value: I[e.valueField],
                        disabled: I.disabled,
                        required: I.required,
                        "highlight-class": I._highlightClass,
                        events: I.events,
                        icon: I.icon,
                        onMousedown: t[31] || (t[31] = X(function() {
                        }, ["stop"]))
                      }, null, 8, ["label", "value", "disabled", "required", "highlight-class", "events", "icon"]))];
                    })];
                  }),
                  _: 3
                  /* FORWARDED */
                }, 8, ["key-field", "items", "item-size"])), [[De, !e.state.emptyFlag && !e.loading]])],
                4
                /* STYLE */
              )) : P("v-if", !0), e.optimization ? P("v-if", !0) : ae((C(), z(m, {
                key: 4,
                ref: "scrollbar",
                show: "",
                tag: "ul",
                "wrap-class": ["tiny-select-dropdown__wrap"],
                "view-class": ["tiny-select-dropdown__list"],
                onMousedown: t[39] || (t[39] = X(function() {
                }, ["stop"])),
                class: W({
                  "is-empty": !e.allowCreate && e.state.query && e.state.filteredOptionsCount === 0
                })
              }, {
                default: q(function() {
                  return [G(e.$slots, "dropdown"), e.multiple && e.showCheck && e.showAlloption && !e.state.multipleLimit && !e.state.query && !e.remote ? (C(), k(
                    "li",
                    {
                      key: 0,
                      class: W(["tiny-option tiny-option_all tiny-select-dropdown__item", [{
                        hover: e.state.hoverIndex === -9 && e.state.selectCls !== "checked-sur"
                      }, {
                        selected: e.state.selectCls === "checked-sur"
                      }]]),
                      "data-tag": "tiny-option",
                      onClick: t[32] || (t[32] = X(function($) {
                        return e.toggleCheckAll(!1);
                      }, ["stop"])),
                      onMousedown: t[33] || (t[33] = X(function() {
                      }, ["stop"])),
                      onMouseenter: t[34] || (t[34] = function($) {
                        return e.state.hoverIndex = -9;
                      })
                    },
                    [(C(), z(Te("icon-" + e.state.selectCls), {
                      class: W(["tiny-svg-size", e.state.selectCls])
                    }, null, 8, ["class"])), T(
                      "span",
                      null,
                      j(e.allText || e.t("ui.base.all")),
                      1
                      /* TEXT */
                    )],
                    34
                    /* CLASS, NEED_HYDRATION */
                  )) : P("v-if", !0), e.multiple && e.showCheck && e.showAlloption && !e.state.multipleLimit && e.state.query && !e.state.emptyText && !e.remote ? (C(), k(
                    "li",
                    {
                      key: 1,
                      class: W(["tiny-option tiny-select-dropdown__item", [{
                        hover: e.state.hoverIndex === -9 && e.state.filteredSelectCls !== "checked-sur"
                      }, {
                        selected: e.state.filteredSelectCls === "checked-sur"
                      }]]),
                      "data-tag": "tiny-option",
                      onClick: t[35] || (t[35] = X(function($) {
                        return e.toggleCheckAll(!0);
                      }, ["stop"])),
                      onMousedown: t[36] || (t[36] = X(function() {
                      }, ["stop"])),
                      onMouseenter: t[37] || (t[37] = function($) {
                        return e.state.hoverIndex = -9;
                      })
                    },
                    [(C(), z(Te("icon-" + e.state.filteredSelectCls), {
                      class: W(["tiny-svg-size", e.state.filteredSelectCls])
                    }, null, 8, ["class"])), T(
                      "span",
                      null,
                      j(e.allText || e.t("ui.base.all")),
                      1
                      /* TEXT */
                    )],
                    34
                    /* CLASS, NEED_HYDRATION */
                  )) : P("v-if", !0), e.state.showNewOption ? (C(), z(v, {
                    key: 2,
                    value: e.state.query,
                    created: ""
                  }, null, 8, ["value"])) : P("v-if", !0), G(e.$slots, "default", {}, function() {
                    return [(C(!0), k(
                      ie,
                      null,
                      $e(e.state.datas, function($) {
                        return C(), z(v, {
                          key: "" + $[e.valueField],
                          label: $[e.textField],
                          value: $[e.valueField],
                          disabled: $.disabled,
                          required: $.required,
                          "highlight-class": $._highlightClass,
                          events: $.events,
                          onMousedown: t[38] || (t[38] = X(function() {
                          }, ["stop"])),
                          icon: $.icon
                        }, null, 8, ["label", "value", "disabled", "required", "highlight-class", "events", "icon"]);
                      }),
                      128
                      /* KEYED_FRAGMENT */
                    ))];
                  })];
                }),
                _: 3
                /* FORWARDED */
              }, 8, ["class"])), [[De, e.state.options.length > 0 && !e.loading]]), !e.slots.panel && e.state.emptyText && (!e.allowCreate || e.loading || e.allowCreate && e.state.emptyFlag) ? (C(), k(
                ie,
                {
                  key: 5
                },
                [e.loadingText || e.slots.empty ? (C(), k("div", D8, [e.slots.empty ? G(e.$slots, "empty", {
                  key: 0
                }) : e.showEmptyImage ? (C(), k("span", A8)) : (C(), k(
                  "p",
                  L8,
                  j(e.state.emptyText),
                  1
                  /* TEXT */
                ))])) : (C(), k("div", R8, [e.loading ? (C(), k("svg", P8, z8)) : (C(), k(
                  ie,
                  {
                    key: 0
                  },
                  [e.showEmptyImage ? (C(), k("span", V8)) : (C(), k(
                    "span",
                    N8,
                    j(e.state.emptyText),
                    1
                    /* TEXT */
                  ))],
                  64
                  /* STABLE_FRAGMENT */
                ))]))],
                64
                /* STABLE_FRAGMENT */
              )) : P("v-if", !0), G(e.$slots, "footer")];
            }),
            _: 3
            /* FORWARDED */
          }, 8, ["is-drop-inherit-width", "placement", "append-to-body", "style", "popper-options"]), [[De, !e.onCopying() && !e.hideDrop && e.state.visible && e.state.emptyText !== !1]])];
        }),
        _: 3
        /* FORWARDED */
      }, 8, ["onBeforeEnter", "onAfterLeave"])],
      6
      /* CLASS, STYLE */
    ), e.hoverExpand && !e.state.isDisplayOnly ? (C(), k("div", H8, j8)) : P("v-if", !0)],
    16
    /* FULL_PROPS */
  )), [[y, void 0, "popover"], [S, e.handleClose]]);
}
var fo = /* @__PURE__ */ f8(h8, [["render", W8]]);
function Go() {
  return Go = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, Go.apply(null, arguments);
}
var K8 = function(t) {
  var n, r = typeof process == "object" ? (n = process.env) == null ? void 0 : n.TINY_MODE : null;
  return fo;
}, vl = {
  CLASS: {
    SelectDropdownWrap: ".tiny-select-dropdown__wrap",
    IsReverse: "is-reverse"
  },
  I18N: {
    noData: "ui.select.noData",
    noMatch: "ui.select.noMatch",
    loading: "ui.select.loading"
  },
  COMPONENT_NAME: {
    Form: "Form",
    Select: "Select",
    Option: "Option",
    FormItem: "FormItem",
    OptionGroup: "OptionGroup",
    SelectDropdown: "SelectDropdown"
  },
  EVENT_NAME: {
    removeTag: "remove-tag",
    formChange: "form.change",
    formBlur: "form.blur",
    queryChange: "queryChange",
    setSelected: "setSelected",
    updatePopper: "updatePopper",
    destroyPopper: "destroyPopper",
    visibleChange: "visible-change",
    handleOptionClick: "handleOptionClick",
    handleGroupDisabled: "handleGroupDisabled",
    initValue: "initValue"
  },
  TYPE: {
    Grid: "grid",
    Tree: "tree"
  },
  MAX_WIDTH: 132,
  RECYCLE: {
    SAAS_HEIGHT: 220,
    AURORA_HEIGHT: 180,
    ITEM_HEIGHT: 34,
    SAFE_MARGIN: 4
  },
  SAAS_SIZE: {
    mini: 24,
    small: 28,
    medium: 32
  },
  AURORA_SIZE: {
    mini: 24,
    small: 36,
    medium: 42
  },
  SPACING_HEIGHT: 0,
  MAX_VISIBLE_ROWS: 1
  // 多选默认最大显示行数，超出后自动隐藏
}, kn = U({
  name: te + "BaseSelect",
  componentName: "BaseSelect",
  inject: {
    form: {
      default: ""
    },
    formItem: {
      default: ""
    }
  },
  provide: function() {
    return {
      select: this
    };
  },
  props: Go({}, le, {
    _constants: {
      type: Object,
      default: function() {
        return vl;
      }
    },
    id: [Number, String],
    name: String,
    size: String,
    remote: Boolean,
    remoteConfig: {
      type: Object,
      default: function() {
        return {
          showIcon: !1,
          clearData: !1,
          autoSearch: !1
        };
      }
    },
    title: String,
    shape: String,
    tip: String,
    label: String,
    loading: Boolean,
    disabled: Boolean,
    options: Array,
    dataset: Object,
    textField: {
      type: String,
      default: "label"
    },
    tabindex: {
      type: String,
      default: "1"
    },
    valueField: {
      type: String,
      default: "value"
    },
    placement: {
      type: String,
      default: "bottom-start"
    },
    showCheck: {
      type: Boolean,
      default: !0
    },
    showAlloption: {
      type: Boolean,
      default: !0
    },
    multiple: Boolean,
    clearable: Boolean,
    noDataText: String,
    filterable: Boolean,
    loadingText: String,
    noMatchText: String,
    popperClass: String,
    allowCreate: Boolean,
    collapseTags: Boolean,
    remoteMethod: Function,
    filterMethod: Function,
    reserveKeyword: Boolean,
    automaticDropdown: Boolean,
    defaultFirstOption: Boolean,
    modelValue: {},
    valueKey: {
      type: String,
      default: "value"
    },
    placeholder: {
      type: String,
      default: function() {
        return lt("ui.select.placeholder");
      }
    },
    searchPlaceholder: {
      type: String,
      default: function() {
        return lt("ui.select.pleaseSearch");
      }
    },
    autocomplete: {
      type: String,
      default: "off"
    },
    multipleLimit: {
      type: Number,
      default: 0
    },
    popperAppendToBody: {
      type: Boolean,
      default: !0
    },
    hideDrop: {
      type: Boolean,
      default: !1
    },
    copyable: {
      type: Boolean,
      default: !1
    },
    renderType: String,
    gridOp: {
      type: Object,
      default: function() {
        return {};
      }
    },
    treeOp: {
      type: Object,
      default: function() {
        return {};
      }
    },
    delay: {
      type: Number,
      default: 200
    },
    readonly: Boolean,
    dropStyle: {
      type: Object,
      default: function() {
        return {};
      }
    },
    cacheOp: Object,
    isDropInheritWidth: Boolean,
    tagSelectable: {
      type: Boolean,
      default: !1
    },
    selectConfig: {
      type: Object,
      default: function() {
        return {
          checkMethod: function() {
            return !0;
          }
        };
      }
    },
    radioConfig: {
      type: Object,
      default: function() {
        return {
          checkMethod: function() {
            return !0;
          }
        };
      }
    },
    allowCopy: {
      type: Boolean,
      default: !1
    },
    textSplit: {
      type: String,
      default: ","
    },
    autoClose: Boolean,
    queryDebounce: Number,
    ignoreEnter: {
      type: Boolean,
      default: !1
    },
    dropdownIcon: {
      type: [Object, String],
      default: function() {
        var t = ka();
        return t.isDefault = !0, t;
      }
    },
    disabledTooltipContent: String,
    hoverExpand: {
      type: Boolean,
      default: !1
    },
    optimization: [Boolean, Object],
    displayOnly: {
      type: Boolean,
      default: !1
    },
    initQuery: Function,
    extraQueryParams: {
      type: [Object, String, Boolean, Array, Number],
      default: ""
    },
    updateDelay: {
      type: Number,
      default: 0
    },
    showTips: {
      type: Boolean,
      default: !0
    },
    closeByMask: {
      type: Boolean,
      default: !0
    },
    keepFocus: {
      type: Boolean,
      default: !1
    },
    popperOptions: {
      type: Object,
      default: function() {
        return {
          gpuAcceleration: !1,
          boundariesPadding: 0
        };
      }
    },
    trim: {
      type: Boolean,
      default: !1
    },
    topCreate: {
      type: Boolean,
      default: !1
    },
    topCreateText: {
      type: String,
      default: function() {
        return lt("ui.select.add");
      }
    },
    blank: {
      type: Boolean,
      default: !1
    },
    // 以下为 tiny 新增
    searchable: {
      type: Boolean,
      default: !1
    },
    showEmptyImage: {
      type: Boolean,
      default: !1
    },
    InputBoxType: {
      type: String,
      default: "input",
      validator: function(t) {
        return ["input", "underline"].includes(t);
      }
    },
    tagType: {
      type: String,
      default: ""
    },
    clearNoMatchValue: {
      type: Boolean,
      default: !1
    },
    showLimitText: {
      type: Boolean,
      default: !1
    },
    showProportion: {
      type: Boolean,
      default: !1
    },
    clickExpand: {
      type: Boolean,
      default: !1
    },
    maxVisibleRows: {
      type: Number,
      default: vl.MAX_VISIBLE_ROWS
    },
    allText: {
      type: String,
      default: ""
    },
    showAllTextTag: {
      type: Boolean,
      default: !1
    }
  }),
  setup: function(t, n) {
    return Ie({
      props: t,
      context: n,
      template: K8
    });
  }
}), q8 = "3.undefined";
kn.model = {
  prop: "modelValue",
  event: "update:modelValue"
};
kn.install = function(e) {
  e.component(kn.name, kn);
};
kn.version = q8;
const G8 = ({ props: e, state: t }) => () => {
  const n = e.hideOnSinglePage && (!t.internalPageCount || t.internalPageCount === 1);
  return t.internalLayout.length > 0 && !n;
}, U8 = ({ props: e }) => () => {
  let t = "";
  return e.mode && !e.layout ? (e.mode === "number" && (t = "total, sizes, prev, pager, next, jumper"), e.mode === "simple" && (t = "sizes, total, prev, current, next"), e.mode === "complete" && (t = "sizes, total, prev, pager, next, jumper"), e.mode === "fixed" && (t = "prev,pager,next"), e.mode === "simplest" && (t = "total, prev, simplest-pager, next")) : !e.mode && e.layout || e.mode && e.layout ? t = e.layout : t = "total, prev, pager, next, jumper", t ? t.split(",").map((r) => r.trim()) : [];
}, Z8 = ({ props: e, t }) => () => {
  if (typeof e.customTotal == "string")
    return e.customTotal;
  const n = Number(e.total);
  if (isNaN(n))
    return "0";
  const r = 1e5, o = 1e6, i = 1e7;
  return n < r ? String(n) : n < o ? t("ui.page.hundredThousand") : n < i ? t("ui.page.million") : t("ui.page.tenMillion");
}, Y8 = ({ props: e, state: t }) => () => typeof e.total == "number" ? Math.max(1, Math.ceil(e.total / t.internalPageSize)) : typeof e.pageCount == "number" ? Math.max(1, e.pageCount) : null, X8 = ({ props: e, state: t }) => () => {
  const n = Math.max(1, Math.ceil(e.total / t.internalPageSize));
  return Array.from({ length: n }).map((r, o) => ({
    value: o + 1,
    label: `${o + 1}/${n}`
  }));
}, Q8 = ({ state: e }) => () => 60 + (String(e.internalCurrentPage).length + String(e.simplestPagerOption.length).length) * 8, J8 = ({ props: e, designConfig: t }) => () => e.pageSizeText ? e.pageSizeText : t != null && t.state && Object.hasOwnProperty.call(t.state, "pageSizeText") ? t.state.pageSizeText : "", e_ = ({ state: e }) => (t) => {
  var n;
  e.jumperBackup = (n = t.target) == null ? void 0 : n.value;
}, t_ = ({ state: e, emit: t, props: n }) => (r) => {
  const o = String(r);
  e.jumperValue !== o && (e.jumperValue = o), n.changeCompat && (t("update:current-page", r), t("current-change", r)), e.lastEmittedPage = -1;
}, n_ = ({ state: e, api: t }) => (n) => {
  e.internalCurrentPage = t.getValidCurrentPage(n);
}, r_ = ({ state: e, api: t }) => (n) => {
  const r = e.internalCurrentPage;
  n && n > 0 && r === 0 ? e.internalCurrentPage = 1 : r > Number(n) && (e.internalCurrentPage = n || 1, e.userChangePageSize && t.emitChange()), e.userChangePageSize = !1;
}, o_ = ({ props: e, emit: t }) => (n) => {
  e.changeCompat && t("size-change", n);
}, i_ = ({ state: e }) => (t) => {
  e.internalTotal = t;
}, l_ = ({ nextTick: e, vm: t }) => (n) => {
  n && e(() => {
    const r = t.$refs.pageSize[0].getBoundingClientRect().width, o = document.querySelectorAll(".tiny-pager__selector");
    Array.from(o).forEach((i) => {
      i.style.width = r + "px";
    });
  });
}, a_ = ({ props: e, state: t, api: n, emit: r, vm: o }) => (i) => {
  if (i = Number(i), i !== t.internalPageSize) {
    const l = () => {
      n.beforeChangeHandler() && (t.internalPageSize = i, t.userChangePageSize = !0, t.showSizes = !1, r("update:pageSize", i), e.changeCompat || r("size-change", i), r("page-change", {
        currentPage: t.internalCurrentPage,
        pageSize: i,
        total: t.internalTotal
      }), o.$refs.sizesList[0].state.showPopper = !1);
    };
    if (e.isBeforePageChange) {
      let a = i, s = t.internalPageSize, d = { newPageSize: a, currentPageSize: s, callback: l };
      n.beforeSizeChangeHandler(d);
    } else
      l();
  }
}, s_ = ({ state: e }) => (t) => {
  const n = t.target;
  n.value ? /^\d+$/.test(n.value) && (e.jumperValue = n.value || "1") : e.jumperValue = "", n.value = e.jumperValue;
}, d_ = ({ props: e, state: t, api: n }) => () => {
  n.parseValueNumber();
  const r = () => {
    n.handleJumperClick();
  }, o = () => {
    t.jumperValue = String(t.jumperBackup);
  }, i = t.jumperValue, l = t.jumperBackup;
  if (e.isBeforePageChange && i !== l) {
    const a = { newPage: i, currentPage: l, callback: r, rollback: o };
    n.beforePagerChangeHandler(a);
  } else
    r();
}, u_ = ({ props: e, state: t, api: n }) => () => {
  !n.canJumperGo() || e.disabled || (t.internalCurrentPage = n.getValidCurrentPage(t.jumperValue), n.emitChange());
}, c_ = ({ state: e }) => () => !isNaN(Number(e.jumperValue)), f_ = ({ state: e }) => () => {
  let t = Number(
    String(e.jumperValue).split(/[^0-9-+.]/).join("")
  );
  isNaN(t) && (t = 1), t = Number(t.toFixed(0));
  const n = 1, r = e.internalPageCount || 1;
  t >= r ? e.jumperValue = String(r) : t <= n ? e.jumperValue = String(n) : e.jumperValue = String(t);
}, h_ = ({ state: e, props: t }) => () => {
  if (t.disabled) {
    e.showSizes = !1;
    return;
  }
  e.showSizes = !0;
}, p_ = ({ state: e }) => () => {
  e.showSizes = !1;
}, v_ = ({ props: e, state: t, vm: n }) => () => {
  const r = Number(n.$refs.jumperInput[0].value || 0), o = Number(t.internalCurrentPage || 0);
  return e.accurateJumper ? r !== o : !0;
}, g_ = ({ state: e, emit: t }) => (n) => {
  const { newPageSize: r, currentPageSize: o, callback: i } = n, l = 1, a = e.internalCurrentPage;
  t("before-page-change", {
    newPage: l,
    newPageSize: r,
    currentPage: a,
    currentPageSize: o,
    callback: i
  });
}, m_ = ({ state: e, emit: t }) => (n) => {
  const { newPage: r, currentPage: o, callback: i, rollback: l } = n, a = e.internalPageSize, s = e.internalPageSize;
  t("before-page-change", {
    newPage: r,
    newPageSize: a,
    currentPage: o,
    currentPageSize: s,
    callback: i,
    rollback: l
  });
}, y_ = ({ emit: e }) => (...t) => {
  e(t[0], ...t.slice(1));
}, b_ = ({ state: e, api: t }) => (n = -1) => bd(t.copyEmit, "before-change", e.internalCurrentPage, void 0, n), C_ = ({ state: e, api: t }) => (n) => {
  t.beforeChangeHandler(n) && (e.internalCurrentPage = t.getValidCurrentPage(n), e.userChangePageSize = !0, t.emitChange());
}, w_ = ({ state: e, props: t, api: n, emit: r }) => () => {
  const o = () => {
    if (t.disabled || !n.beforeChangeHandler(e.internalCurrentPage - 1))
      return;
    const i = e.internalCurrentPage - 1;
    e.internalCurrentPage = n.getValidCurrentPage(i), r("prev-click", e.internalCurrentPage), n.emitChange();
  };
  if (t.isBeforePageChange) {
    const i = e.internalCurrentPage - 1, l = n.buildBeforePageChangeParam({ newPage: i, callback: o });
    r("before-page-change", l);
  } else
    o();
}, S_ = ({ props: e, state: t, api: n, emit: r }) => () => {
  const o = () => {
    if (e.disabled || !n.beforeChangeHandler(t.internalCurrentPage + 1))
      return;
    const i = t.internalCurrentPage + 1;
    t.internalCurrentPage = n.getValidCurrentPage(i), r("next-click", t.internalCurrentPage), n.emitChange();
  };
  if (e.isBeforePageChange) {
    const i = t.internalCurrentPage + 1, l = n.buildBeforePageChangeParam({ newPage: i, callback: o });
    r("before-page-change", l);
  } else
    o();
}, $_ = ({ state: e }) => (t) => {
  const n = e.internalCurrentPage, r = e.internalPageSize, o = e.internalPageSize;
  return Ue({ currentPage: n, newPageSize: r, currentPageSize: o }, t);
}, k_ = ({ state: e }) => (t) => {
  const n = Number(t), r = typeof e.internalPageCount == "number";
  let o;
  return r ? n < 1 ? o = 1 : n > (e.internalPageCount || 0) && (o = e.internalPageCount) : (isNaN(n) || n < 1) && (o = 1), (o === void 0 && isNaN(n) || o === 0) && (o = 1), o === void 0 ? n : o;
}, T_ = ({ props: e }) => () => {
  const { pageSize: t, pageSizes: n } = e;
  let r = isNaN(t) ? 10 : Number(t);
  return Array.isArray(n) && (r = n.includes(t) ? t : n[0]), r;
}, __ = ({ state: e, nextTick: t, emit: n, props: r }) => () => {
  t(() => {
    (e.internalCurrentPage !== e.lastEmittedPage || e.userChangePageSize) && (r.changeCompat || (n("update:current-page", e.internalCurrentPage), n("current-change", e.internalCurrentPage)), n("page-change", {
      currentPage: e.internalCurrentPage,
      pageSize: e.internalPageSize,
      total: e.internalTotal
    }), e.lastEmittedPage = e.internalCurrentPage, e.userChangePageSize = !1);
  });
}, I_ = ({ state: e }) => (t) => {
  e.internalTotal = t;
}, E_ = () => (e) => e.stopPropagation(), O_ = [
  "state",
  "handleJumperFocus",
  "handleSizeChange",
  "handleJumperInput",
  "handleJumperChange",
  "handleJumperClick",
  "isValueNumber",
  "parseValueNumber",
  "handleSizeShowPopover",
  "handleSizeHidePopover",
  "canJumperGo",
  "beforeSizeChangeHandler",
  "beforePagerChangeHandler",
  "beforeJumperChangeHandler",
  "beforeChangeHandler",
  "handleCurrentChange",
  "prev",
  "next",
  "buildBeforePageChangeParam",
  "getValidCurrentPage",
  "emitChange",
  "setTotal",
  "clickSizes"
], M_ = (e, { reactive: t, computed: n, watch: r }, { emit: o, vm: i, nextTick: l, t: a, designConfig: s }) => {
  var d, u, c;
  const f = {}, h = t({
    showSizes: !1,
    internalCurrentPage: 1,
    internalPageSize: 10,
    lastEmittedPage: -1,
    userChangePageSize: !1,
    internalTotal: e.total,
    jumperValue: "1",
    jumperBackup: "1",
    simplestPagerOption: n(() => f.computedSimplestPagerOption()),
    simplestPagerWidth: n(() => f.computedSimplestPagerWidth()),
    showPager: n(() => f.computedShowPager()),
    internalLayout: n(() => f.computedInternalLayout()),
    totalText: n(() => f.computedTotalText()),
    internalPageSizes: n(() => e.pageSizes || [10, 20, 30, 40, 50, 100]),
    internalPageCount: n(() => f.computedInternalPageCount()),
    showJumperSuffix: (u = (d = s == null ? void 0 : s.state) == null ? void 0 : d.showJumperSuffix) != null ? u : !0,
    align: n(() => {
      var p;
      return e.align || ((p = s == null ? void 0 : s.state) == null ? void 0 : p.align) || "right";
    }),
    totalI18n: ((c = s == null ? void 0 : s.state) == null ? void 0 : c.totalI18n) || "totals",
    totalFixedLeft: n(
      () => {
        var p, v, g, m;
        return (m = (g = (v = e.totalFixedLeft) != null ? v : (p = s == null ? void 0 : s.state) == null ? void 0 : p.totalFixedLeft) != null ? g : e.mode !== "simplest") != null ? m : !0;
      }
    ),
    pageSizeText: n(() => f.computedPageSizeText())
  });
  return Object.assign(f, {
    state: h,
    computedShowPager: G8({ props: e, state: h }),
    computedInternalLayout: U8({ props: e }),
    computedTotalText: Z8({ props: e, t: a }),
    computedInternalPageCount: Y8({ props: e, state: h }),
    computedSimplestPagerOption: X8({ props: e, state: h }),
    computedSimplestPagerWidth: Q8({ state: h }),
    computedPageSizeText: J8({ props: e, designConfig: s }),
    getValidCurrentPage: k_({ state: h }),
    handleJumperFocus: e_({ state: h }),
    handleSizeChange: a_({ props: e, state: h, api: f, emit: o, vm: i }),
    handleJumperInput: s_({ state: h }),
    handleJumperChange: d_({ props: e, state: h, api: f }),
    handleJumperClick: u_({ props: e, state: h, api: f }),
    isValueNumber: c_({ state: h }),
    parseValueNumber: f_({ state: h }),
    handleSizeShowPopover: h_({ state: h, props: e }),
    handleSizeHidePopover: p_({ state: h }),
    canJumperGo: v_({ props: e, state: h, vm: i }),
    beforeSizeChangeHandler: g_({ state: h, emit: o }),
    beforePagerChangeHandler: m_({ state: h, emit: o }),
    copyEmit: y_({ emit: o }),
    beforeChangeHandler: b_({ state: h, api: f }),
    handleCurrentChange: C_({ state: h, api: f }),
    prev: w_({ state: h, props: e, api: f, emit: o }),
    next: S_({ props: e, state: h, api: f, emit: o }),
    buildBeforePageChangeParam: $_({ state: h }),
    emitChange: __({ state: h, nextTick: l, emit: o, props: e }),
    setTotal: I_({ state: h }),
    clickSizes: E_(),
    // watch
    watchInternalCurrentPage: t_({ state: h, emit: o, props: e }),
    getInternalPageSize: T_({ props: e }),
    watchCurrentPage: n_({ state: h, api: f }),
    watchInternalPageCount: r_({ state: h, api: f }),
    watchTotal: i_({ state: h }),
    watchShowSizes: l_({ nextTick: l, vm: i }),
    watchInternalPageSize: o_({ emit: o, props: e })
  }), h.internalCurrentPage = f.getValidCurrentPage(e.currentPage), h.internalPageSize = f.getInternalPageSize(), r(() => h.internalCurrentPage, f.watchInternalCurrentPage), r(() => h.internalPageSize, f.watchInternalPageSize), r(() => e.currentPage, f.watchCurrentPage), r(() => h.internalPageCount, f.watchInternalPageCount), r(() => e.total, f.watchTotal), r(() => h.showSizes, f.watchShowSizes), r(
    () => e.pageSize,
    () => h.internalPageSize = f.getInternalPageSize()
  ), r(
    () => e.pageSizes,
    () => h.internalPageSize = f.getInternalPageSize()
  ), f;
};
function x_(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = D_(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function D_(e, t) {
  if (e) {
    if (typeof e == "string") return gl(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? gl(e, t) : void 0;
  }
}
function gl(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var A_ = function(t, n) {
  for (var r = t.__vccOpts || t, o = x_(n), i; !(i = o()).done; ) {
    var l = i.value, a = l[0], s = l[1];
    r[a] = s;
  }
  return r;
}, L_ = /* @__PURE__ */ U({
  name: te + "Pager",
  props: [].concat(Ne, ["accurateJumper", "appendToBody", "currentPage", "disabled", "hideOnSinglePage", "isBeforePageChange", "layout", "mode", "nextText", "pageCount", "pageSize", "pageSizes", "pagerCount", "popperAppendToBody", "showTotalLoading", "customTotal", "popperClass", "prevText", "total", "size", "align", "totalFixedLeft", "pageSizeText", "changeCompat"]),
  directives: {
    loading: Po.directive
  },
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: M_,
      api: O_
    });
  },
  components: {
    TinyPopover: kt,
    TinyBaseSelect: kn,
    ChevronLeft: Ta(),
    ChevronRight: Rr(),
    TriangleDown: $h(),
    Pager: Wn
  }
}), R_ = ["disabled"], V_ = {
  key: 0
}, N_ = {
  class: "tiny-pager__goto"
}, P_ = {
  class: "tiny-pager__goto-text"
}, F_ = ["value", "disabled"], z_ = {
  key: 0,
  class: "tiny-pager__goto-text tiny-pager__goto-text-sufix"
}, H_ = {
  class: "tiny-pager__pages"
}, B_ = {
  class: "is-active"
}, j_ = ["disabled"], W_ = {
  key: 0
}, K_ = {
  class: "sizes"
}, q_ = {
  class: "tiny-pager__page-size-btn"
}, G_ = {
  class: "tiny-pager__selector-body"
}, U_ = {
  class: "tiny-pager__selector-poplist"
}, Z_ = ["title", "onClick"], Y_ = {
  class: "tiny-pager__total-loading"
}, X_ = {
  class: "tiny-pager__loading-text"
}, Q_ = {
  class: "tiny-pager__total-allpage"
};
function J_(e, t, n, r, o, i) {
  var l = K("chevron-left"), a = K("pager"), s = K("tiny-base-select"), d = K("chevron-right"), u = K("triangle-down"), c = K("tiny-popover"), f = Qe("loading");
  return e.state.showPager ? (C(), k(
    "div",
    {
      key: 0,
      class: W(["tiny-pager tiny-pager__number", e.size ? "tiny-pager--" + e.size : "", e.disabled ? "is-disabled" : ""]),
      style: ke({
        textAlign: e.state.align
      })
    },
    [(C(!0), k(
      ie,
      null,
      $e(e.state.internalLayout, function(h, p) {
        return C(), k(
          ie,
          null,
          [h === "prev" ? (C(), k("button", {
            key: "prev" + p,
            type: "button",
            class: "tiny-pager__btn-prev",
            disabled: e.disabled || e.state.internalCurrentPage <= 1,
            onClick: t[0] || (t[0] = function() {
              return e.prev && e.prev.apply(e, arguments);
            })
          }, [e.prevText ? (C(), k(
            "span",
            V_,
            j(e.prevText),
            1
            /* TEXT */
          )) : (C(), z(l, {
            key: 1,
            class: "tiny-svg-size"
          }))], 8, R_)) : h === "jumper" ? (C(), k("div", {
            key: "jumper" + p,
            class: "tiny-pager__group"
          }, [T("div", N_, [T(
            "span",
            P_,
            j(e.t("ui.page.jump")),
            1
            /* TEXT */
          ), T("input", {
            type: "text",
            ref_for: !0,
            ref: "jumperInput",
            value: e.state.jumperValue,
            disabled: e.disabled,
            onFocus: t[1] || (t[1] = function() {
              return e.handleJumperFocus && e.handleJumperFocus.apply(e, arguments);
            }),
            onInput: t[2] || (t[2] = function() {
              return e.handleJumperInput && e.handleJumperInput.apply(e, arguments);
            }),
            onChange: t[3] || (t[3] = function() {
              return e.handleJumperChange && e.handleJumperChange.apply(e, arguments);
            })
          }, null, 40, F_), e.state.showJumperSuffix ? (C(), k(
            "span",
            z_,
            j(e.t("ui.page.pageClassifier")),
            1
            /* TEXT */
          )) : P("v-if", !0)])])) : h === "current" ? (C(), k("div", {
            key: "current" + p,
            class: "tiny-pager__group tiny-unselect"
          }, [T("ul", H_, [T(
            "li",
            B_,
            j(e.state.internalCurrentPage),
            1
            /* TEXT */
          )])])) : h === "pager" ? (C(), z(a, {
            key: "pager" + p,
            "is-before-page-change": e.isBeforePageChange,
            "current-page": e.state.internalCurrentPage,
            "page-count": e.state.internalPageCount,
            "pager-count": e.pagerCount,
            disabled: e.disabled,
            onChange: e.handleCurrentChange,
            onBeforePageChange: e.beforePagerChangeHandler
          }, null, 8, ["is-before-page-change", "current-page", "page-count", "pager-count", "disabled", "onChange", "onBeforePageChange"])) : h === "simplest-pager" ? (C(), z(s, {
            style: ke({
              width: e.state.simplestPagerWidth + "px"
            }),
            size: e.size,
            key: "simplest-pager" + p,
            modelValue: e.state.internalCurrentPage,
            "onUpdate:modelValue": t[4] || (t[4] = function(v) {
              return e.state.internalCurrentPage = v;
            }),
            disabled: e.disabled,
            options: e.state.simplestPagerOption,
            "popper-class": "tiny-pager__simplest-pager-popover",
            optimization: e.state.simplestPagerOption.length > 30,
            onChange: e.handleCurrentChange
          }, null, 8, ["style", "size", "modelValue", "disabled", "options", "optimization", "onChange"])) : h === "next" ? (C(), k("button", {
            key: "next" + p,
            type: "button",
            class: "tiny-pager__btn-next",
            disabled: e.disabled || e.state.internalCurrentPage === e.state.internalPageCount || e.state.internalPageCount === 0,
            onClick: t[5] || (t[5] = function() {
              return e.next && e.next.apply(e, arguments);
            })
          }, [e.nextText ? (C(), k(
            "span",
            W_,
            j(e.nextText),
            1
            /* TEXT */
          )) : (C(), z(d, {
            key: 1,
            class: "tiny-svg-size"
          }))], 8, j_)) : h === "sizes" ? (C(), k("div", {
            key: "sizes" + p,
            class: "tiny-pager__group tiny-pager__sizes"
          }, [E(c, {
            ref_for: !0,
            ref: "sizesList",
            placement: "bottom-start",
            "append-to-body": e.popperAppendToBody === !1 ? !1 : e.appendToBody,
            trigger: "click",
            "popper-class": "tiny-pager__selector " + (e.popperClass ? "" + e.popperClass : ""),
            "visible-arrow": !1,
            disabled: e.disabled,
            onShow: e.handleSizeShowPopover,
            onHide: e.handleSizeHidePopover
          }, {
            reference: q(function() {
              var v;
              return [T("div", {
                class: "tiny-pager__popover",
                onClick: t[6] || (t[6] = function() {
                  return e.clickSizes && e.clickSizes.apply(e, arguments);
                })
              }, [T(
                "div",
                {
                  ref_for: !0,
                  ref: "pageSize",
                  class: W(["tiny-pager__page-size", {
                    disabled: e.disabled
                  }])
                },
                [T(
                  "span",
                  K_,
                  j(e.state.internalPageSize),
                  1
                  /* TEXT */
                ), T(
                  "span",
                  null,
                  j((v = e.state.pageSizeText) != null ? v : e.t("ui.page.page")),
                  1
                  /* TEXT */
                ), T("div", q_, [E(u, {
                  class: W(["tiny-svg-size", e.state.showSizes ? "tiny-svg-size__reverse-180" : ""])
                }, null, 8, ["class"])])],
                2
                /* CLASS */
              )])];
            }),
            default: q(function() {
              return [T("div", G_, [T("ul", U_, [(C(!0), k(
                ie,
                null,
                $e(e.state.internalPageSizes, function(v, g) {
                  return C(), k("li", {
                    key: g,
                    class: W(["list-item", v === e.state.internalPageSize ? "is-selected select-pre" : ""]),
                    title: String(v),
                    onClick: function(b) {
                      return e.handleSizeChange(v);
                    }
                  }, j(v), 11, Z_);
                }),
                128
                /* KEYED_FRAGMENT */
              ))])])];
            }),
            _: 1
            /* STABLE */
          }, 8, ["append-to-body", "popper-class", "disabled", "onShow", "onHide"])])) : h === "slot" ? G(e.$slots, "default", {
            key: 7
          }) : h === "total" && typeof e.state.internalTotal == "number" ? (C(), k(
            "div",
            {
              key: "total" + p,
              class: W(["tiny-pager__group", {
                "is-disabled": e.disabled,
                "tiny-pager__loading": e.showTotalLoading,
                "tiny-pager__pull-left": e.state.totalFixedLeft
              }])
            },
            [T(
              "div",
              {
                class: W(["tiny-pager__total", e.size ? "tiny-pager--" + e.size : ""])
              },
              [e.showTotalLoading ? (C(), k(
                ie,
                {
                  key: 0
                },
                [ae(T(
                  "div",
                  Y_,
                  null,
                  512
                  /* NEED_PATCH */
                ), [[f, e.showTotalLoading]]), T(
                  "span",
                  X_,
                  j(e.t("ui.page.loadingTotals")),
                  1
                  /* TEXT */
                )],
                64
                /* STABLE_FRAGMENT */
              )) : e.state.totalI18n === "total" ? (C(), k(
                ie,
                {
                  key: 1
                },
                [T(
                  "span",
                  null,
                  j(e.t("ui.page.total")),
                  1
                  /* TEXT */
                ), T(
                  "span",
                  Q_,
                  j(e.customTotal ? e.state.totalText : e.state.internalTotal),
                  1
                  /* TEXT */
                ), T(
                  "span",
                  null,
                  j(e.t("ui.page.item")),
                  1
                  /* TEXT */
                )],
                64
                /* STABLE_FRAGMENT */
              )) : (C(), k(
                ie,
                {
                  key: 2
                },
                [T(
                  "span",
                  null,
                  j(e.t("ui.page.totals") + " "),
                  1
                  /* TEXT */
                ), T(
                  "span",
                  {
                    class: W({
                      "tiny-pager__total-num": !e.customTotal
                    })
                  },
                  j(e.customTotal ? e.state.totalText : e.state.internalTotal),
                  3
                  /* TEXT, CLASS */
                )],
                64
                /* STABLE_FRAGMENT */
              ))],
              2
              /* CLASS */
            )],
            2
            /* CLASS */
          )) : P("v-if", !0)],
          64
          /* STABLE_FRAGMENT */
        );
      }),
      256
      /* UNKEYED_FRAGMENT */
    ))],
    6
    /* CLASS, STYLE */
  )) : P("v-if", !0);
}
var ho = /* @__PURE__ */ A_(L_, [["render", J_]]);
function Uo() {
  return Uo = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, Uo.apply(null, arguments);
}
var e6 = function(t) {
  var n, r = typeof process == "object" ? (n = process.env) == null ? void 0 : n.TINY_MODE : null;
  return ho;
}, t6 = Uo({}, le, {
  accurateJumper: {
    type: Boolean,
    default: function() {
      return !0;
    }
  },
  appendToBody: {
    type: Boolean,
    default: function() {
      return !0;
    }
  },
  currentPage: {
    type: Number,
    default: function() {
      return 1;
    }
  },
  disabled: {
    type: Boolean,
    default: function() {
      return !1;
    }
  },
  hideOnSinglePage: Boolean,
  isBeforePageChange: Boolean,
  layout: String,
  mode: String,
  nextText: String,
  pageCount: Number,
  pageSize: {
    type: Number,
    default: function() {
      return 10;
    }
  },
  pageSizeText: {
    type: String
  },
  pageSizes: {
    type: Array
  },
  pagerCount: {
    type: Number,
    validator: function(t) {
      return (t | 0) === t && t > 2 && t < 22 && t % 2 === 1;
    },
    default: function() {
      return 7;
    }
  },
  popperAppendToBody: {
    type: Boolean,
    default: function() {
      return !0;
    }
  },
  showTotalLoading: {
    type: Boolean,
    default: function() {
      return !1;
    }
  },
  customTotal: {
    type: [Boolean, String],
    default: function() {
      return !1;
    }
  },
  popperClass: String,
  prevText: String,
  total: Number,
  size: {
    type: String,
    default: "",
    validator: function(t) {
      return ["mini", ""].includes(t);
    }
  },
  align: {
    type: String,
    validator: function(t) {
      return ["left", "center", "right"].includes(t);
    }
  },
  totalFixedLeft: {
    type: Boolean,
    default: void 0
  },
  // tiny新增
  changeCompat: {
    type: Boolean,
    default: !1
  }
}), Kn = U({
  name: te + "Pager",
  props: t6,
  setup: function(t, n) {
    return Ie({
      props: t,
      context: n,
      template: e6
    });
  }
}), n6 = "3.undefined";
Kn.install = function(e) {
  e.component(Kn.name, Kn);
};
Kn.version = n6;
function r6(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = o6(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function o6(e, t) {
  if (e) {
    if (typeof e == "string") return ml(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? ml(e, t) : void 0;
  }
}
function ml(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var bi = function(t, n) {
  for (var r = t.__vccOpts || t, o = r6(n), i; !(i = o()).done; ) {
    var l = i.value, a = l[0], s = l[1];
    r[a] = s;
  }
  return r;
}, i6 = ["input", "change"], l6 = ["field"];
function a6(e, t) {
  for (var n = 0; n < t.length; n++) {
    var r = t[n];
    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, d6(r.key), r);
  }
}
function s6(e, t, n) {
  return t && a6(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), e;
}
function d6(e) {
  var t = u6(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function u6(e, t) {
  if (typeof e != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var r = n.call(e, t);
    if (typeof r != "object") return r;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e);
}
function nr() {
  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */
  var e, t, n = typeof Symbol == "function" ? Symbol : {}, r = n.iterator || "@@iterator", o = n.toStringTag || "@@toStringTag";
  function i(h, p, v, g) {
    var m = p && p.prototype instanceof a ? p : a, b = Object.create(m.prototype);
    return et(b, "_invoke", function(y, S, w) {
      var _, $, I, A = 0, x = w || [], D = !1, R = { p: 0, n: 0, v: e, a: O, f: O.bind(e, 4), d: function(M, V) {
        return _ = M, $ = 0, I = e, R.n = V, l;
      } };
      function O(L, M) {
        for ($ = L, I = M, t = 0; !D && A && !V && t < x.length; t++) {
          var V, B = x[t], H = R.p, Y = B[2];
          L > 3 ? (V = Y === M) && (I = B[($ = B[4]) ? 5 : ($ = 3, 3)], B[4] = B[5] = e) : B[0] <= H && ((V = L < 2 && H < B[1]) ? ($ = 0, R.v = M, R.n = B[1]) : H < Y && (V = L < 3 || B[0] > M || M > Y) && (B[4] = L, B[5] = M, R.n = Y, $ = 0));
        }
        if (V || L > 1) return l;
        throw D = !0, M;
      }
      return function(L, M, V) {
        if (A > 1) throw TypeError("Generator is already running");
        for (D && M === 1 && O(M, V), $ = M, I = V; (t = $ < 2 ? e : I) || !D; ) {
          _ || ($ ? $ < 3 ? ($ > 1 && (R.n = -1), O($, I)) : R.n = I : R.v = I);
          try {
            if (A = 2, _) {
              if ($ || (L = "next"), t = _[L]) {
                if (!(t = t.call(_, I))) throw TypeError("iterator result is not an object");
                if (!t.done) return t;
                I = t.value, $ < 2 && ($ = 0);
              } else $ === 1 && (t = _.return) && t.call(_), $ < 2 && (I = TypeError("The iterator does not provide a '" + L + "' method"), $ = 1);
              _ = e;
            } else if ((t = (D = R.n < 0) ? I : y.call(S, R)) !== l) break;
          } catch (B) {
            _ = e, $ = 1, I = B;
          } finally {
            A = 1;
          }
        }
        return { value: t, done: D };
      };
    }(h, v, g), !0), b;
  }
  var l = {};
  function a() {
  }
  function s() {
  }
  function d() {
  }
  t = Object.getPrototypeOf;
  var u = [][r] ? t(t([][r]())) : (et(t = {}, r, function() {
    return this;
  }), t), c = d.prototype = a.prototype = Object.create(u);
  function f(h) {
    return Object.setPrototypeOf ? Object.setPrototypeOf(h, d) : (h.__proto__ = d, et(h, o, "GeneratorFunction")), h.prototype = Object.create(c), h;
  }
  return s.prototype = d, et(c, "constructor", d), et(d, "constructor", s), s.displayName = "GeneratorFunction", et(d, o, "GeneratorFunction"), et(c), et(c, o, "Generator"), et(c, r, function() {
    return this;
  }), et(c, "toString", function() {
    return "[object Generator]";
  }), (nr = function() {
    return { w: i, m: f };
  })();
}
function et(e, t, n, r) {
  var o = Object.defineProperty;
  try {
    o({}, "", {});
  } catch {
    o = 0;
  }
  et = function(l, a, s, d) {
    if (a) o ? o(l, a, { value: s, enumerable: !d, configurable: !d, writable: !d }) : l[a] = s;
    else {
      var u = function(f, h) {
        et(l, f, function(p) {
          return this._invoke(f, h, p);
        });
      };
      u("next", 0), u("throw", 1), u("return", 2);
    }
  }, et(e, t, n, r);
}
function yl(e, t, n, r, o, i, l) {
  try {
    var a = e[i](l), s = a.value;
  } catch (d) {
    return void n(d);
  }
  a.done ? t(s) : Promise.resolve(s).then(r, o);
}
function Os(e) {
  return function() {
    var t = this, n = arguments;
    return new Promise(function(r, o) {
      var i = e.apply(t, n);
      function l(s) {
        yl(i, r, o, l, a, "next", s);
      }
      function a(s) {
        yl(i, r, o, l, a, "throw", s);
      }
      l(void 0);
    });
  };
}
function Et(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = c6(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function c6(e, t) {
  if (e) {
    if (typeof e == "string") return bl(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? bl(e, t) : void 0;
  }
}
function bl(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
function Ms(e, t) {
  if (e == null) return {};
  var n = {};
  for (var r in e) if ({}.hasOwnProperty.call(e, r)) {
    if (t.indexOf(r) !== -1) continue;
    n[r] = e[r];
  }
  return n;
}
function Q() {
  return Q = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, Q.apply(null, arguments);
}
var Z = {
  validConfig: {
    message: "tooltip",
    icon: Nr()
  },
  editConfig: {
    trigger: "click",
    mode: "cell",
    showStatus: !0
  },
  // 默认开启点击头部单元格触发排序
  sortConfig: {
    multipleColumnSort: !1
  },
  // 默认不开启隔行换色和行高亮，不暴露此配置
  stripe: !1,
  // saas下默认不开启隔行换色和行高亮
  stripeSaas: !1,
  // saas下默认开启下划线
  borderSaas: !0,
  // saas下通过borderVertical开启边框竖线
  borderVertical: !1,
  // 鼠标移入表格行是否高亮显示
  highlightHoverRow: !0,
  resizable: !0,
  // 操作列（type为index或radio或selection的列）默认不可拖动列宽
  operationColumnResizable: !1,
  fit: !0,
  showHeader: !0,
  defaultTreeIndent: 16,
  defaultTreeSpacing: 30,
  rowId: "_RID",
  // 行数据的唯一主键字段名
  version: 0,
  // 版本号，对于某些带数据缓存的功能有用到，上升版本号可以用于重置数据
  optimization: {
    animat: !0,
    delayHover: 250,
    scrollDelay: 60,
    scrollX: {
      gt: 100
    },
    scrollY: {
      gt: 500
    }
  },
  icon: {
    sortAsc: Kp(),
    sortDesc: Pp(),
    sortDefault: xp(),
    required: "tiny-grid-required-icon",
    filter: Oh(),
    edit: Ea(),
    tree: "tiny-grid-icon__caret-right",
    refresh: Fu(),
    minscreen: zd(),
    fullscreen: Fd(),
    custom: uh(),
    jumpPrev: "tiny-grid-icon__d-arrow-left",
    jumpNext: "tiny-grid-icon__d-arrow-right",
    prevPage: "tiny-grid-icon__arrow-left",
    nextPage: "tiny-grid-icon__arrow-right",
    zoomIn: "tiny-grid-icon__zoomin",
    zoomOut: "tiny-grid-icon__zoomout",
    modalClose: "tiny-grid-icon__close",
    modalInfo: "tiny-grid-icon__info",
    modalSuccess: "tiny-grid-icon__success",
    modalWarning: "tiny-grid-icon__warning",
    modalError: "tiny-grid-icon__error",
    modalQuestion: "tiny-grid-icon__question",
    modalLoading: "tiny-grid-icon__refresh roll",
    caretBottom: "tiny-grid-icon__caret-bottom",
    dropdownBottom: "tiny-grid-icon__arrow-bottom",
    btnLoading: "tiny-grid-icon__refresh roll"
  },
  grid: {},
  menu: {},
  tooltip: {
    trigger: "hover",
    effect: "light"
  },
  pager: {},
  toolbar: {
    resizable: {
      storage: !1
    },
    buttons: []
  },
  modal: {
    zIndex: 2e3,
    minWidth: 340,
    minHeight: 200,
    lockView: !0,
    mask: !0,
    duration: 3e3,
    marginSize: 10,
    animat: !0
  },
  i18n: function(t) {
    return t;
  },
  constant: {
    insertedField: "_$inserted",
    deletedField: "_$deleted",
    asyncPrefix: "_$async_"
  },
  TINY_TABLE_CUSTOM_COLUMN_WIDTH: "TINY_TABLE_CUSTOM_COLUMN_WIDTH",
  TINY_TABLE_CUSTOM_SETTING: "TINY_TABLE_CUSTOM_SETTING",
  viewConfig: {
    // 视图类型
    DEFAULT: "default",
    MF: "mf",
    CARD: "card",
    LIST: "list",
    GANTT: "gantt",
    CUSTOM: "custom",
    // 移动优先视图下展示类型
    MF_SHOW_LIST: "list",
    MF_SHOW_CARD: "card",
    // 在不同视图下表格模块的显示
    toolbar: {
      default: "block",
      mf: "hidden sm:block",
      card: "hidden sm:block"
    },
    pager: {
      default: "block",
      mf: "hidden sm:block",
      card: "hidden sm:block"
    },
    columnAnchor: {
      default: "flex",
      mf: "hidden sm:flex",
      card: "hidden"
    },
    hiddenColumn: {
      default: "block",
      mf: "hidden sm:block",
      card: "hidden"
    },
    tableHeader: {
      default: "block",
      mf: "hidden sm:block",
      card: "hidden"
    },
    emptyData: {
      default: "block",
      mf: "hidden sm:block",
      card: "hidden"
    },
    tableBody: {
      default: "block",
      mf: "hidden sm:block",
      card: "hidden"
    },
    tableFooter: {
      default: "block",
      mf: "hidden sm:block",
      card: "hidden"
    },
    fixedColumn: {
      default: "block",
      mf: "hidden sm:block",
      card: "hidden"
    },
    borderLine: {
      default: "block",
      mf: "hidden sm:block",
      card: "hidden"
    },
    resizeBar: {
      default: "block",
      mf: "hidden sm:block",
      card: "hidden"
    },
    gridLoading: {
      default: "block",
      mf: "hidden sm:block",
      card: "hidden"
    },
    tableWrapper: {
      default: "block",
      mf: "hidden sm:block",
      card: "hidden"
    },
    selectToolbar: {
      default: "block",
      mf: "hidden sm:block",
      card: "hidden"
    },
    mfTable: {
      default: "hidden",
      mf: "block sm:hidden",
      card: "block"
    },
    footerBorder: {
      default: "block",
      mf: "hidden sm:block",
      card: "hidden"
    },
    operButton: {
      default: "inline-block",
      mf: "hidden sm:inline-block",
      card: "hidden"
    }
  },
  themes: {
    TINY: "tiny",
    SAAS: "saas"
  },
  rowHeight: {
    tiny: {
      mini: 32,
      small: 40,
      default: 48,
      medium: 52
    },
    saas: {
      mini: 32,
      small: 36,
      default: 36,
      medium: 40
    }
  },
  headerRowHeight: {
    tiny: {
      mini: 28,
      small: 32,
      default: 40,
      medium: 40
    },
    saas: {
      mini: 32,
      small: 36,
      default: 36,
      medium: 40
    }
  },
  // 空数据最小表格高度
  emptyMinHeight: 200,
  columnLevelKey: "ColumnLevelProvideKey",
  defaultColumnName: te + "GridColumn"
};
function f6() {
  for (var e = Z.viewConfig, t = 0, n = Object.keys(e); t < n.length; t++) {
    var r = n[t];
    typeof e[r] == "object" && (e[r].list = e[r].card, e[r].gantt = e[r].card, e[r].custom = e[r].card);
  }
}
f6();
var h6 = function(t) {
  t === void 0 && (t = {});
  var n = Z.icon, r = Z.menu;
  t.menu && (r = Ae(!0, {}, r, t.menu)), t.icon && (n = Ae(!0, {}, n, t.icon)), Ae(!0, Z, t, {
    icon: n,
    menu: r
  });
};
function xs(e, t) {
  var n = e.name, r = e.attrs, o = r;
  return typeof r == "function" && (o = r(t)), n === "input" && (o = Q({
    type: "text"
  }, o)), o;
}
var Ci = function(t, n, r) {
  return t.type === "visible" || r.$type === "cell";
};
function Ds(e, t) {
  var n = e.refresh, r = n === void 0 ? !1 : n, o = t.$table, i = t.row, l = o.editConfig, a = l === void 0 ? {} : l;
  return o.isTemporaryRow(i) || !a.showStatus || typeof r == "boolean" && r || typeof r == "function" && r(t);
}
function As(e, t, n) {
  var r, o = e.component, i = o === void 0 ? {} : o, l = e.events, a = l === void 0 ? {} : l, s = typeof i == "string", d = i.model || {}, u = i === "select" ? "change" : s ? "input" : d.event || "update:modelValue", c = a.input, f = a.change, h = Ms(a, i6), p = t.$table, v = t.column, g = t.row, m = v.model, b = (r = {}, r[u] = function(w) {
    var _ = s ? w.target.value : w;
    Ci(e, t, n) || (m.update = !0, m.value = _), un(g, v, _), Promise.resolve().then(function() {
      p.updateStatus(t, _, e);
    }), s && (c && c.apply(null, [t].concat.apply(t, arguments)), f && f.apply(null, [t].concat.apply(t, arguments))), Ds(e, t) && p.editStore.editorAutoRefreshKey++;
  }, r), y = s ? h : a, S = function(_) {
    return function() {
      _.apply(null, [t].concat.apply(t, arguments));
    };
  };
  return ur(b, vi(y, S)), b;
}
function wi(e, t, n, r, o) {
  var i = n.optionProps, l = i === void 0 ? {} : i, a = l.label || "label", s = l.value || "value", d = r.column, u = r.row, c = d.own.formatConfig, f = Ci(n, r, o) ? Ln(u, d) : d.model.value;
  !t && c && c.data && (t = c.data);
  var h = !1, p = t.map(function(v, g) {
    var m = v.value === f;
    m && (h = !0);
    var b = {
      domProps: {
        value: v[s],
        selected: m
      },
      key: g
    };
    return e("option", b, v[a]);
  });
  return t.length && !h && p.unshift(e("option", {
    style: "display:none",
    selected: !0
  }, "")), p;
}
function Ls(e, t, n, r) {
  var o = t.optionGroups, i = t.optionGroupProps, l = i === void 0 ? {} : i, a = l.label || "label", s = l.options || "options";
  return o.map(function(d, u) {
    var c = {
      domProps: {
        label: d[a]
      },
      key: u
    }, f = wi(e, d[s], t, n, r);
    return e("optgroup", c, f);
  });
}
function p6(e, t, n, r) {
  var o = t.filterMultiple ? "changeMultipleOption" : "changeRadioOption", i = e[o];
  i({}, n, r);
}
function Rs(e, t, n, r) {
  var o, i = t.events, l = t.name, a = n.column, s = l === "select" ? "change" : "input", d = (o = {}, o[s] = function(c) {
    e.data = c.target.value, p6(r, a, !!e.data, e);
  }, o);
  if (i) {
    var u = function(f) {
      return function() {
        f.apply(null, [n].concat.apply(n, arguments));
      };
    };
    ur(d, vi(i, u));
  }
  return d;
}
function v6(e, t, n, r) {
  var o = t.name, i = n.column, l = xs(t, n);
  return i.filters.map(function(a) {
    var s = {
      class: "tiny-grid-default-" + o,
      attrs: l,
      domProps: {
        value: a.data
      },
      on: Rs(a, t, n, r)
    };
    return e(o, s);
  });
}
function g6(e) {
  var t = e.option, n = e.row, r = e.column, o = fe(n, r.property), i = t.data;
  return o == i;
}
function m6(e, t, n, r) {
  var o = n.column, i = n.$table, l = n.row, a = "editor-" + Fe(i, l) + "-" + o.id, s = {
    ref: a,
    class: "tiny-grid-default-select",
    on: As(t, n, r)
  }, d = t.optionGroups ? Ls(e, t, n, r) : wi(e, t.options, t, n, r);
  return [e("select", s, d)];
}
function Cl(e, t, n, r) {
  var o, i = n.$table, l = n.column, a = n.row, s = l.formatValue, d = s === void 0 ? function(x) {
    var D = x.cellValue;
    return D;
  } : s, u = l.own, c = u.formatConfig || {}, f = t.children, h = t.component, p = h === void 0 ? {} : h, v = xs(t, n), g = Ci(t, n, r) ? Ln(a, l) : l.model.value, m = d(Q({
    cellValue: g
  }, n)), b = ~["input", "textarea", "select"].indexOf(p), y = p.model || {}, S = typeof p == "string" ? "value" : y.prop || "modelValue", w = "editor-" + Fe(i, a) + "-" + l.id, _ = a[i.rowId], $ = {
    ref: w,
    key: _,
    class: b ? "tiny-grid-default-" + p : "",
    attrs: Q({
      formatOpt: c,
      options: c.data
    }, v, (o = {}, o[S] = m, o)),
    on: As(t, n, r)
  };
  Ds(t, n) && ($.attrs.editorAutoRefreshKey = i.editStore.editorAutoRefreshKey);
  var I = f ? f(Q({
    props: $
  }, n), e) : null, A = [e(N.toRaw(p), $, I)];
  return b ? A : [e("div", {
    class: "tiny-grid-editor"
  }, A)];
}
var y6 = function() {
  var t = [["autofocus", "input"], ["renderEdit", Cl], ["renderDefault", Cl], ["renderFilter", v6], ["filterMethod", g6]], n = function(i) {
    var l = {};
    return i.forEach(function(a) {
      return l[a[0]] = a[1];
    }), l;
  }, r = {};
  return r.input = n(t), t[0][1] = "textarea", r.textarea = n(t), t.splice(0, 1), t[0][1] = t[1][1] = m6, t[2][1] = function(o, i, l, a) {
    var s = i.attrs, d = l.column;
    return d.filters.map(function(u) {
      var c = {
        attrs: s,
        class: "tiny-grid-default-select",
        on: Rs(u, i, l, a)
      }, f = i.optionGroups ? Ls(o, i, l) : wi(o, i.options, i, l);
      return o("select", c, f);
    });
  }, r.select = n(t), r;
}, Nn = y6(), b6 = function() {
  var t = {};
  return t.mixin = function(n) {
    return xt(n, function(r, o) {
      return t.add(o, r);
    }), t;
  }, t.get = function(n) {
    return Fr(n) || Je(n) ? Nn.input : Nn[n] || null;
  }, t.add = function(n, r) {
    var o, i = n && r;
    return i && (o = Nn[n], o ? Object.assign(o, r) : Nn[n] = r), t;
  }, t.delete = function(n) {
    return delete Nn[n], t;
  }, t;
}, Si = b6(), wl = [], Vs = ja, Ns = ja, Re = {
  use: function(t, n) {
    return t && t.install && (wl.includes(t) || (t.install(this, n), wl.push(t))), this;
  },
  setup: h6,
  interceptor: ds,
  renderer: Si,
  buttons: Vs,
  menus: Ns,
  _tooltip: !0
}, Ps = function(t, n) {
  if (t && t.$table) {
    var r = t.$table.getEventTargetNode, o = document.body;
    if (r(n, o, "tiny-autocomplete-suggestion").flag || r(n, o, "tiny-select-dropdown").flag || r(n, o, "tiny-cascader__dropdown").flag || r(n, o, "tiny-cascader-menus").flag || r(n, o, "tiny-picker-panel").flag || r(n, o, "tiny-popper").flag || r(n, o, "tiny-dialog-box").flag)
      return !1;
  }
};
Re.interceptor.add("event.clear_actived", Ps);
Re.interceptor.add("event.clear_filter", Ps);
var Fs = function(t) {
  return function(n, r) {
    var o = "[tiny-grid] " + (Z.i18n(n) || n);
    return r && (o += ": " + r), ya[t](o), o;
  };
}, bt = Fs("warn"), tt = Fs("error"), pn = {
  LONGDATETIME: "yyyy-MM-dd hh:mm:ss",
  DATETIME: "yyyy-MM-dd hh:mm",
  DATE: "yyyy-MM-dd",
  LONGTIME: "hh:mm:ss",
  TIME: "hh:mm",
  YEARMONTH: "yyyy-MM"
}, vn = function(t, n) {
  var r = Q({
    dateFormat: n
  }, this.own.formatConfig);
  if (t)
    if (typeof t == "string") {
      if (r.valueFormat)
        t = Ai(t, r.valueFormat);
      else if (bt("ui.grid.error.missingValueFormat"), isNaN(Date.parse(t)))
        return t;
    } else typeof t == "number" && (t = new Date(t));
  if (r.isutc8) {
    if (!t)
      return t;
    var o = 0 - (/* @__PURE__ */ new Date()).getTimezoneOffset() / 60, i = Ad(sa(t) ? t : new Date(Ai(t)), o, r.timezone || 8);
    return Ld(i, r.dateFormat);
  }
  return Rd(t, r.dateFormat, r.timezone);
}, C6 = {
  money: function(t) {
    var n = "$", r = Q({
      fraction: 2,
      flag: n + "{0}"
    }, this.own.formatConfig);
    return Dd(t, r.fraction, r.flag, "");
  },
  enum: function(t) {
    var n = Q({
      label: "label",
      value: "value"
    }, this.own.formatConfig), r = Array.isArray(n.data) && Le(n.data, function(o) {
      return o[n.value] === t;
    });
    return r ? r[n.label] : "";
  },
  select: function(t) {
    var n = this.editor, r = n.options, o = n.optionGroups, i = n.optionProps, l = i === void 0 ? {} : i, a = n.optionGroupProps, s = a === void 0 ? {} : a, d = this.own.formatConfig;
    if (Ke(t) || t === "")
      return "";
    var u, c = l.label || "label", f = l.value || "value";
    if (o) {
      for (var h = s.options || "options", p = 0; p < o.length && (u = Le(o[p][h], function(v) {
        return v[f] === t;
      }), !u); p++)
        ;
      return u ? u[c] : null;
    } else
      return !r && d && d.async && d.data && (r = d.data), u = Le(r, function(v) {
        return v[f] === t;
      }), u ? u[c] : null;
  },
  number: function(t) {
    var n = Q({
      fraction: 2
    }, this.own.formatConfig);
    return xd(t, n.fraction, !1, "");
  },
  integer: function(t) {
    return Md(t, "");
  },
  filesize: function(t) {
    var n = Q({}, this.own.formatConfig);
    return Od(t, n.unit, n.currUnit);
  },
  date: function(t) {
    return vn.call(this, t, pn.DATE);
  },
  dateTime: function(t) {
    return vn.call(this, t, pn.DATETIME);
  },
  longDateTime: function(t) {
    return vn.call(this, t, pn.LONGDATETIME);
  },
  time: function(t) {
    return vn.call(this, t, pn.TIME);
  },
  longTime: function(t) {
    return vn.call(this, t, pn.LONGTIME);
  },
  yearMonth: function(t) {
    return vn.call(this, t, pn.YEARMONTH);
  },
  ellipsis: function(t) {
    var n = Q({}, this.own.formatConfig);
    return function(r) {
      return r("div", {
        class: "data-ellipsis"
      }, [r("span", {
        domProps: {
          title: t
        }
      }, Ed(t, n.len))]);
    };
  },
  /**
   * rate 渲染器的计算规则：
   * 如果配置了 max，就按照 value / max 计算样式百分比，按照 value / 1 计算显示百分比；
   * 如果未配置 max，就按照 value / total 计算样式百分比和显示百分比；
   * @param {Number} value
   * @returns Function
   */
  rate: function(t) {
    var n = Q({
      fraction: 2,
      total: 1,
      section: [30, 60, 90]
    }, this.own.formatConfig), r = n.rateMethod, o, i = n.total, l = function(p, v) {
      var g;
      return v.max && typeof v.max == "number" && typeof p == "number" && (i = 1, g = Di(p / v.max, i, n.fraction)), g;
    }, a = l(t, n);
    typeof r == "function" ? o = r.call(this, t, Object.assign({
      formatTotal: i
    }, n)) : o = Di(t, i, n.fraction), a = a || o;
    var s = n.section, d = "";
    if (s) {
      var u = parseInt(a, 10);
      if (!ii(u))
        return o;
      if (u === 100)
        d = " tiny-grid__chart-completed";
      else {
        var c = {
          0: " tiny-grid__chart-danger",
          1: " tiny-grid__chart-warning",
          2: " tiny-grid__chart-normal"
        };
        Array.isArray(s) || (s = s.split(","));
        for (var f = 0; f < s.length; f++)
          if (u < s[f]) {
            d = c[f];
            break;
          }
      }
    }
    return function(h) {
      return h("div", {
        class: "tiny-grid__data-rate"
      }, [h("div", {
        class: "tiny-grid__rate-chart" + d,
        style: {
          width: a
        }
      }), h("span", {
        class: "tiny-grid__rate-text"
      }, o)]);
    };
  },
  boole: function(t) {
    var n = {
      trueValue: !0,
      falseValue: !1,
      htmlView: !0,
      noFork: !1
    }, r = Object.assign(n, this.own.formatConfig), o = Ke(r.trueValue) ? Id(t) : t === r.trueValue;
    if (!r.htmlView)
      return o;
    if (r.noFork && !t)
      return "";
    var i = o ? Zh() : dn();
    return function(l) {
      return l("div", {
        class: "tiny-grid__data-boole"
      }, [l(i, {
        class: ["tiny-svg-size", o ? "icon-yes" : "icon-close"]
      })]);
    };
  }
};
function w6(e) {
  var t = e.editor, n = e.formatConfig, r = e.formatText, o = r || n.type;
  return !o && t && t.component === "select" && (o = "select"), o;
}
function S6(e) {
  var t = e.$table, n = e.cacheFormat, r = e.row, o, i;
  return n && (o = t.fullDataRowMap.get(N.toRaw(r)), i = o.formatData, i || (i = t.fullDataRowMap.get(N.toRaw(r)).formatData = {})), {
    rest: o,
    formatData: i
  };
}
function $6(e) {
  var t = e.async, n = e.cellValue, r = e.colid, o = e.formatData, i = e.rest;
  return i && o[r] && o[r].value === n && (!t || o[r].label);
}
function k6(e) {
  var t = e.cellLabel, n = e.cellValue, r = e.column, o = e.formatText, i = e.hasCacheVal, l = e.params, a = e.renderType, s = e.row;
  if (!i) {
    var d = s[Z.constant.insertedField + r.property], u = {
      cellValue: n
    };
    d && (u.cellLabel = d), t = Jn(a) ? C6[a].call(r, n) : o(Object.assign(u, l));
  }
  return t;
}
function T6(e) {
  var t = e.cellLabel, n = e.cellValue, r = e.colid, o = e.formatData;
  o && (o[r] = {
    value: n,
    label: t
  });
}
var Zo = function(t, n, r) {
  var o = n.formatText, i = n.editor, l = n.own.formatConfig, a = l === void 0 ? {} : l, s = Ln(t, n), d = s, u = w6({
    editor: i,
    formatConfig: a,
    formatText: o
  });
  if (r && u) {
    var c = r.$table, f = n.id, h = n.own.formatConfig, p = h === void 0 ? {} : h, v = p.async === !0, g = c == null ? void 0 : c.fullDataRowMap.has(N.toRaw(t)), m = S6({
      $table: c,
      cacheFormat: g,
      row: t
    }), b = m.rest, y = m.formatData, S = $6({
      async: v,
      cellValue: s,
      colid: f,
      formatData: y,
      rest: b
    });
    if (S)
      return y[f].label;
    d = k6({
      cellLabel: d,
      cellValue: s,
      column: n,
      formatText: o,
      hasCacheVal: S,
      params: r,
      renderType: u,
      row: t
    }), T6({
      cellLabel: d,
      cellValue: s,
      colid: f,
      formatData: y
    });
  }
  return d;
}, _6 = function(t, n, r) {
  r === void 0 && (r = {}), n instanceof NodeList && (n = Array.from(n));
  var o = function(M) {
    _(M) && (M.dataTransfer.effectAllowed = "move", $(M, r.dragStart));
  }, i = function(M) {
    return _d(M);
  }, l = function(M) {
    I(M) && D(M);
  }, a = function() {
    R();
  }, s = function(M) {
    I(M) && A(M, r.drop);
  }, d = [], u = [], c = [], f = /* @__PURE__ */ new WeakMap(), h = /* @__PURE__ */ new WeakMap();
  t && (Array.isArray(n) && n.length > 0 && (n.forEach(function(L) {
    if (t.contains(L)) {
      var M = L.getAttribute("draggable") === "true", V = L.dataset && L.dataset[r.groupKey || "dndGroup"] || "", B = L.dataset && L.dataset[r.idKey || "dndId"], H = L.dataset && L.dataset[r.pidKey || "dndPid"];
      if (M) {
        var Y = d.indexOf(V);
        Y === -1 ? (d.push(V), u.push([L])) : u[Y].push(L), c.push({
          dndId: B,
          dndPid: H,
          el: L
        }), h.set(L, []);
      }
    }
  }), c.forEach(function(L) {
    L.dndId;
    var M = L.dndPid, V = L.el;
    if (M) {
      var B = c.find(function(H) {
        return H.dndId === M;
      }).el;
      f.set(V, B), h.get(B).push(V);
    } else
      f.set(V, null);
  }), c.splice(0, c.length)), ee(t, "dragstart", o), ee(t, "dragover", i), ee(t, "dragenter", l), ee(t, "dragend", a), ee(t, "drop", s));
  var p, v, g, m = function(M, V) {
    var B = [], H = f.get(V);
    if (H)
      for (B.push(H); H = f.get(H), H; )
        B.push(H);
    return B.includes(M);
  }, b = function(M, V) {
    return m(V, M);
  }, y = function(M, V) {
    var B = f.get(M), H = f.get(V);
    return !B && !H || B && H && B === H;
  }, S = function(M, V) {
    return !m(M, V) && !b(M, V) && !y(M, V);
  }, w = function(M) {
    for (var V = 0; V < u.length; V++)
      for (var B = 0; B < u[V].length; B++) {
        var H = u[V][B];
        if (H === M || H.contains(M))
          return H;
      }
    return M;
  }, _ = function(M) {
    for (var V = !1, B = w(M.target), H = 0; H < u.length; H++)
      if (u[H].includes(B)) {
        V = !0;
        break;
      }
    return V;
  }, $ = function(M, V) {
    p = w(M.target);
    for (var B = 0; B < u.length; B++)
      if (u[B].includes(p)) {
        v = u[B];
        break;
      }
    typeof V == "function" && V(p, v, M);
  }, I = function(M) {
    if (!p || !v)
      return !1;
    var V = w(M.target);
    return p && V && p !== V && // 必须在同一个组内
    v.includes(V) && // 不允许从父级向子级拖拽
    !m(p, V);
  }, A = function(M, V) {
    if (g = w(M.target), typeof V == "function") {
      var B = "";
      b(p, g) ? B = "child" : y(p, g) ? B = "sibling" : S(p, g) && (B = "other"), V(B, p, g, M);
    }
    p = g = v = null;
  }, x, D = function(M) {
    r.dropClass && (R(), x = w(M.target), x && x.classList.add(r.dropClass));
  }, R = function() {
    r.dropClass && x && (x.classList.remove(r.dropClass), x = null);
  }, O = function() {
    t && (oe(t, "dragstart", o), oe(t, "dragover", i), oe(t, "dragenter", l), oe(t, "dragend", a), oe(t, "drop", s)), R(), t = n = null, d = u = null, f = h = null;
  };
  return {
    destroy: O
  };
}, I6 = "th.tiny-grid-header__column:not(.col__gutter):not(.fixed__hidden)", E6 = "dndGroup", O6 = "colid", M6 = "pColid", Sl = null, x6 = 2e3, $l = 0, D6 = function(t, n, r) {
  var o = [], i = [];
  t.forEach(function(a) {
    var s = n.get(a.dataset.colid).pColid || "";
    a.setAttribute("draggable", !0), a.setAttribute("data-p-colid", s);
    var d = o.indexOf(s);
    d === -1 ? (o.push(s), i.push([a])) : i[d].push(a);
  });
  var l;
  r || (l = ++$l), i.forEach(function(a) {
    r && (l = ++$l), a.forEach(function(s) {
      return s.setAttribute("data-dnd-group", l);
    });
  });
}, A6 = function(t) {
  var n = /* @__PURE__ */ new Map(), r = /* @__PURE__ */ new WeakMap(), o = /* @__PURE__ */ new Map(), i = function(p, v) {
    Array.isArray(p) && p.length > 0 && p.forEach(function(g) {
      r.set(g, v), o.set(g.id, g), i(g.children, g);
    });
  };
  i(t, null);
  for (var l = Et(o), a; !(a = l()).done; ) {
    var s = a.value, d = s[0], u = s[1], c = r.get(u), f = c ? c.id : "";
    n.set(d, {
      pColid: f,
      pCol: c,
      column: u
    });
  }
  return n;
}, L6 = function(t, n) {
  var r = t.dropConfig, o = (r == null ? void 0 : r.column) && (r == null ? void 0 : r.scheme) === "v2", i = function(s) {
    var d = s.dataset.colid, u = t.colidMap.get(d).pCol, c = u ? u.children : t.collectColumn, f = t.colidMap.get(d).column, h = c.indexOf(f);
    n.$emit("column-drag-start", {
      dragParentChildren: c,
      dragColumn: f,
      dragIndex: h
    }), clearTimeout(Sl);
  }, l = function(s, d, u) {
    var c, f = d.dataset.colid, h = u.dataset.colid, p = t.colidMap.get(f).pCol, v = p ? p.children : t.collectColumn, g = t.colidMap.get(f).column, m = v.indexOf(g), b = t.colidMap.get(h).pCol, y = b ? b.children : t.collectColumn, S = t.colidMap.get(h).column, w = y.indexOf(S), _ = {
      dragParentChildren: v,
      dragColumn: g,
      dragIndex: m,
      dropParentChildren: y,
      dropColumn: S,
      dropIndex: w
    };
    Td((c = t.dropConfig) == null ? void 0 : c.columnBeforeDrop, {
      args: [_],
      done: function() {
        v.splice(m, 1), y.splice(w, 0, g);
        var I = n.lastScrollLeft, A = n.lastScrollTop, x = n.scrollXLoad, D = n.scrollYLoad;
        n.loadColumn(t.collectColumn), n.$emit("column-drop", _), setTimeout(function() {
          (I || A) && (n.scrollTo(I, A), x && n.triggerScrollXEvent(), D && n.triggerScrollYEvent({
            target: {
              scrollTop: A
            }
          }));
        }), n.getVm("toolbar") && o && (Sl = setTimeout(function() {
          n.getVm("toolbar").$refs.custom.saveSettings("drag");
        }, x6));
      }
    });
  };
  return {
    dragStart: i,
    drop: l
  };
}, R6 = function(t, n, r, o) {
  return Ve(100, function() {
    var i = t.$el.querySelector("thead");
    if (i) {
      var l, a = i.querySelectorAll(I6);
      a.length > 0 && (a = Array.from(a)), D6(a, n.colidMap, r), o.has(i) && (o.get(i).destroy(), o.delete(i));
      var s = L6(n, t), d = s.dragStart, u = s.drop, c = ((l = n.dropConfig) == null ? void 0 : l.columnDropClass) || "";
      o.set(i, _6(i, a, {
        dragStart: d,
        drop: u,
        dropClass: c,
        groupKey: E6,
        idKey: O6,
        pidKey: M6
      }));
    }
  });
}, V6 = function(t) {
  var n, r, o, i = t.props, l = t.collectColumn, a = t.tableColumn, s = N.reactive({
    dropConfig: N.toRef(i, "dropConfig"),
    collectColumn: l,
    tableColumn: a,
    colidMap: null
  });
  if (!(!s.dropConfig || ((n = s.dropConfig) == null ? void 0 : n.scheme) !== "v2")) {
    var d = (r = N.getCurrentInstance()) == null ? void 0 : r.proxy;
    if ((o = s.dropConfig) != null && o.column) {
      var u, c, f = !((u = s.dropConfig) != null && u.columnGroup) || ((c = s.dropConfig) == null ? void 0 : c.columnGroup) === "level", h = /* @__PURE__ */ new Map(), p = R6(d, s, f, h);
      N.watch(l, function() {
        s.colidMap = A6(s.collectColumn);
      }), N.watch(a, function() {
        return p();
      }), N.onBeforeUnmount(function() {
        if (h.size > 0) {
          for (var v = [], g = Et(h), m; !(m = g()).done; ) {
            var b = m.value, y = b[0], S = b[1];
            v.push(y), S.destroy();
          }
          v.forEach(function(w) {
            return h.delete(w);
          });
        }
      });
    }
  }
}, N6 = function(t) {
  var n, r = t.props, o = t.visibleColumn, i = t.tableFullColumn, l = t.tableColumn, a = t.columnStore, s = N.reactive({
    rowGroup: N.toRef(r, "rowGroup"),
    visibleColumn: o,
    tableFullColumn: i,
    tableColumn: l,
    columnStore: a
  });
  if (s.rowGroup) {
    var d = (n = N.getCurrentInstance()) == null ? void 0 : n.proxy;
    N.watch([o, l], function() {
      var u = Le(s.visibleColumn, function(y) {
        return y.property === s.rowGroup.field;
      });
      if (u || (u = Le(s.visibleColumn, function(y) {
        return !!y.property;
      })), u) {
        d._rowGroupTargetColumn = u;
        var c = s.tableColumn.indexOf(u), f = s.tableColumn.length, h = s.rowGroup.colspan || 1;
        if (h = Math.max(h, 1), h > 1) {
          var p = -1, v = -1;
          (p = s.columnStore.leftList.length) > 0 && (p = p - 1), s.columnStore.rightList.length > 0 && (v = s.tableColumn.indexOf(s.columnStore.rightList[0]) - 1);
          var g;
          p > -1 && c <= p ? g = p - c + 1 : v > -1 && c <= v ? g = v - c + 1 : g = f - c, h = Math.min(h, g);
        }
        for (var m = 0; m < f; m++) {
          var b = s.tableColumn[m];
          b === u ? (b._rowGroupColspan = h, b._stickyClass = "fixed-left-last__column") : b._rowGroupColspan = m > c && m < c + h ? 0 : 1;
        }
      }
    }), N.onBeforeUnmount(function() {
      delete d._rowGroupTargetColumn, s.tableFullColumn.forEach(function(u) {
        delete u._rowGroupColspan, delete u._stickyClass;
      });
    });
  }
}, P6 = function(t, n, r) {
  var o = t.editConfig, i = o || {}, l = i.showStatus, a = l === void 0 ? !1 : l, s = i.relationFields, d = s === void 0 ? !0 : s, u = d === !0 || Array.isArray(d) && d.includes(r.property), c;
  return o && a && r.property && (r.editor || d && u) && (c = t.hasRowChange(n, r.property)), c;
}, zs = function(t, n, r) {
  var o = Fe(t, n);
  return o + "-" + r.id;
}, F6 = function(t, n, r) {
  var o = zs(t, n, r), i = P6(t, n, r), l = t.cellStatus;
  l.has(o) ? l.get(o).isDirty = i : l.set(o, {
    isDirty: i
  });
}, z6 = function(t, n) {
  t.tableFullColumn.forEach(function(r) {
    return F6(t, n, r);
  });
}, H6 = function(t, n, r) {
  var o = zs(t, n, r), i = t.cellStatus;
  return i.has(o) ? i.get(o) : {
    isDirty: !1
  };
}, B6 = function(t) {
  return Array.isArray(t) && t.length > 0;
}, j6 = 0, Hs = function(t) {
  var n = t.array, r = t.stack, o = t.tiled, i = t.map, l = t.customMappings, a = t.getID, s = t.childrenKey, d = t.sizeKey;
  if (Array.isArray(n)) {
    for (var u = r.length, c = [], f = 0; f < n.length; f++) {
      var h = n[f], p = {
        id: a(h) || ++j6,
        payload: h,
        path: [].concat(r, [h]),
        level: u,
        parentNode: u > 0 ? i.get(r[r.length - 1]) : void 0,
        childNodes: void 0,
        space: {
          originDistance: 0,
          size: h[d] || 36
        },
        mappings: l ? Object.assign({}, l({
          payload: h,
          viewIndex: o.length
        })) : {}
      };
      o.push(p), i.set(h, p), c.push(p), s && (r.push(h), p.childNodes = Hs({
        array: h[s],
        stack: r,
        tiled: o,
        map: i,
        customMappings: l,
        getID: a,
        childrenKey: s,
        sizeKey: d
      }), r.pop());
    }
    return c;
  }
}, W6 = function(t) {
  var n = t.list, r = t.getID, o = t.childrenKey, i = t.sizeKey, l = t.customMappings, a = [], s = /* @__PURE__ */ new WeakMap();
  return B6(n) && Hs({
    array: n,
    stack: [],
    tiled: a,
    map: s,
    customMappings: l,
    getID: r,
    childrenKey: o,
    sizeKey: i
  }), {
    tiled: a,
    map: s
  };
}, K6 = function(t, n) {
  return t.parentNode ? t.path.slice(0, t.path.length - 1).map(function(r) {
    return n.get(r);
  }) : [];
}, q6 = function(t, n) {
  return n(t.payload);
}, G6 = function(t, n, r) {
  return K6(t, r).every(function(o) {
    return q6(o, n);
  });
}, U6 = function(t) {
  for (var n = t.isRowExpand, r = t.tileInfo, o = r.tiled, i = r.map, l = [], a = 0, s = 0; s < o.length; s++) {
    var d = o[s];
    (!d.parentNode || G6(d, n, i)) && (d.space.originDistance = a, a += d.space.size, l.push(d));
  }
  return {
    graphed: l,
    scrollSize: a
  };
}, Bs = function(t) {
  Z6(t), zn(t);
}, Z6 = function(t) {
  var n = t.treeConfig, r = t.rowGroup, o = t.groupFullData, i = t.afterFullData, l = W6({
    list: !n && r != null && r.field ? o : i,
    getID: function(s) {
      return Fe(t, s);
    },
    childrenKey: n ? n.children : void 0
  });
  t._tileInfo = l;
}, zn = function(t) {
  var n = t.treeConfig, r = t.treeExpandeds, o = t._tileInfo;
  if (o) {
    var i = U6({
      isRowExpand: function(a) {
        return n ? r.includes(a) : !0;
      },
      tileInfo: t._tileInfo
    });
    t._graphInfo = i;
  }
}, js = function(t, n) {
  n === void 0 && (n = "children");
  for (var r = t.length, o = Et(t), i; !(i = o()).done; ) {
    var l = i.value, a = l[n];
    a && a.length > 0 && (r += js(a, n));
  }
  return r;
}, Y6 = function(t) {
  var n = t.data || [], r = t.treeConfig || {}, o = r.children;
  return t.treeConfig ? js(n, o) : n.length;
}, X6 = function(t) {
  var n, r = (n = N.getCurrentInstance()) == null ? void 0 : n.proxy, o = N.ref(0);
  return N.watch([function() {
    return t.data;
  }, function() {
    return Y6(t);
  }], function(i) {
    i[0];
    var l = i[1];
    o.value = l, r == null || r.handleDataChange();
  }), {
    tiledLength: o
  };
}, Ws = function(t) {
  var n = 0, r = [], o = /* @__PURE__ */ new WeakMap(), i = /* @__PURE__ */ new WeakMap(), l = function(c, f, h) {
    Array.isArray(c) && c.length > 0 ? (f > n && (n = f), c.forEach(function(p) {
      h && o.set(p, h), i.set(p, f), l(p.children, f + 1, p);
    })) : r.push(h);
  };
  l(t, 0, null);
  for (var a = [], s = /* @__PURE__ */ new WeakMap(), d = 0; d <= n; d++)
    a[d] = new Array(r.length).fill(0);
  return r.forEach(function(u, c) {
    var f = i.get(u);
    s.set(u, n - f + 1), a[f][c] = u;
    for (var h = f - 1; h >= 0; h--)
      u = a[h][c] = o.get(u);
  }), {
    leafColumns: r,
    headerTable: a,
    rowspanMap: s,
    maxLevel: n
  };
}, Q6 = function(t, n, r) {
  var o = t.map(function(l) {
    return n.leafColumns.indexOf(l);
  }), i = [];
  return n.headerTable.forEach(function(l, a) {
    var s = /* @__PURE__ */ new WeakMap();
    i[a] = o.map(function(d) {
      return l[d];
    }).reduce(function(d, u) {
      return u && (d.includes(u) || d.push(u), s.has(u) ? s.set(u, s.get(u) + 1) : s.set(u, 1)), d;
    }, []).map(function(d) {
      var u = n.rowspanMap.get(d) || 1;
      return {
        id: d.id,
        column: d,
        colspan: s.get(d),
        rowspan: u,
        height: u * r,
        top: a * r
      };
    });
  }), i;
}, J6 = function(t, n, r) {
  var o = N.ref([]), i = n.$parent, l = i.showHeader, a = N.ref();
  return N.watch(function() {
    return t.collectColumn;
  }, function() {
    var s = a.value = Ws(t.collectColumn);
    l && (i.headerHeight = (s.maxLevel + 1) * r.value);
  }), N.watch([function() {
    return t.tableColumn;
  }, a], function() {
    var s = a.value;
    l && s && (o.value = Q6(t.tableColumn, s, r.value));
  }), {
    headerTable: o
  };
}, gr = function(t, n) {
  var r, o, i, l, a = t.target, s = a.closest(".tiny-grid__body");
  if (((r = s.dataset) == null ? void 0 : r.tableid) === String(n.id)) {
    var d = a.closest(".tiny-grid-header__column"), u, c, f, h, p;
    if (d ? (u = d.parentNode, c = "header") : (d = a.closest(".tiny-grid-body__column")) ? (u = d.parentNode, c = "body") : (d = a.closest(".tiny-grid-footer__column")) && (u = d.parentNode, c = "footer"), !(!c || !d || !u)) {
      if (p = (o = n.getColumnNode(d)) == null ? void 0 : o.item, (i = u.dataset) != null && (l = i.rowid) != null && l.startsWith("row_g_"))
        f = "virtual";
      else if (c === "body") {
        var v;
        f = "normal", h = (v = n.getRowNode(u)) == null ? void 0 : v.item;
      }
      return {
        part: c,
        rowType: f,
        row: h,
        column: p,
        cell: d,
        tr: u
      };
    }
  }
}, mr = function(t) {
  return gt(t) ? t : parseInt(t, 10);
}, kl = function(t, n) {
  t = Ke(t) ? n : t;
  var r = t === "title", o = t === !0 || t === "tooltip", i = t === "ellipsis", l = r || o || i;
  return {
    overflow: t,
    overflowTitle: r,
    overflowTooltip: o,
    overflowEllipsis: i,
    overflowHint: l
  };
}, Hr = function(t, n) {
  var r = n.showOverflow, o = n.showHeaderOverflow, i = t || {}, l = i.showTip, a = i.showOverflow, s = i.showHeaderTip, d = i.showHeaderOverflow, u = kl(a, r), c = u.overflowTitle, f = u.overflowTooltip, h = u.overflowEllipsis, p = u.overflowHint, v = kl(d, o), g = v.overflowTitle, m = v.overflowTooltip, b = v.overflowEllipsis, y = v.overflowHint;
  return {
    cellTip: l,
    cellOverflowTitle: c,
    cellOverflowTooltip: f,
    cellOverflowEllipsis: h,
    cellOverflowHint: p,
    headerTip: s,
    headerOverflowTitle: g,
    headerOverflowTooltip: m,
    headerOverflowEllipsis: b,
    headerOverflowHint: y
  };
}, yr = function(t, n) {
  var r = t.row, o = t.column, i = t.cell, l = t.tr, a = o || {}, s = a.showTip, d = a.showHeaderTip, u = n.getRowIndex(r), c = n.getColumnIndex(o), f = (i == null ? void 0 : i.dataset) || {}, h = f.seq, p = f.colindex, v = (l == null ? void 0 : l.dataset) || {}, g = v.rowindex, m = v.rowlevel;
  return {
    $table: n,
    row: r,
    column: o,
    cell: i,
    rowIndex: u,
    columnIndex: c,
    showTip: s,
    showHeaderTip: d,
    seq: mr(h),
    $rowIndex: mr(g),
    $columnIndex: mr(p),
    level: mr(m)
  };
}, Tl = function(t) {
  return t._isResize || t.lastScrollTime && Date.now() < t.lastScrollTime + t.optimizeOpts.delayHover;
}, eI = function(t) {
  var n = t.table, r = t.$table, o = !1, i = N.shallowRef(), l = N.shallowRef(), a = N.shallowRef(), s = N.shallowRef(), d, u = function(b) {
    if (!Tl(r)) {
      var y = gr(b, r);
      if (y) {
        var S = yr(y, r);
        i.value !== y.cell && (i.value = y.cell, l.value = {
          params: S,
          source: y,
          e: b
        }, d = i.value.querySelector(".tiny-grid-cell-text") || i.value.querySelector(".tiny-grid-cell")), b.target === d && (s.value = d), y.part !== "body" ? a.value = null : a.value !== y.row && (a.value = y.row);
      }
    }
  }, c = function(b) {
    var y;
    if (!Tl(r)) {
      var S = b.target;
      S === s.value && (s.value = null), S.localName === "table" && ((y = S.dataset) == null ? void 0 : y.tableid) === String(r.id) && (a.value = i.value = l.value = null);
    }
  }, f = function(b) {
    var y = gr(b, r);
    if (y) {
      var S = yr(y, r), w = r.mouseConfig, _ = w === void 0 ? {} : w;
      y.part === "header" && _.checked && r.triggerHeaderCellMousedownEvent(b, S), y.part === "body" && (_.checked || _.selected) && r.triggerCellMousedownEvent(b, S);
    }
  }, h = function(b) {
    var y = gr(b, r);
    if (y) {
      var S = yr(y, r), w = y.column || {}, _ = w.editor, $ = function(ye, Pe) {
        return Pe === "row" || ye(w) && Pe === "cell";
      }, I = r.editConfig, A = r.expandConfig, x = A === void 0 ? {} : A, D = r.highlightCurrentColumn, R = r.highlightCurrentRow, O = r.mouseConfig, L = O === void 0 ? {} : O, M = r.radioConfig, V = M === void 0 ? {} : M, B = r.selectConfig, H = B === void 0 ? {} : B, Y = r.sortOpts, re = r.tableListeners, ue = r.treeConfig, ne = ue === void 0 ? {} : ue;
      if (y.part === "header" && (D || re["header-cell-click"] || L.checked || Y.trigger === "cell") && r.triggerHeaderCellClickEvent(b, S), y.part === "body" && (R || re["cell-click"] || L.checked || _ && I || $(function() {
        return !0;
      }, x.trigger) || $(function(we) {
        var ye = we.type;
        return ye === "radio";
      }, V.trigger) || $(function(we) {
        var ye = we.type;
        return ye === "selection";
      }, H.trigger) || $(function(we) {
        var ye = we.treeNode;
        return ye;
      }, ne.trigger))) {
        var se = ne.bubbling, he = ne.trigger, me = !se && (!he || he === "default") && r.getEventTargetNode(b, i.value, "tiny-grid-tree__node-btn").flag;
        me || Rt.mutate(function() {
          r.triggerCellClickEvent(b, S);
        });
      }
      y.part === "footer" && re["footer-cell-click"] && pe(r, "footer-cell-click", [S, b]);
    }
  }, p = function(b) {
    var y = gr(b, r);
    if (y) {
      var S = yr(y, r), w = y.column || {}, _ = w.editor, $ = r.editConfig, I = r.tableListeners, A = _ && $ && $.trigger === "dblclick";
      y.part === "header" && I["header-cell-dblclick"] && pe(r, "header-cell-dblclick", [S, b]), y.part === "body" && (A || I["cell-dblclick"]) && r.triggerCellDBLClickEvent(b, S), y.part === "footer" && I["footer-cell-dblclick"] && pe(r, "footer-cell-dblclick", [S, b]);
    }
  }, v = function(b) {
    ee(b, "mouseenter", u, !0), ee(b, "mouseleave", c, !0), ee(b, "mousedown", f, !0), ee(b, "click", h, !0), ee(b, "dblclick", p, !0);
  }, g = function(b) {
    oe(b, "mouseenter", u, !0), oe(b, "mouseleave", c, !0), oe(b, "mousedown", f, !0), oe(b, "click", h, !0), oe(b, "dblclick", p, !0);
  };
  N.onBeforeUnmount(function() {
    o && n.value && (g(n.value), o = !1, a.value = i.value = l.value = null, r.hoverCell = null);
  }), N.watch(n, function(m, b) {
    o && b && (g(b), o = !1), !o && m && (v(m), o = !0);
  }), N.watch(s, function(m, b) {
    var y = l.value, S = y.params, w = y.source, _ = y.e, $ = w.column || {}, I = Hr($, r), A = I.headerOverflowTitle, x = I.headerOverflowTooltip, D = I.headerTip, R = I.cellOverflowTitle, O = I.cellOverflowTooltip, L = I.cellTip;
    r.hoverText = m, b && (w.part === "header" ? (D || x) && r.clostTooltip() : w.part === "body" ? (L || O) && r.clostTooltip() : w.part === "footer" && O && r.clostTooltip()), m && (w.part === "header" ? A ? eo(_, w.cell) : (D || x) && r.triggerHeaderTooltipEvent(_, S) : w.part === "body" ? R ? eo(_, w.cell) : (L || O) && r.triggerTooltipEvent(_, S) : w.part === "footer" && (R ? eo(_, w.cell) : O && r.triggerFooterTooltipEvent(_, S)));
  }), N.watch([i, l], function(m, b) {
    var y = m[0], S = m[1], w = b[0], _ = b[1], $ = r.tableListeners;
    if (w) {
      var I = _.params, A = _.source, x = _.e;
      A.part === "body" && $["cell-mouseleave"] && pe(r, "cell-mouseleave", [I, x]);
    }
    if (y) {
      var D = S.params, R = S.source, O = S.e;
      r.hoverCell = y, R.part === "body" && $["cell-mouseenter"] && pe(r, "cell-mouseenter", [D, O]);
    }
  });
}, tI = function(t, n) {
  var r = t.$parent, o = N.shallowRef({}), i = N.shallowRef({});
  return N.watch([function() {
    return r.visibleColumn;
  }, function() {
    return n.tableData;
  }, function() {
    return r.isColumnWidthAssigned;
  }, function() {
    return r.columnStore.resizeList;
  }], function(l) {
    var a = l[0], s = l[1], d = l[2];
    if (!(!Array.isArray(s) || !d)) {
      for (var u = n.tableNode, c = r.hasVirtualRow, f = r.treeConfig, h = r.treeOrdered, p = r.scrollYLoad, v = r.scrollYStore, g = r.afterFullData, m = r.columnStore, b = f || {}, y = b.hideMethod, S = f ? !!h : !1, w = {
        value: 0
      }, _ = v.startIndex, $ = m.leftList, I = m.rightList, A = {}, x = [], D = 0; D < s.length; D++) {
        var R = s[D], O = u[D].level, L = r.getRowIndex(R), M = !1;
        c && (M = $i(R));
        var V = y && y(R, O) || M;
        V || (w.value = w.value + 1);
        var B = S ? w.value : D + 1;
        if (p && (B += _), c) {
          if (M)
            continue;
          B = g.indexOf(R) + 1;
        }
        var H = {
          $table: r,
          data: s,
          row: R,
          $rowIndex: D,
          rowIndex: L,
          level: O,
          $seq: "",
          seq: B
        };
        nI(A, x, H, r);
      }
      $.length > 0 && br(x, $.length - 1, !0), I.length > 0 && br(x, a.indexOf(I[0]) - 1, !1), o.value = A;
    }
  }), N.watch([function() {
    return r.visibleColumn;
  }, function() {
    return n.footerData;
  }, function() {
    return r.isColumnWidthAssigned;
  }, function() {
    return r.columnStore.resizeList;
  }], function(l) {
    var a = l[0], s = l[1], d = l[2];
    if (!(!Array.isArray(s) || !d)) {
      for (var u = r.columnStore, c = u.leftList, f = u.rightList, h = {}, p = [], v = 0; v < s.length; v++) {
        var g = {
          $table: r,
          $rowIndex: v,
          data: s
        };
        rI(h, p, g, r);
      }
      c.length > 0 && br(p, c.length - 1, !0), f.length > 0 && br(p, a.indexOf(f[0]) - 1, !1), i.value = h;
    }
  }), {
    normalRows: o,
    footerRows: i
  };
}, nI = function(t, n, r, o) {
  for (var i = o.rowSpan, l = o.spanMethod, a = o.visibleColumn, s = Fe(o, r.row), d = {}, u = [], c = 0; c < a.length; c++) {
    var f = a[c], h = o.getColumnIndex(f), p = {
      rowspan: 1,
      colspan: 1,
      visible: !0,
      _stickyClass: "",
      _stickyStyle: null
    };
    r = Q({}, r, {
      column: f,
      $columnIndex: c,
      columnIndex: h
    }), (l || i) && oI({
      attrs: p,
      params: r,
      rowSpan: i,
      spanMethod: l
    }), d[f.id] = {
      attrs: p,
      params: r
    }, u.push({
      attrs: p,
      params: r
    });
  }
  t[s] = d, n.push(u);
}, rI = function(t, n, r, o) {
  for (var i = o.footerSpanMethod, l = o.visibleColumn, a = {}, s = [], d = 0; d < l.length; d++) {
    var u = l[d], c = o.getColumnIndex(u), f = {
      rowspan: 1,
      colspan: 1,
      visible: !0
    };
    if (r = Q({}, r, {
      column: u,
      $columnIndex: d,
      columnIndex: c
    }), i) {
      var h = i(r) || {}, p = h.rowspan, v = p === void 0 ? 1 : p, g = h.colspan, m = g === void 0 ? 1 : g;
      f.rowspan = v, f.colspan = m, f.visible = v > 0 && m > 0;
    }
    a[u.id] = {
      attrs: f,
      params: r
    }, s.push({
      attrs: f,
      params: r
    });
  }
  t[r.$rowIndex] = a, n.push(s);
}, oI = function(t) {
  var n = t.attrs, r = t.params, o = t.rowSpan, i = t.spanMethod, l = (i ? i(r) : iI(o, r)) || {}, a = l.rowspan, s = a === void 0 ? 1 : a, d = l.colspan, u = d === void 0 ? 1 : d;
  n.rowspan = s, n.colspan = u, n.visible = s > 0 && u > 0;
}, iI = function(t, n) {
  var r = n.row, o = n.$rowIndex, i = n.column, l = n.data, a = [];
  if (i.visible && t) {
    t.forEach(function(h) {
      return a.push(h.field);
    });
    var s = r[i.property];
    if (s && a.includes(i.property)) {
      var d = l[o - 1], u = l[o + 1];
      if ((d == null ? void 0 : d[i.property]) === s)
        return {
          rowspan: 0,
          colspan: 0
        };
      for (var c = 1; ((f = u) == null ? void 0 : f[i.property]) === s; ) {
        var f;
        u = l[++c + o];
      }
      if (c > 1)
        return {
          rowspan: c,
          colspan: 1
        };
    }
  }
}, br = function(t, n, r) {
  if (!(n < 0))
    for (var o = 0; o < t.length; o++) {
      for (var i = t[o], l = 0; l <= n && l < i.length; l++) {
        var a = i[l].attrs, s = a.colspan, d = void 0, u = void 0, c = s > 1 && (d = l + s - 1) > n;
        c && (a.colspan = n - l + 1, r && (a._stickyClass = "fixed-left-last__column"), u = i[n + 1], u && (u.attrs.colspan = d - n, u.attrs.rowspan < 1 && (u.attrs.rowspan = a.rowspan), u.attrs.visible = !0));
      }
      if (!r)
        for (var f = i.slice(n + 1).reverse(), h = 0, p = 0; p < f.length; p++) {
          var v = f[p], g = v.attrs, m = v.params;
          g.visible && (g._stickyStyle = {
            right: h + "px"
          }, h += m.column.renderWidth);
        }
    }
}, qn = N.toRaw, Ks = "_$virtual_", lI = function(t, n) {
  return t.filter(function(r) {
    return n.findIndex(function(o) {
      return r.id === o.id;
    }) === -1;
  });
}, aI = function(t) {
  var n = t.lastStartIndex, r = t.renderSize, o = t.scrollXLoad, i = t.startIndex, l = t.tableColumn, a = t.columnStore, s = t.treeConfig, d = t.visibleColumn, u = t.visibleColumnChanged, c = a.leftList, f = a.rightList, h = l.reduce(function(S, w) {
    return S + w.id;
  }, ""), p = l, v = n, g = u, m = !1, b = [];
  o && s ? (u || !~n || n !== i) && (p = d.slice(i, i + r), v = i, g = !1, m = !0) : (p = d.slice(i, i + r), m = !0), p = Array.from(/* @__PURE__ */ new Set([].concat(c, p, f)));
  var y = p.reduce(function(S, w) {
    return S + w.id;
  }, "");
  return h === y ? (p = l, m = !1) : b = lI(p, l), {
    tableColumn: p,
    lastStartIndex: v,
    visibleColumnChanged: g,
    sliced: m,
    addedColumn: b
  };
}, $i = function(t) {
  return t && t[Ks];
}, sI = function(t, n, r, o, i) {
  var l = [], a = [], s = 0, d = function(v) {
    var g;
    return v = (g = {}, g[Ks] = !0, g[i] = "row_g_" + ++s, g.value = null, g.children = [], g.fold = !1, g.hover = !1, g), l.push(v), a.push(v), v;
  }, u = d(), c, f;
  Ce(t, function(p, v) {
    v > 0 && (c = t[v - 1], f = {
      prevRow: c,
      row: p
    }), v > 0 && !r(c[n], p[n], f) && (u = d()), u.children.push(p), l.push(p);
  }), Ce(a, function(p) {
    if (p.value = p.children[0][n], typeof o == "function") {
      var v = o(p);
      p.fold = typeof v == "boolean" ? !v : !1;
    }
  });
  var h = l.map(qn);
  return Ce(a.slice().reverse(), function(p) {
    if (p.fold) {
      var v = h.indexOf(qn(p.children[0]));
      v > -1 && l.splice(v, p.children.length);
    }
  }), l;
}, dI = function(t, n) {
  var r = n.treeConfig, o = n.rowGroup, i = o || {}, l = i.field, a = i.equals, s = i.activeMethod;
  n.hasVirtualRow = !r && o && l && t.length > 0, n.hasVirtualRow && (n.groupFullData = sI(t, l, a || is, s, Ft(n)));
}, uI = function(t, n) {
  var r = n.hasVirtualRow, o = n.groupFullData, i = n.rowGroup, l = i === void 0 ? {} : i, a = l.closeable, s = a === void 0 ? !0 : a;
  if (!(!r || !s || !$i(t))) {
    t.fold = !t.fold;
    var d = o.slice(0).map(qn), u = d.indexOf(qn(t.children[0]));
    t.fold ? u > -1 && d.splice(u, t.children.length) : u === -1 && d.splice.apply(d, [d.indexOf(qn(t)) + 1, 0].concat(t.children)), n.groupFullData = d, Bs(n), n.handleTableData().then(n.recalculate);
  }
}, Br = function(t, n) {
  var r = t.fixedDetails, o = n.overflowX;
  return r && o ? r.getStyle() : {};
}, jr = function(t, n) {
  var r = t.fixedDetails, o = n.overflowX;
  return Q({
    fixed__column: r && o
  }, r && o ? r.getClass() : {});
}, cI = function(t, n) {
  return t.filter(function(r) {
    return n.findIndex(function(o) {
      return r.id === o.id;
    }) === -1;
  });
}, qs = 0, _l = function(t) {
  if (Array.isArray(t)) {
    var n = {
      pool: [],
      idViewMap: /* @__PURE__ */ new Map(),
      unusedViews: [],
      array: t
    };
    return t.forEach(function(r) {
      var o = {
        id: ++qs,
        used: !0,
        item: r
      };
      n.pool.push(o), n.idViewMap.set(r.id, o);
    }), n;
  }
}, Il = function(t, n) {
  if (Array.isArray(t)) {
    var r = cI(n.array, t), o = /* @__PURE__ */ new WeakMap();
    return r.forEach(function(i) {
      var l = n.idViewMap.get(i.id);
      l.used = !1, n.idViewMap.delete(i.id), n.unusedViews.push(l);
    }), t.forEach(function(i, l) {
      o.set(i, l);
      var a = n.idViewMap.get(i.id);
      a || (n.unusedViews.length > 0 ? a = n.unusedViews.shift() : (a = {
        id: ++qs,
        used: !0,
        item: i
      }, n.pool.push(a)), n.idViewMap.set(i.id, a)), a.used = !0, a.item = i;
    }), n.array = t, n.pool.sort(function(i, l) {
      return i.used ? l.used ? o.get(i.item) - o.get(l.item) : -1 : l.used ? 1 : 0;
    }), n;
  }
}, fI = function(t) {
  var n = N.ref([]), r = N.ref([]), o = N.ref(!0), i;
  N.watch(function() {
    return t.tableColumn;
  }, function() {
    i ? Il(t.tableColumn, i) : i = _l(t.tableColumn), n.value = i.pool;
  });
  var l;
  return N.watch(function() {
    return t.tableNode;
  }, function() {
    var a, s;
    l ? Il(t.tableNode, l) : l = _l(t.tableNode), r.value = ((a = l) == null ? void 0 : a.pool) || r.value, o.value = !(((s = t.tableNode) == null ? void 0 : s.length) > 0);
  }), {
    columnPool: n,
    rowPool: r,
    isNoData: o
  };
}, hI = Rr(), pI = ka(), vI = gv(), Yo = !0, El = function(t) {
  return E("div", {
    ref: t + "Borders",
    class: "tiny-grid-" + t + "ed-borders"
  }, [E("span", {
    ref: t + "Top",
    class: "tiny-grid-border-top"
  }, null), E("span", {
    ref: t + "Right",
    class: "tiny-grid-border-right"
  }, null), E("span", {
    ref: t + "Bottom",
    class: "tiny-grid-border-bottom"
  }, null), E("span", {
    ref: t + "Left",
    class: "tiny-grid-border-left"
  }, null)]);
};
function Gs(e) {
  var t, n, r = e.$columnIndex, o = e.$table, i = e._vm, l = e.column, a = e.id, s = e.row, d = e.rowid, u = e.seq, c = e.used, f = o.align, h = o.cellClassName, p = o.dropConfig, v = p === void 0 ? {} : p, g = o.editConfig, m = o.editRules, b = o.editStore, y = o.height, S = o.rowId, w = o.scrollXLoad, _ = o.scrollYLoad, $ = o.validOpts, I = o.validStore, A = o.validatedMap, x = i.normalRows, D = ((t = x[d]) == null ? void 0 : t[l.id]) || {}, R = D.attrs, O = R === void 0 ? {
    rowspan: 1,
    colspan: 1,
    visible: !0
  } : R, L = D.params, M = L === void 0 ? {
    $table: o,
    row: s,
    column: l
  } : L, V = $.isMessageDefault, B = $.isMessageInline, H = b.actived, Y = A[l.id + "-" + s[S]], re = I.row === s && I.column === l, ue = m && (V ? y || !i.isNoData : B), ne = l.align, se = l.className, he = l.editor, me = ne || f;
  ["radio", "selection", "index"].includes(l.type) && (me = me || "center");
  var we = Hr(l, o), ye = we.cellTip, Pe = we.cellOverflowTitle, wt = we.cellOverflowTooltip, qe = we.cellOverflowEllipsis, He = we.cellOverflowHint;
  (w || _) && !He && (qe = !0);
  var st = g && he && H.row === s && (H.column === l || g.mode === "row"), dt = o.getCellStatus(s, l).isDirty;
  return M.$columnIndex = r, E("td", {
    key: a,
    style: [Br(l, o), O._stickyStyle, {
      display: c && O.visible ? void 0 : "none"
    }],
    "data-colid": l.id,
    "data-seq": u,
    "data-colindex": r,
    rowspan: O.rowspan > 1 ? O.rowspan : void 0,
    colspan: O.colspan > 1 ? O.colspan : void 0,
    class: ["tiny-grid-body__column", l.id, (n = {}, n["col__" + me] = me, n.col__edit = he, n.col__index = l.type === "index", n.col__radio = l.type === "radio", n.col__selection = l.type === "selection", n.col__ellipsis = He, n.edit__visible = he && he.type === "visible", n.col__dirty = dt, n.col__actived = st, n["col__valid-error"] = re && Y, n["col__valid-success"] = st ? !re && !Y : dt && !Y, n.col__treenode = l.treeNode, n), En(se, M), En(h, M), jr(l, o), O._stickyClass || ""]
  }, [[
    // 行拖拽手柄
    v.rowHandle === "index" && l.type === "index" ? E("div", {
      class: "row__drop-handle"
    }, null) : null,
    // 单元格主内容
    // 如果不是表格形态，就只保留表格结构（到tiny-grid-cell），不渲染具体的内容
    E("div", {
      class: {
        "tiny-grid-cell": !0,
        "tiny-grid-cell__title": Pe,
        "tiny-grid-cell__tooltip": wt || ye,
        "tiny-grid-cell__ellipsis": qe
      },
      title: Pe ? Zo(s, l, M) : null
    }, [o.isShapeTable ? l.renderCell(F, M) : null]),
    // 行内校验
    ue && re ? E("div", {
      class: "tiny-grid-cell__valid",
      style: I.rule && I.rule.width ? {
        width: I.rule.width + "px"
      } : null
    }, [E("span", {
      class: "tiny-grid-cell__valid-msg",
      title: I.content
    }, [I.content])]) : null
  ]]);
}
function gI(e) {
  var t = e.$parent, n = e.headerTable, r = t.headerCellClassName, o = t.headerRowClassName, i = t.headerSuffixIconAbsolute, l = t.align, a = t.border, s = t.headerAlign, d = t.resizable, u = t.editConfig, c = t.operationColumnResizable, f = t.mouseConfig, h = f === void 0 ? {} : f, p = t.dropConfig, v = p === void 0 ? {} : p;
  return n.map(function(g, m) {
    return E("tr", {
      "data-rowindex": m,
      class: ["tiny-grid-header__row", o ? Je(o) ? o({
        $table: t,
        $rowIndex: m
      }) : o : ""]
    }, [g.map(function(b, y) {
      var S, w, _ = b.id, $ = b.column, I = b.colspan, A = b.rowspan, x = b.height, D = b.top, R = (S = $.children) == null ? void 0 : S.length, O = $.headerAlign, L = $.align, M = $.headerClassName, V = Hr($, t), B = V.headerTip, H = V.headerOverflowTitle, Y = V.headerOverflowTooltip, re = V.headerOverflowEllipsis, ue = V.headerOverflowHint, ne = t.getColumnIndex($), se = {
        $table: t,
        $rowIndex: m,
        column: $,
        columnIndex: ne,
        $columnIndex: y,
        isHidden: !1
      }, he = ["index", "radio", "selection"].includes($.type) ? c : !0, me = O || L || s || l;
      return ["radio", "selection", "index"].includes($.type) && (me = me || "center"), E("th", {
        key: _,
        "data-colid": $.id,
        "data-colindex": y,
        colspan: I > 1 ? I : void 0,
        rowspan: A > 1 ? A : void 0,
        style: [Br($, t), {
          height: A > 1 ? x + "px" : void 0,
          top: D + "px",
          zIndex: $.fixed ? 20 : 10
        }],
        class: ["tiny-grid-header__column", $.id, (w = {}, w["col__" + me] = me, w.col__fixed = $.fixed, w.col__index = $.type === "index", w.col__radio = $.type === "radio", w.col__selection = $.type === "selection", w.col__group = R, w.col__ellipsis = ue, w.is__sortable = !["index", "radio", "selection"].includes($.type) && $.sortable, w.is__editable = $.editor, w.is__filter = li($.filter), w.filter__active = $.filter && $.filter.hasFilter, w.is__multilevel = A > 1, w), En(M, se), En(r, se), jr($, t)]
      }, [[
        !R && !(at($.resizable) ? $.resizable : d) && $.type !== "index" ? E("div", {
          class: {
            "tiny-grid-thead-partition": !0,
            is__line: !a
          }
        }, null) : null,
        // 如果不是表格形态，就只保留表格结构（到tiny-grid-cell），不渲染具体的内容
        E("div", {
          class: {
            "tiny-grid-cell": !0,
            "tiny-grid-cell__title": H,
            "tiny-grid-cell__tooltip": B || Y,
            "tiny-grid-cell__ellipsis": re,
            "tiny-grid-cell__header-suffix": i,
            "tiny-grid-cell__header-no-icon": u && !u.showIcon && !$.showIcon
          }
        }, [t.isShapeTable ? $.renderHeader(F, se) : null]),
        h.checked && v.column && !$.type && !$.fixed ? E("div", {
          class: "tiny-grid-cell__drag-bar",
          onMousedown: function(ye) {
            return ye.stopPropagation();
          }
        }, null) : null,
        !R && he && (at($.resizable) ? $.resizable : d) ? E("div", {
          class: {
            "tiny-grid-resizable": !0,
            is__line: !a
          },
          onMousedown: function(ye) {
            return e.resizeMousedown(ye, se);
          }
        }, null) : null
      ]]);
    })]);
  });
}
function mI(e) {
  var t = e.$parent, n = e.footerData, r = e.columnPool, o = e.rowHeight, i = e.footerRows, l = t.align, a = t.footerAlign, s = t.footerCellClassName, d = t.footerRowClassName, u = n.length;
  return n.map(function(c, f) {
    var h = (u - 1 - f) * o;
    return E("tr", {
      "data-rowindex": f,
      class: ["tiny-grid-footer__row", d ? Je(d) ? d({
        $table: t,
        $rowIndex: f
      }) : d : ""]
    }, [r.map(function(p, v) {
      var g, m, b = p.id, y = p.item, S = p.used, w = y.footerAlign, _ = y.align, $ = y.footerClassName, I = w || _ || a || l, A = Hr(y, t), x = A.cellOverflowHint, D = ((g = i[f]) == null ? void 0 : g[y.id]) || {}, R = D.attrs, O = R === void 0 ? {
        rowspan: 1,
        colspan: 1,
        visible: !0
      } : R, L = D.params, M = L === void 0 ? {
        $table: t,
        column: y
      } : L, V = (O == null ? void 0 : O.rowspan) || 1, B = h - (V > 1 ? (V - 1) * o : 0);
      return M.$columnIndex = v, E("td", {
        key: b,
        "data-colid": y.id,
        "data-colindex": v,
        rowspan: O.rowspan > 1 ? O.rowspan : void 0,
        colspan: O.colspan > 1 ? O.colspan : void 0,
        style: [Br(y, t), O._stickyStyle, {
          bottom: B + "px",
          zIndex: y.fixed ? 20 : 10,
          display: S && O.visible ? void 0 : "none"
        }],
        class: ["tiny-grid-footer__column", y.id, (m = {}, m["col__" + I] = I, m.col__ellipsis = x, m.filter__active = y.filter && y.filter.hasFilter, m), En($, M), En(s, M), jr(y, t), O._stickyClass || ""]
      }, [E("div", {
        class: {
          "tiny-grid-cell": !0,
          cell__summary: t.summaryConfig
        }
      }, [t.isShapeTable ? Lt(c[v]) : null])]);
    })]);
  });
}
function yI(e) {
  var t = e.$parent, n = e.tableColumn, r = e.rowPool, o = t.afterFullData, i = t.editConfig, l = t.editStore, a = t.expandConfig, s = a === void 0 ? {} : a, d = t.expandeds, u = t.hasVirtualRow, c = t.rowClassName, f = t.rowGroup, h = t.scrollYLoad, p = t.scrollYStore, v = t.selection, g = t.treeConfig, m = t.treeOrdered, b = t.selectRow, y = s.activeMethod, S = p.startIndex, w = g ? !!m : !1, _ = g || {}, $ = _.hideMethod, I = l.actived, A = [], x = {
    value: 0
  }, D = "";
  return r.forEach(function(R, O) {
    var L = R.id, M = R.item, V = M.payload, B = M.level, H = R.used, Y = i && I.row === V, re = $i(V), ue = $ && $(V, B) || re, ne = Fe(t, V), se = t.getRowIndex(V);
    ue || (x.value = x.value + 1);
    var he = w ? x.value : O + 1;
    h && (he += S), u && !re && (he = o.indexOf(V) + 1), $I({
      $table: t,
      _vm: e,
      id: L,
      row: V,
      rowGroup: f,
      rowid: ne,
      rows: A,
      used: H,
      virtualRow: re
    });
    var me = {
      $rowIndex: O,
      $seq: D,
      $table: t,
      _vm: e,
      editStore: l,
      id: L,
      isSkipRowRender: ue,
      row: V,
      rowActived: Y,
      rowClassName: c
    };
    Object.assign(me, {
      rowIndex: se,
      rowLevel: B,
      rowid: ne,
      rows: A,
      selection: v,
      seq: he,
      treeConfig: g,
      used: H,
      selectRow: b
    }), wI(me), CI({
      $table: t,
      _vm: e,
      id: L,
      row: V,
      rowIndex: se,
      rows: A,
      used: H
    }), me = {
      $table: t,
      expandMethod: y,
      expandeds: d,
      id: L,
      row: V,
      rowIndex: se,
      rowLevel: B,
      rows: A,
      seq: he,
      tableColumn: n,
      treeConfig: g,
      used: H
    }, bI(me);
  }), Yo = !Yo, A;
}
function bI(e) {
  var t = e.$table, n = e.expandMethod, r = e.expandeds, o = e.id, i = e.row, l = e.rowIndex, a = e.rowLevel, s = e.rows, d = e.seq, u = e.tableColumn, c = e.treeConfig, f = e.used;
  if (r.length && r.includes(i) && (typeof n != "function" || n(i, a))) {
    var h = Le(u, function(m) {
      return m.type === "expand";
    }), p = t.getColumnIndex(h), v;
    if (c && (v = {
      paddingLeft: a * (c.indent || 16) + 30 + "px"
    }), h) {
      var g = {
        $table: t,
        seq: d,
        row: i,
        rowIndex: l,
        column: h,
        columnIndex: p,
        level: a
      };
      s.push(E("tr", {
        key: "expand_" + o,
        style: {
          display: f ? void 0 : "none"
        },
        class: "tiny-grid-body__expanded-row"
      }, [E("td", {
        colspan: u.length,
        class: "tiny-grid-body__expanded-column"
      }, [E("div", {
        style: v,
        class: "tiny-grid-body__expanded-cell"
      }, [h.renderData(F, g)])])]));
    }
  }
}
function CI(e) {
  var t = e.$table, n = e._vm, r = e.row, o = e.rowIndex, i = e.rows, l = e.id, a = e.used;
  typeof t.renderRowAfter == "function" && t.renderRowAfter({
    rows: i,
    row: r,
    data: n.tableData,
    rowIndex: o,
    renderColumn: Gs,
    id: l,
    used: a
  }, F);
}
function wI(e) {
  var t, n = e.$rowIndex, r = e.$seq, o = e.$table, i = e._vm, l = e.editStore, a = e.id, s = e.isSkipRowRender, d = e.row, u = e.rowActived, c = e.rowClassName, f = e.rowIndex, h = e.rowLevel, p = e.rowid, v = e.rows, g = e.selection, m = e.selectRow, b = e.seq, y = e.treeConfig, S = e.used;
  if (!s) {
    var w = a;
    d._isDraging && (i.$nextTick(function() {
      delete d._isDraging;
    }), Yo && (w = "drag_" + w));
    var _ = i.columnPool;
    v.push(E("tr", {
      key: w,
      "data-rowid": p,
      "data-rowindex": n,
      "data-rowlevel": h,
      style: {
        display: S ? void 0 : "none"
      },
      class: ["tiny-grid-body__row", (t = {}, t["row__level-" + h] = y, t.row__new = l.insertList.includes(d), t.row__selected = g.includes(d), t.row__radio = m === d, t.row__actived = u, t), c ? Je(c) ? c({
        $table: o,
        $seq: r,
        seq: b,
        fixedType: void 0,
        rowLevel: h,
        row: d,
        rowIndex: f,
        $rowIndex: n
      }) : c : ""]
    }, [_.map(function($, I) {
      var A = $.id, x = $.item, D = $.used;
      return Gs({
        $columnIndex: I,
        $table: o,
        _vm: i,
        column: x,
        id: A,
        row: d,
        rowid: p,
        seq: b,
        used: D
      });
    })]));
  }
}
function SI(e) {
  for (var t = e.$table, n = e.closeable, r = e.render, o = e.renderGroupCell, i = e.row, l = e.tds, a = e.title, s = e._vm, d = t._rowGroupTargetColumn, u = i.value || "", c = s.columnPool, f = Et(c), h; !(h = f()).done; ) {
    var p = h.value, v = p.id, g = p.item, m = p.used, b = t.getColumnIndex(g), y = a || Lt(vt(g.title)) || u, S = {
      value: u,
      header: y,
      children: i.children,
      expand: !i.fold,
      row: i,
      column: g,
      columnIndex: b
    }, w = g === d;
    l.push(E("td", {
      key: v,
      style: [Br(g, t), {
        display: m && g._rowGroupColspan > 0 ? void 0 : "none"
      }],
      class: ["tiny-grid-body__column", w ? "td-group" : "td-placeholder", g.id, jr(g, t), g._stickyClass || ""],
      colspan: g._rowGroupColspan,
      "data-colid": g.id
    }, [E("div", {
      class: "tiny-grid-cell-group"
    }, [w ? [n ? i.fold ? E(hI, {
      class: "tiny-svg-size"
    }, null) : E(pI, {
      class: "tiny-svg-size"
    }, null) : null].concat(r ? r(F, S) : [E("span", {
      class: "row-group-title"
    }, [y]), ":" + u, E("span", {
      class: "tiny-badge"
    }, [i.children.length])]) : o ? o(F, S) : null])]));
  }
}
function $I(e) {
  var t = e.$table, n = e._vm, r = e.id, o = e.row, i = e.rowGroup, l = e.rowid, a = e.rows, s = e.used, d = e.virtualRow;
  if (d) {
    var u = i.title, c = i.closeable, f = c === void 0 ? !0 : c, h = i.render, p = i.renderGroupCell, v = i.className, g = [];
    SI({
      $table: t,
      closeable: f,
      render: h,
      renderGroupCell: p,
      row: o,
      tds: g,
      title: u,
      _vm: n
    });
    var m = function(y) {
      uI(o, t), t.tableListeners["toggle-group-change"] && pe(t, "toggle-group-change", [{
        $table: t,
        row: o
      }, y]);
    };
    a.push(E("tr", {
      key: r,
      class: ["tiny-grid-body__row", "group", v, {
        hover: o.hover
      }],
      style: {
        display: s ? void 0 : "none"
      },
      "data-rowid": l,
      onMouseout: function() {
        return o.hover = !1;
      },
      onMouseover: function() {
        return o.hover = !0;
      },
      onClick: m
    }, [g]));
  }
}
function kI(e) {
  var t = e.$table, n = e._vm, r = t.tableLayout, o = t.scrollXLoad, i = t.scrollYLoad, l = t.bodyTableWidth, a = t.isColumnWidthAssigned, s = n.columnPool, d = n.isNoData;
  if (a) {
    var u = E("table", {
      ref: "table",
      class: "tiny-grid__body",
      style: {
        tableLayout: r,
        width: l ? l + "px" : void 0
      },
      cellspacing: 0,
      cellpadding: 0,
      border: 0,
      "data-tableid": t.id
    }, [[
      // 列分组（用于指定列宽）
      E("colgroup", {
        ref: "colgroup"
      }, [s.map(function(c) {
        var f = c.id, h = c.item, p = c.used;
        return E("col", {
          key: f,
          name: h.id,
          width: String(h.renderWidth),
          style: {
            display: p ? void 0 : "none"
          }
        }, null);
      })]),
      // 表头
      t.showHeader ? E("thead", {
        ref: "thead"
      }, [gI(n)]) : null,
      // 表体内容
      E("tbody", {
        ref: "tbody"
      }, [yI(n)]),
      // 表尾
      t.showFooter && !d && typeof t.renderFooter != "function" ? E("tfoot", {
        ref: "tfoot"
      }, [mI(n)]) : null
    ]]);
    return o || i ? E("div", {
      ref: "stickyWrapper",
      class: "sticky-wrapper"
    }, [u]) : u;
  }
}
var Ol = function(t, n) {
  var r = t.visibleColumn, o = t.tableColumn, i, l, a, s, d;
  i = l = a = s = 0;
  for (var u = Et(r), c; !(c = u()).done; ) {
    var f = c.value;
    if (i = l, l = i + f.renderWidth, n >= i && n < l) {
      s = n - a, d = f;
      break;
    }
    a += f.renderWidth;
  }
  a = 0;
  for (var h = Et(o), p; !(p = h()).done; ) {
    var v = p.value;
    if (v === d) {
      a += s;
      break;
    }
    a += v.renderWidth;
  }
  return a;
}, Ml = function(t, n) {
  var r = t._graphInfo, o = t.tableData, i = t.headerHeight, l = t.rowHeight, a = r.graphed, s = a.map(function(S) {
    return S.payload;
  }), d, u, c, f, h;
  if (d = u = c = f = 0, n < i)
    c = n;
  else {
    d = u = c = f = i;
    for (var p = Et(s), v; !(v = p()).done; ) {
      var g = v.value;
      if (d = u, u = d + l, n >= d && n < u) {
        f = n - c, h = g;
        break;
      }
      c += l;
    }
    c = i;
    for (var m = Et(o), b; !(b = m()).done; ) {
      var y = b.value;
      if (N.toRaw(y) === N.toRaw(h)) {
        c += f;
        break;
      }
      c += l;
    }
  }
  return c;
}, $r = /* @__PURE__ */ U({
  name: te + "GridBody",
  props: {
    collectColumn: Array,
    tableColumn: Array,
    tableNode: Array,
    tableData: Array,
    footerData: Array
  },
  setup: function(t, n) {
    var r, o = n.slots, i = (r = N.getCurrentInstance()) == null ? void 0 : r.proxy, l = i == null ? void 0 : i.$parent, a = N.computed(function() {
      return l.rowHeight;
    }), s = N.computed(function() {
      return l.headerRowHeight;
    }), d = J6(t, i, s), u = d.headerTable, c = fI(t), f = c.columnPool, h = c.rowPool, p = c.isNoData, v = N.ref(0), g = N.ref(0), m = N.ref(), b = N.ref(), y = N.ref(), S = N.ref(), w = N.ref(), _ = N.ref(), $ = N.ref(), I = N.ref();
    N.watch(v, function(M) {
      var V = m.value;
      V && N.nextTick(function() {
        return V.scrollLeft = Ol(l, M);
      });
    }), N.watch(g, function(M) {
      var V = m.value;
      V && N.nextTick(function() {
        return V.scrollTop = Ml(l, M);
      });
    });
    var A = function() {
      var V = m.value;
      V && (V.scrollLeft = Ol(l, v.value), V.scrollTop = Ml(l, g.value));
    };
    eI({
      table: b,
      $table: l
    });
    var x = tI(i, t), D = x.normalRows, R = x.footerRows;
    N.watch([y, b, _, $, I], function() {
      var M = l.elemStore;
      M["main-body-wrapper"] = y.value, M["main-body-table"] = b.value, M["main-body-headerList"] = _.value, M["main-body-list"] = $.value, M["main-body-ySpace"] = I.value;
    });
    var O = N.ref(0), L = new ResizeObserver(function(M) {
      for (var V = Et(M), B; !(B = V()).done; ) {
        var H = B.value, Y = H.target;
        switch (Y) {
          case y.value:
            O.value = Y.clientWidth;
            break;
          case S.value:
            l.footerHeight = Y.offsetHeight;
        }
      }
    });
    return N.watch(y, function(M) {
      return M && L.observe(M);
    }), N.watch($, function(M) {
      if (M && l.dropConfig) {
        var V, B;
        (V = i.rowSortable) == null || V.destroy(), (B = i.columnSortable) == null || B.destroy();
        var H = l.dropConfig, Y = H.plugin, re = H.row, ue = re === void 0 ? !0 : re, ne = H.column, se = ne === void 0 ? !0 : ne, he = H.scheme;
        Y && ue && (i.rowSortable = l.rowDrop(y.value)), he !== "v2" && Y && se && (i.columnSortable = l.columnDrop(y.value));
      }
    }), N.watch(S, function(M) {
      return M && L.observe(M);
    }), N.watchEffect(function() {
      if (l.isColumnWidthAssigned) {
        var M = l.scrollXLoad ? l.visibleColumn : l.tableColumn, V = M.reduce(function(H, Y) {
          return H += Y.renderWidth;
        }, 0), B = O.value;
        l.horizonScroll.max = V > B ? V - B : 0;
      }
    }), N.onMounted(function() {
      var M;
      i._throttleScrollHandler = si(l.optimizeOpts.scrollDelay, i.handleScroll), (M = y.value) == null || M.addEventListener("scroll", i._throttleScrollHandler);
    }), N.onBeforeUnmount(function() {
      var M, V = i.rowSortable, B = i.columnSortable;
      (M = y.value) == null || M.removeEventListener("scroll", i._throttleScrollHandler), i._throttleScrollHandler = null, V == null || V.destroy(), B == null || B.destroy(), L.disconnect();
    }), {
      slots: o,
      rowHeight: a,
      headerTable: u,
      columnPool: f,
      rowPool: h,
      isNoData: p,
      wrapperScrollLeft: v,
      wrapperScrollTop: g,
      stickyWrapper: m,
      table: b,
      body: y,
      customFooter: S,
      colgroup: w,
      thead: _,
      tbody: $,
      ySpace: I,
      normalRows: D,
      footerRows: R,
      resetStickyWrapperScrollPos: A
    };
  },
  render: function() {
    var t = this.$parent, n = this.isNoData, r = this.tableColumn, o = this.footerData, i = t.$grid, l = t.keyboardConfig, a = t.mouseConfig, s = t.scrollLoad, d = t.showFooter, u = t.renderFooter, c = t.containerScrollWidth, f = t.containerScrollHeight, h = t.scrollLoadScrollHeight, p = t.bodyWrapperHeight, v = t.bodyWrapperMinHeight, g = t.bodyWrapperMaxHeight, m = i.slots, b = this;
    return E("div", {
      ref: "body",
      class: {
        "tiny-grid__body-wrapper body__wrapper": !0,
        is__scrollload: s,
        "no-data": n && t.isShapeTable
      },
      style: {
        height: p ? p + "px" : void 0,
        minHeight: v ? v + "px" : void 0,
        maxHeight: g ? g + "px" : void 0
      }
    }, [[
      E("div", {
        class: "tiny-grid-body__x-space",
        style: {
          width: c + "px"
        }
      }, null),
      E("div", {
        ref: "ySpace",
        class: "tiny-grid-body__y-space visual",
        style: {
          height: f + "px"
        },
        onScroll: this.handleScrollLoad
      }, [s ? E("div", {
        class: "tiny-grid-body__y-scrollbar",
        style: {
          height: h ? h + "px" : void 0
        }
      }, null) : null]),
      // 内容表格
      kI({
        $table: t,
        _vm: b
      }),
      // 渲染自定义表尾
      d && !n && typeof u == "function" ? E("div", {
        ref: "customFooter",
        class: "tiny-grid-custom-footer"
      }, [u({
        $table: t,
        columns: r,
        footerData: o
      }, F)]) : null,
      // 选中边框线
      a.checked || l.isCut ? E("div", {
        class: "tiny-grid__borders"
      }, [[a.checked ? El("check") : null, l.isCut ? El("copy") : null]]) : null,
      // 空数据
      n ? E("div", {
        ref: "emptyBlock",
        class: "tiny-grid__empty-block"
      }, [m.empty ? m.empty({
        $table: t
      }, F) : t.renderEmpty ? [t.renderEmpty(F, t)] : [E(vI, {
        class: "tiny-grid__empty-img"
      }, null), E("span", {
        class: "tiny-grid__empty-text"
      }, [Z.i18n("ui.grid.emptyText")])]]) : null
    ]]);
  },
  methods: {
    handleScroll: function(t) {
      var n = this.$parent, r = this.$el, o = n.lastScrollLeft, i = n.lastScrollTop, l = n.scrollXLoad, a = n.scrollYLoad, s = n.horizonScroll, d = s.max, u = s.threshold, c = r.scrollLeft, f = r.scrollTop, h = c !== o, p = f !== i;
      this.wrapperScrollLeft = c, this.wrapperScrollTop = f, n.lastScrollTime = Date.now(), n.lastScrollLeft = c, n.lastScrollTop = f, n.scrollDirection = h ? "X" : "Y", n.horizonScroll.isLeft = c < u, n.horizonScroll.isRight = c > d - u, h && l && n.triggerScrollXEvent(t), p && a && n.triggerScrollYEvent(t), pe(n, "scroll", [{
        type: "body",
        scrollTop: f,
        scrollLeft: c,
        isX: h,
        isY: p,
        $table: n
      }, t]);
    },
    resizeMousedown: function(t, n) {
      var r = this.$el, o = this.$parent, i = t.clientX, l = t.target, a = n.column, s = {}, d = s.dragLeft, u = d === void 0 ? 0 : d, c = s.minInterval, f = c === void 0 ? 40 : c, h = o.$refs, p = h.resizeBar, v = h.tableBody, g = {}, m = g.cell, b = m === void 0 ? l.parentNode : m, y = g.dragBtnWidth, S = y === void 0 ? l.clientWidth : y, w = {}, _ = w.pos, $ = _ === void 0 ? DS(l, r) : _, I = w.tableBodyElem, A = I === void 0 ? v.$el : I, x = $.left - b.clientWidth + S + f, D = $.left + Math.floor(S), R = {}, O = R.oldMousemove, L = O === void 0 ? document.onmousemove : O, M = R.oldMouseup, V = M === void 0 ? document.onmouseup : M, B = function(Y) {
        var re;
        Y.stopPropagation(), Y.preventDefault();
        var ue = {}, ne = ue.offsetX, se = ne === void 0 ? Y.clientX - i : ne, he = ue.left, me = he === void 0 ? se + D : he, we = A.scrollLeft;
        if (u = Math.max(me, x), (re = o.resizableConfig) != null && re.limit) {
          var ye, Pe = (ye = o.resizableConfig) == null ? void 0 : ye.limit({
            field: a.own.field,
            width: a.renderWidth + (u - D)
          });
          u = x - f + Pe;
        }
        p.style.left = u - we + "px";
      };
      p.style.display = "block", Ee(o.$el, "tiny-grid-cell__resize"), o._isResize = !0, document.onmousemove = B, document.onmouseup = function() {
        document.onmousemove = L, document.onmouseup = V;
        var H = a.renderWidth + (u - D);
        H = typeof H == "number" ? H : parseInt(H, 10) || 40, a.resizeWidth = H < 40 ? 40 : H, p.style.display = "none", _e(o.$el, "tiny-grid-cell__resize"), Object.assign(o, {
          _isResize: !1,
          _lastResizeTime: Date.now()
        }), o.analyColumnWidth(), o.recalculate();
        var Y = o.getVm("toolbar");
        Y && Y.updateResizable(), pe(o, "resizable-change", [n]), o.horizonScroll.fixed && setTimeout(function() {
          var re = o.$refs.tableBody.$el, ue = re.scrollWidth, ne = re.clientWidth, se = re.scrollLeft;
          o.horizonScroll.max = ue > ne ? ue - ne : 0, o.horizonScroll.isRight = se > o.horizonScroll.max - o.horizonScroll.threshold;
        }, 50);
      }, B(t);
    },
    handleScrollLoad: function(t) {
      var n = this.$parent;
      n.scrollLoad && n.debounceScrollLoad(t);
    }
  }
});
$r.install = function(e) {
  e.component($r.name, $r);
};
var ki = U({
  name: te + "GridRadio",
  emits: ["update:modelValue", "change"],
  props: {
    modelValue: [String, Number],
    label: [String, Number],
    disabled: Boolean,
    name: String,
    size: String
  },
  directives: {
    AutoTip: _n
  },
  computed: {
    vSize: function() {
      return this.size || this.$parent.size || this.$parent.vSize;
    }
  },
  setup: function(t, n) {
    var r = n.slots;
    return {
      slots: r
    };
  },
  render: function() {
    var t, n = this, r = this.disabled, o = this.vSize, i = this.modelValue, l = this.label, a = this.name, s = this.slots, d = "disabled", u = function() {
      var f = F("span", {
        class: "tiny-grid-radio__label",
        directives: null
      }, s.default());
      return N.withDirectives(f, [[_n]]), f;
    };
    return F("label", {
      class: ["tiny-grid-radio", (t = {}, t["size__" + o] = o, t["is__" + d] = r, t)]
    }, [F("input", {
      attrs: {
        type: "radio",
        name: a,
        disabled: r
      },
      domProps: {
        checked: i === l
      },
      on: {
        change: function(f) {
          r || (n.$emit("update:modelValue", l), n.$emit("change", l, f));
        }
      }
    }), F("span", {
      class: "tiny-grid-radio__icon"
    }, [F(xa(), {
      class: ["tiny-svg-size", "icon-radio"]
    }), F(Da(), {
      class: ["tiny-svg-size", "icon-radio-selected"]
    })]), s.default ? u() : null]);
  }
});
ki.model = {
  prop: "modelValue",
  event: "update:modelValue"
};
ba(ki);
function pt(e) {
  return typeof e == "function" || Object.prototype.toString.call(e) === "[object Object]" && !ud(e);
}
var TI = function(t) {
  var n = t._vm, r = t.inputFilter, o = !1;
  typeof r.relations_addby < "u" && (o = r.relations_addby === "program");
  var i;
  return o ? i = r.relations_backup : i = r.relations, i || (i = [{
    label: n.i18n("ui.grid.filter.prefix"),
    value: "startwith"
  }, {
    label: n.i18n("ui.grid.filter.equal"),
    value: "equals"
  }, {
    label: n.i18n("ui.grid.filter.include"),
    value: "contains"
  }]), {
    isAddbyProgram: o,
    inputRelations: i
  };
}, _I = function(t) {
  var n, r = t.InputComponent, o = t.condition, i = t.event, l = t.inputFilter, a = t.isNativeInput, s = t.prop, d = {
    style: "width:100%",
    on: (n = {}, n[i] = function(f) {
      o.input = f && f.target ? f.target.value : f;
    }, n),
    ref: "filterInputComponent"
  };
  if (a) {
    var u;
    d = Object.assign(d, {
      domProps: (u = {}, u[s] = o.input, u),
      attrs: Q({}, l.attrs)
    });
  } else {
    var c;
    r = N.toRaw(r), d = Object.assign(d, {
      props: Q({}, l.attrs, (c = {}, c[s] = o.input, c))
    });
  }
  return {
    inputProps: d,
    InputComponent: r
  };
}, xl = function(t, n, r) {
  var o = Nt(), i = Vt(), l = Xt(), a = {
    class: "tiny-svg-size",
    tabindex: n
  };
  return typeof r > "u" ? t ? E(o, it(a, {
    class: "is-checked"
  }), null) : E(i, a, null) : t ? E(o, it(a, {
    class: "is-checked"
  }), null) : r ? E(l, it(a, {
    class: "is-checked"
  }), null) : E(i, a, null);
}, Dl = function(t) {
  var n = t.iconRender, r = t._vm, o = t.filterStore, i = t.selectAll, l = t.searchable, a = o.options.filter(function(u) {
    var c;
    return (c = u.label) == null ? void 0 : c.toString().includes(o.searchValue);
  });
  if (a.length) {
    var s = a.map(function(u, c) {
      return E("li", {
        class: ["tiny-grid__filter-option", {
          selected: u.checked
        }],
        onClick: function() {
          o.multi ? u.checked = !u.checked : (o.options.forEach(function(h) {
            h.checked = h === u;
          }), r.filterEnum());
        }
      }, [o.multi ? n(u.checked, c + 1) : null, E("a", {
        title: u.label
      }, [de(" "), u.label, de(" ")])]);
    }), d = i && (!o.multi || !l && o.multi);
    return d ? [E("li", {
      class: "tiny-grid__filter-option",
      onClick: function() {
        var c = o.options.every(function(f) {
          return f.checked;
        });
        o.options.forEach(function(f) {
          f.checked = !c;
        }), o.multi || r.filterEnum();
      }
    }, [o.multi ? n(o.options.every(function(u) {
      return u.checked;
    }), 0, o.options.some(function(u) {
      return u.checked;
    })) : null, E("a", {
      title: r.i18n("ui.grid.filter.allSelect")
    }, [de(" "), r.i18n("ui.grid.filter.allSelect")])])].concat(s) : s;
  } else
    return [E("li", {
      class: "tiny-grid__filter-empty"
    }, [r.i18n("ui.grid.emptyText")])];
}, Ti = /* @__PURE__ */ U({
  name: te + "GridFilter",
  props: {
    filterStore: Object,
    optimizeOpts: Object
  },
  inject: {
    $grid: {
      default: null
    }
  },
  watch: {
    id: function() {
      this.updatePanel();
    },
    visible: function() {
      this.showAdvance = !1, this.updatePanel();
    }
  },
  data: function() {
    return {
      popperJS: null,
      showAdvance: !1,
      showAdvItems: !1,
      listPopper: null
    };
  },
  render: function() {
    var t = this, n, r = this.filterStore, o = this.$grid, i = this.$parent, l = this.optimizeOpts, a = this.renderInput, s = this.renderEnumable, d = this.renderDefault, u = this.renderExtends, c = this.renderBase, f = this.renderSimple, h = r.args, p = r.column, v = r.options, g = r.layout, m = g === void 0 ? "input,enum,default,extends,base" : g, b = {
      input: a,
      enum: s,
      default: d,
      extends: u,
      base: c,
      simple: f
    }, y = m.split(",").map(function(_) {
      return b[_] && b[_].call(t);
    }), S = {
      filterActive: "filter__active"
    }, w = r.attrs;
    return E("div", it(w, {
      class: ["tiny-grid__wrapper", "tiny-grid__filter-wrapper", "filter__prevent-default", (n = {
        "tiny-grid__animat": l.animat
      }, n[S.filterActive] = r.visible, n["tiny-grid__filter-simple"] = m.includes("simple"), n["filter-wrapper-saas"] = i.isThemeSaas, n)],
      style: r.style
    }), [r.visible ? E("div", {
      class: ["tiny-grid__filter-body", {
        "show-addvance": this.showAdvance
      }]
    }, [p.slots && p.slots.filter ? p.slots.filter({
      $grid: o,
      values: v,
      args: h,
      context: this
    }) : y]) : null]);
  },
  computed: {
    condition: function() {
      return this.filterStore.condition;
    },
    visible: function() {
      return this.filterStore.visible;
    },
    id: function() {
      return this.filterStore.id;
    },
    i18n: function() {
      return lt || this.$t;
    }
  },
  methods: {
    updatePanel: Ve(20, function() {
      var e = this;
      this.correctRelations();
      var t = this.filterStore.inputFilter;
      if (t) {
        var n = t.relations;
        t !== !0 && !n.filter(function(r) {
          return r.value === e.condition.relation;
        }).length && this.resetInput();
      }
      this.popperJS && (this.popperJS.destroy(), this.popperJS = null), this.visible && setTimeout(function() {
        var r = e.filterStore, o = r.targetElemParentTr, i = r.id, l = o && o.querySelector("svg.tiny-grid-filter__btn." + i), a = e.$el;
        a.style.zIndex = Ut.nextZIndex(), e.popperJS = new kd(l, a, {
          placement: "bottom-end",
          gpuAcceleration: !1
        }), a.style.display = "block";
      });
    }),
    // 基础清除选项
    renderBase: function() {
      return E("ul", {
        class: "tiny-grid__filter-panel filter-panel__clear"
      }, [E("li", {
        class: "tiny-grid__filter-option",
        onClick: this.resetFilter
      }, [E("a", {
        class: "item-content"
      }, [this.i18n("ui.grid.filter.clear")])]), E("li", {
        class: "tiny-grid__filter-option",
        onClick: this.clearFilter
      }, [E("a", {
        class: "item-content"
      }, [this.i18n("ui.grid.filter.clearAll")])])]);
    },
    // 设置筛选条件为空和不为空
    renderDefault: function() {
      var t = this, n = this.condition, r = this.filterStore;
      return r.defaultFilter ? E("ul", {
        class: "tiny-grid__filter-panel filter-panel__default"
      }, [E("li", {
        class: ["tiny-grid__filter-option", {
          active: n.empty === !0
        }],
        onClick: function() {
          t.filterNull(!0);
        }
      }, [E("a", {
        class: "item-content"
      }, [this.i18n("ui.grid.filter.empty")])]), E("li", {
        class: ["tiny-grid__filter-option", {
          active: n.empty === !1
        }],
        onClick: function() {
          t.filterNull(!1);
        }
      }, [E("a", {
        class: "item-content"
      }, [this.i18n("ui.grid.filter.unempty")])])]) : null;
    },
    // 筛选扩展项
    renderExtends: function() {
      var t = this, n = this.filterStore;
      return n.extends ? E("ul", {
        class: "tiny-grid__filter-panel filter-panel__clear"
      }, [n.extends.map(function(r) {
        return E("li", {
          class: "tiny-grid__filter-option",
          onClick: function() {
            t.filterExtends(r);
          }
        }, [E("a", {
          class: "item-content"
        }, [r.label])]);
      })]) : null;
    },
    // 输入筛选项
    renderInput: function() {
      var t, n, r;
      this.correctRelations();
      var o = this.condition, i = this.filterStore, l = i.inputFilter;
      if (!l) return null;
      var a = TI({
        _vm: this,
        inputFilter: l
      }), s = a.isAddbyProgram, d = a.inputRelations, u = l.component || "input", c = u === "input", f = u.model || {}, h = c ? "value" : f.prop || "modelValue", p = c ? "input" : f.event || "update:modelValue", v = _I({
        InputComponent: u,
        condition: o,
        event: p,
        inputFilter: l,
        isNativeInput: c,
        prop: h
      }), g = v.inputProps;
      return u = v.InputComponent, E("ul", {
        class: "tiny-grid__filter-panel"
      }, [s ? null : E("li", {
        class: "tiny-grid__filter-option filter-option__radios"
      }, [d.map(function(m) {
        var b = m.label, y = m.value, S = m.method;
        return E(ki, {
          modelValue: o.relation,
          label: y,
          onChange: function(_) {
            o.relation = _, o.method = S || function() {
              return !0;
            };
          }
        }, pt(b) ? b : {
          default: function() {
            return [b];
          }
        });
      })]), E("li", {
        class: "filter-option__input"
      }, [F(u, g)]), E("li", {
        class: "tiny-grid__filter-option filter-option__btns"
      }, [E(Be, {
        type: "primary",
        onClick: this.filterInput
      }, pt(t = this.i18n("ui.base.confirm")) ? t : {
        default: function() {
          return [t];
        }
      }), E(Be, {
        onClick: this.resetInput
      }, pt(n = this.i18n("ui.base.reset")) ? n : {
        default: function() {
          return [n];
        }
      }), E(Be, {
        onClick: this.close
      }, pt(r = this.i18n("ui.base.cancel")) ? r : {
        default: function() {
          return [r];
        }
      })])]);
    },
    // 选择筛选项
    renderEnumable: function() {
      var t, n, r = this.filterStore;
      return r.enumable ? E("div", {
        class: "tiny-grid__filter-panel filter-panel__enum"
      }, [E("ul", {
        class: "tiny-grid__filter-options"
      }, [Dl({
        iconRender: xl,
        _vm: this,
        filterStore: r
      })]), r.multi ? E("div", {
        class: "tiny-grid__filter-option filter-option__btns"
      }, [E(Be, {
        type: "primary",
        onClick: this.filterEnum
      }, pt(t = this.i18n("ui.base.confirm")) ? t : {
        default: function() {
          return [t];
        }
      }), E(Be, {
        onClick: function() {
          r.visible = !1;
        }
      }, pt(n = this.i18n("ui.base.cancel")) ? n : {
        default: function() {
          return [n];
        }
      })]) : null]) : null;
    },
    // 简化版筛选按钮对齐，对齐管理侧规范
    renderSimple: function() {
      var t = this.filterStore, n = t.simpleFilter;
      if (!n)
        return null;
      if (n.isDatetime) {
        var r, o, i, l, a, s, d, u, c = n != null && (r = n.datetimeConfig) != null && r.component ? N.toRaw(n.datetimeConfig.component) : null, f = n == null || (o = n.datetimeConfig) == null ? void 0 : o.format, h = n == null || (i = n.datetimeConfig) == null ? void 0 : i.valueFormat, p = n == null || (l = n.datetimeConfig) == null ? void 0 : l.type, v = n == null || (a = n.datetimeConfig) == null ? void 0 : a.max, g = n == null || (s = n.datetimeConfig) == null ? void 0 : s.min, m = {
          disabledDate: function(I) {
            return I.getTime() < g || I.getTime() > v;
          }
        };
        return E("div", {
          class: "tiny-grid__filter-panel filter-panel__enum filter-panel__simple"
        }, [E("div", {
          class: "tiny-grid__filter-date-title"
        }, [this.i18n("ui.grid.filter.dateTips")]), E("ul", {
          class: "tiny-grid__filter-date"
        }, [E("li", {
          class: "tiny-grid__filter-date-item"
        }, [E("span", null, [this.i18n("ui.grid.filter.startDate")]), E(c, {
          format: f,
          type: p,
          "value-format": h,
          "picker-options": m,
          class: "tiny-grid__filter-date-pick",
          onChange: function(I) {
            t.datetimeConfig && (t.datetimeConfig.startDate = I);
          },
          modelValue: t.startDate,
          "onUpdate:modelValue": function(I) {
            return t.startDate = I;
          }
        }, null)]), E("li", {
          class: "tiny-grid__filter-date-item"
        }, [E("span", null, [this.i18n("ui.grid.filter.endDate")]), E(c, {
          format: f,
          type: p,
          "value-format": h,
          "picker-options": m,
          class: "tiny-grid__filter-date-pick",
          modelValue: t.endDate,
          "onUpdate:modelValue": function(I) {
            return t.endDate = I;
          },
          onChange: function(I) {
            t.datetimeConfig && (t.datetimeConfig.endDate = I);
          }
        }, null)])]), E("div", {
          class: "tiny-grid__filter-option filter-option__btns filter-option__date-button"
        }, [E(Be, {
          type: "primary",
          onClick: this.filterDate
        }, pt(d = this.i18n("ui.base.confirm")) ? d : {
          default: function() {
            return [d];
          }
        }), E(Be, {
          onClick: function() {
            t.visible = !1;
          }
        }, pt(u = this.i18n("ui.base.cancel")) ? u : {
          default: function() {
            return [u];
          }
        })])]);
      } else {
        var b, y, S, w = fi(), _ = n != null && (b = n.searchConfig) != null && b.component ? N.toRaw(n.searchConfig.component) : null;
        return E("div", {
          class: "tiny-grid__filter-panel filter-panel__enum filter-panel__simple"
        }, [_ ? E(_, {
          modelValue: t.searchValue,
          "onUpdate:modelValue": function(I) {
            return t.searchValue = I;
          },
          onChange: function(I) {
            t.searchConfig && (t.searchConfig.searchValue = I);
          },
          class: "tiny-grid__filter-search",
          clearable: !0
        }, {
          suffix: function() {
            return E(w, null, null);
          }
        }) : null, E("ul", {
          class: "tiny-grid__filter-options"
        }, [Dl({
          iconRender: xl,
          _vm: this,
          filterStore: t,
          selectAll: n.selectAll,
          searchable: !!_
        })]), t.multi ? E("div", {
          class: "tiny-grid__filter-option filter-option__btns"
        }, [E(Be, {
          type: "primary",
          onClick: this.filterEnum
        }, pt(y = this.i18n("ui.base.confirm")) ? y : {
          default: function() {
            return [y];
          }
        }), E(Be, {
          onClick: function() {
            t.visible = !1;
          }
        }, pt(S = this.i18n("ui.base.cancel")) ? S : {
          default: function() {
            return [S];
          }
        })]) : null]);
      }
    },
    renderSlot: function(t) {
      var n = this.$parent, r = this.filterStore, o = r.args, i = r.column, l = i.slots;
      if (l && l.filter)
        return l.filter.call(n, Q({
          $table: n,
          context: this
        }, o), t);
    },
    // 全部筛选事件
    filterCheckAllEvent: function(t, n) {
      var r = this.filterStore;
      r.options.forEach(function(o) {
        o.checked = n;
      }), r.isAllSelected = n, r.isIndeterminate = !1;
    },
    // 筛选发生改变 check 是否检查默认值的有效性，当自定义relations时，需要检查
    resetInput: function() {
      this.correctRelations();
      var t = this.filterStore, n = t.inputFilter, r = t.onResetInputFilter;
      if (n) {
        var o = this.filterStore.inputFilter, i = o.relations, l = o.relation;
        this.condition.input = "", typeof r == "function" && r(this.$refs.filterInputComponent);
        var a = "equals", s, d;
        if (Array.isArray(i) && i.length) {
          this.condition.method = i[0].method, a = i[0].value || "equals";
          for (var u = 0; u < i.length; u++)
            if (i[u].value === "equals") {
              a = "equals";
              break;
            }
          s = i.map(function(c) {
            return c.value;
          }), l && ~s.indexOf(l) && (d = l);
        }
        this.condition.relation = d || a;
      }
    },
    // 确认筛选
    confirmFilter: function(t) {
      var n = this.filterStore.column;
      if (this.condition.type = t, typeof this.condition.input == "string") {
        var r;
        this.condition.input = (r = this.condition.input) == null ? void 0 : r.trim();
      }
      n.filter.condition = Ae(!0, {}, this.condition), this.$parent.confirmFilterEvent();
    },
    // 对外的暴露自定义提交方法
    commitFilter: function() {
      var t = this.filterStore.column;
      t.filter.condition.type = "custom", this.$parent.confirmFilterEvent();
    },
    // 重置当前列筛选
    resetFilter: function() {
      this.condition.value = null, this.condition.input = "", this.condition.empty = null, this.condition.value = [], this.condition.type = null, this.resetInput(), this.confirmFilter();
    },
    // 清除所有列筛选
    clearFilter: function() {
      this.$parent.clearFilter(!0);
    },
    filterNull: function(t) {
      this.condition.value = [], this.condition.input = "", this.condition.empty = t, this.confirmFilter("empty");
    },
    filterExtends: function(t) {
      this.condition.input = "", this.condition.empty = null, this.condition.value = t.value || t.label, this.condition.method = t.method, this.confirmFilter("extend");
    },
    filterInput: function() {
      this.condition.value = [], this.condition.empty = null, this.confirmFilter("input");
    },
    filterDate: function() {
      var t = this.filterStore, n = t.startDate, r = t.endDate;
      this.condition.input = "", this.condition.value = [], this.condition.empty = null, this.condition.dateList = [n, r], n && !r ? this.condition.relation = "greaterThan" : !n && r ? this.condition.relation = "greaterThan" : n && r && (this.condition.relation = "interveningBetween"), this.confirmFilter("date");
    },
    filterEnum: function() {
      this.condition.input = "", this.condition.empty = null, this.condition.value = this.filterStore.options.filter(function(t) {
        return t.checked;
      }).map(function(t) {
        return t.value;
      }), this.confirmFilter("enum");
    },
    close: function() {
      var t = this.filterStore;
      t.visible = !1;
    },
    correctRelations: function() {
      if (this.filterStore && typeof this.filterStore.inputFilter == "object") {
        var t = this.filterStore.inputFilter.relations, n = this.filterStore.inputFilter.relation || "equals";
        (!t || Array.isArray(t) && t.length === 0) && (this.filterStore.inputFilter.relations = [{
          label: n,
          value: n
        }], this.filterStore.inputFilter.relations_addby = "program", this.filterStore.inputFilter.relations_backup = t);
      }
    }
  },
  setup: function() {
    var t = N.getCurrentInstance().proxy;
    N.onBeforeUnmount(function() {
      t.popperJS && t.popperJS.destroy() && (t.popperJS = null);
    });
  }
});
function II(e) {
  var t = e.column, n = e.condition, r = e.method, o = e.property, i = e.row, l = {
    flag: !1,
    result: null
  };
  return r && n.type === "custom" && (l.result = r({
    property: o,
    row: i,
    column: t
  }), l.flag = !0), l;
}
function EI(e) {
  var t = e.column, n = e.condition, r = e.property, o = e.row, i = {
    flag: !1,
    result: null
  };
  if (n.type === "extend") {
    var l = n.method;
    typeof l != "function" && (l = function() {
      return !0;
    }), i.result = l({
      value: fe(o, r),
      row: o,
      column: t
    }), i.flag = !0;
  }
  return i;
}
function OI(e, t) {
  if (Array.isArray(t)) {
    for (var n, r = 0; r < t.length; r++)
      if (t[r] && t[r].value === e) {
        n = t[r].method;
        break;
      }
    return n;
  }
}
function MI(e) {
  var t = e.inputFilter, n = [];
  return typeof t == "object" && Array.isArray(t.relations) && (n = t.relations), n;
}
function xI(e) {
  return !e && typeof e != "number" && (e = ""), e;
}
function DI(e) {
  var t = e.column, n = e.input, r = e.relation, o = e.relationMethod, i = e.relations, l = e.result, a = e.row, s = e.value;
  return typeof o != "function" && (o = OI(r, i)), typeof o == "function" && (l = o({
    value: s,
    input: n,
    row: a,
    column: t
  })), {
    relationMethod: o,
    result: l
  };
}
function AI(e) {
  var t = e.column, n = e.relationMethod, r = e.relations, o = e.row;
  return function(i, l, a, s) {
    var d = !1;
    switch (i = xI(i), a) {
      case "equals":
        d = i === l;
        break;
      case "unequal":
        d = i !== l;
        break;
      case "greaterThan":
        d = i > l;
        break;
      case "lessThan":
        d = i < l;
        break;
      case "equalToGreaterThan":
        d = i >= l;
        break;
      case "equalToLessThan":
        d = i <= l;
        break;
      case "interveningBetween":
        d = i >= s[0] && i <= s[1];
        break;
      case "contains":
        d = i.toString().includes(l);
        break;
      case "startwith":
        d = i.toString().indexOf(l) === 0;
        break;
      case "endwith":
        d = i.toString().match(new RegExp(l + "$"));
        break;
      default: {
        var u = DI({
          column: t,
          input: l,
          relation: a,
          relationMethod: n,
          relations: r,
          result: d,
          row: o,
          value: i
        });
        n = u.relationMethod, d = u.result;
      }
    }
    return d;
  };
}
function LI(e) {
  var t = e.checkStr, n = e.empty, r = e.input, o = e.property, i = e.relation, l = e.row, a = e.valueList, s = e.dateList;
  return function() {
    var d = fe(l, o);
    if (n === !0)
      return !d;
    if (n === !1)
      return !!d;
    if (s)
      return !s[0] && !s[1] ? !0 : t(d, s[0] || s[1], i, s);
    var u = !r && r !== 0 || t(d, r, i), c = !a.length || a.includes(d);
    return u && c;
  };
}
function RI(e) {
  if (e && e.nodeType) {
    if (e instanceof SVGElement)
      return e.className.baseVal;
    if (e instanceof HTMLElement)
      return e.className;
  }
  return "";
}
function VI(e, t) {
  if (e && e.nodeType) {
    var n = new RegExp("\\b" + t + "\\b"), r;
    do {
      if (r = RI(e).match(n), r)
        return e;
      if (e === document.body)
        break;
      e = e.parentNode;
    } while (e);
  }
  return null;
}
var po = function(t) {
  var n = {};
  return t.forEach(function(r) {
    var o = r.property, i = r.filter;
    if (i) {
      var l = i.condition, a = l.type, s = l.input, d = l.relation, u = l.value, c = l.empty, f = l.dateList;
      a === "input" ? n[o] = {
        type: a,
        value: {
          text: s,
          relation: d
        }
      } : a === "enum" ? n[o] = {
        type: a,
        value: u
      } : a === "empty" ? n[o] = {
        type: a,
        value: c
      } : a === "custom" ? n[o] = {
        type: a
      } : a === "date" ? n[o] = {
        type: a,
        value: {
          dateList: f,
          relation: d
        }
      } : a === "extend" ? n[o] = {
        type: a,
        value: u
      } : a === "extend1" ? n[o] = {
        type: a,
        value: u
      } : a === "extend2" && (n[o] = {
        type: a,
        value: u
      }), i.hasFilter = u.length || s || (f == null ? void 0 : f.some(Boolean)) || s === 0 || c !== null || a === "custom";
    }
  }), n;
}, NI = {
  filter: function(t, n) {
    var r = this.getColumnByField(t), o = r.filter.options;
    if (n) {
      var i = n(o);
      je(i) && (r.filters = SS(i));
    }
    return Promise.resolve(o);
  },
  // 关闭筛选
  closeFilter: function() {
    var t = this.filterStore;
    return Object.assign(t, {
      visible: !1,
      targetElem: null,
      targetElemParentTr: null
    }), this.$nextTick();
  },
  handleLocalFilter: function(t, n) {
    var r = n.property, o = n.filter, i = o.condition, l = o.method, a = o.inputFilter, s = II({
      column: n,
      condition: i,
      method: l,
      property: r,
      row: t
    });
    if (s.flag || (s = EI({
      column: n,
      condition: i,
      property: r,
      row: t
    }), s.flag))
      return s.result;
    var d = i.empty, u = i.input, c = i.relation, f = i.value, h = i.dateList, p = i.method, v = MI({
      inputFilter: a
    }), g = AI({
      column: n,
      relationMethod: p,
      relations: v,
      row: t
    }), m = LI({
      checkStr: g,
      empty: d,
      input: u,
      property: r,
      relation: c,
      row: t,
      valueList: f,
      dateList: h
    });
    return m();
  },
  getOptions: function(t) {
    var n = t.property, r = t.filter, o = r.values, i = r.value, l = i === void 0 ? "value" : i, a = r.label, s = a === void 0 ? "label" : a, d = r.dataset;
    if (typeof o == "function")
      return o({
        property: n,
        filter: r
      });
    if (d)
      return or({
        dataset: d,
        service: this.$service
      });
    var u = (o || []).map(function(h) {
      return {
        label: h[s],
        value: h[l],
        checked: !!h.checked
      };
    });
    if (!o) {
      var c = {}, f = this.getTableData();
      f.fullData.forEach(function(h) {
        var p = h[n];
        c[p] || u.push({
          value: p,
          label: p,
          checked: !1
        }), c[p] = !0;
      });
    }
    return Promise.resolve(u);
  },
  /**
   * 点击筛选事件
   */
  triggerFilterEvent: function(t, n, r) {
    var o = this.filterStore, i = n.filter, l;
    if (o.id !== n.id && o.visible && this.closeFilter(), i && typeof i.inputFilter == "object" && i.inputFilter.relation && (i.condition.relation === "equals" && i.inputFilter.relation && !n.isInitTriggerFlag && (l = i.inputFilter.relation, n.isInitTriggerFlag = !0), i.condition.relation = l || i.condition.relation), o.column === n && o.visible)
      o.visible = !1;
    else {
      var a = t.target, s = VI(a, "tiny-grid-header__row");
      this.getOptions(n).then(function(d) {
        var u, c, f, h, p, v, g, m;
        Object.assign(o, Q({
          args: r
        }, i, {
          defaultFilter: at(i.defaultFilter) ? i.defaultFilter : !0,
          options: d.map(function(b) {
            var y = b.value, S = b.label;
            return {
              value: y,
              label: S,
              checked: i.condition.value.includes(y)
            };
          }),
          condition: Q({}, i.condition),
          multi: at(i.multi) ? i.multi : !0,
          column: n,
          visible: !0,
          targetElem: N.markRaw(a),
          targetElemParentTr: N.markRaw(s),
          id: n.id,
          searchConfig: (u = i.simpleFilter) == null ? void 0 : u.searchConfig,
          datetimeConfig: (c = i.simpleFilter) == null ? void 0 : c.datetimeConfig,
          searchValue: ((f = i.simpleFilter) == null || (h = f.searchConfig) == null ? void 0 : h.searchValue) || "",
          startDate: ((p = i.simpleFilter) == null || (v = p.datetimeConfig) == null ? void 0 : v.startDate) || "",
          endDate: ((g = i.simpleFilter) == null || (m = g.datetimeConfig) == null ? void 0 : m.endDate) || ""
        }));
      });
    }
  },
  // 确认筛选
  confirmFilterEvent: function() {
    var t = this, n = this.visibleColumn, r = this.filterStore, o = this.scrollXLoad, i = this.scrollYLoad, l = this.remoteFilter, a = this.lastScrollLeft;
    r.visible = !1, l || this.handleTableData(!0).then(this.refreshStyle);
    var s = po(n);
    l && this.$grid.pagerConfig && (this.$grid.pagerConfig.currentPage = 1), pe(this, "filter-change", [{
      filters: s,
      $table: this
    }]), this.updateFooter();
    var d = function() {
      return t.scrollTo(a);
    };
    (o || i) && (o && this.clearScroll(), i && this.updateScrollYSpace()), this.closeFilter(), this.clearSelection(), this.$nextTick().then(this.recalculate).then(d);
  },
  clearFilter: function(t) {
    var n, r = arguments.length ? this.getColumnByField(t) : null, o = this.filterStore, i = ((n = this.$grid) == null ? void 0 : n.filterData) || {}, l = function(d) {
      var u = d.filter;
      u && (u.condition = {
        input: "",
        relation: "equals",
        empty: null,
        value: []
      }, u.hasFilter = !1, u.custom = null, delete i[d.property]);
    };
    if (r ? l(r) : this.visibleColumn.forEach(l), (!r || r !== o.column) && Object.assign(o, {
      style: null,
      options: [],
      column: null,
      multi: !1,
      visible: !1
    }), t === !0 || r) {
      var a = po(this.visibleColumn);
      pe(this, "filter-change", [{
        filters: a,
        $table: this
      }]);
    }
    return this.clearSelection(), this.updateData();
  },
  getAllFilter: function() {
    return po(this.visibleColumn);
  }
};
Ti.install = function(e) {
  Re._filter = 1, Object.assign(e.methods, NI);
};
var PI = U({
  name: te + "GridContextMenuChild",
  props: {
    item: Object,
    gIndex: Number,
    index: Number,
    show: Boolean,
    ctxMenuStore: Object,
    tableInstance: Object
  },
  render: function() {
    var t = this.tableInstance, n = this.item, r = this.gIndex, o = this.index, i = this.show, l = this.ctxMenuStore, a = t.toKebab, s = t.getEventTargetNode;
    return F("ul", {
      class: ["tiny-grid-menu__clild-wrapper", {
        show: i
      }]
    }, n.children.map(function(d, u) {
      return d.visible === !1 ? [null] : F("li", {
        class: {
          link__disabled: d.disabled,
          link__active: d === l.selectChild
        },
        key: r + "_" + o + "_" + u
      }, [F("span", {
        class: "tiny-grid-menu__link " + a(n.code),
        on: {
          click: function(f) {
            t.ctxMenuLinkEvent(f, d);
          },
          mouseover: function(f) {
            t.ctxMenuMouseoverEvent(f, n, d);
          },
          mouseout: function(f) {
            s(f, document.body, a(n.code)).flag || t.ctxMenuMouseoutEvent(f, n, d);
          }
        }
      }, [d.prefixIcon ? F(d.prefixIcon, {
        class: "tiny-grid-menu__link-prefix"
      }) : [null], F("span", {
        class: "tiny-grid-menu__link-content"
      }, vt(d.name))])]);
    }));
  },
  watch: {
    show: function(t) {
      var n = this;
      t && (this.$el.style.top = "0px", this.$nextTick(function() {
        var r = n.tableInstance, o = n.$el, i = o.getBoundingClientRect(), l = i.width, a = i.height, s = i.bottom, d = ar(), u = d.visibleHeight, c = d.visibleWidth, f = r.$refs.ctxWrapper.$el, h = r.ctxMenuStore.target, p = f.getBoundingClientRect(), v = p.width, g = p.right;
        if (l + g > c - 6 ? o.style.left = -6 - l + "px" : o.style.left = v + "px", s > u) {
          var m = h && h.clientHeight || 0;
          o.style.top = m - a + "px";
        }
      }));
    }
  }
}), FI = function(t) {
  var n = t.tableInstance, r = t.item, o = t.getEventTargetNode, i = t.toKebab;
  return {
    click: function(a) {
      n.ctxMenuLinkEvent(a, r);
    },
    mouseover: function(a) {
      n.ctxMenuMouseoverEvent(a, r);
    },
    mouseout: function(a) {
      o(a, document.body, i(r.code)).flag || n.ctxMenuMouseoutEvent(a, r);
    }
  };
};
function zI(e) {
  var t = e.ctxMenuStore, n = e.gIndex, r = e.getEventTargetNode, o = e.hasChild, i = e.index, l = e.item, a = e.show, s = e.tableInstance, d = e.toKebab, u = [null], c = {
    linkDisabled: "link__disabled",
    linkActive: "link__active"
  };
  if (l.visible !== !1) {
    var f;
    u = F("li", {
      class: (f = {}, f[c.linkDisabled] = l.disabled, f[c.linkActive] = l === t.selected, f),
      key: n + "_" + i
    }, [F("a", {
      class: "tiny-grid-menu__link " + d(l.code),
      on: FI({
        tableInstance: s,
        item: l,
        getEventTargetNode: r,
        toKebab: d
      })
    }, [l.prefixIcon ? F(l.prefixIcon, {
      class: "tiny-grid-menu__link-prefix"
    }) : [null], F("span", {
      class: "tiny-grid-menu__link-content"
    }, vt(l.name)), F("i", {
      class: ["tiny-grid-menu__link-suffix", o ? l.suffixIcon || "suffix__haschild" : l.suffixIcon]
    })]), o ? F(PI, {
      props: {
        item: l,
        gIndex: n,
        index: i,
        show: a,
        tableInstance: s,
        ctxMenuStore: t
      }
    }) : [null]]);
  }
  return u;
}
function HI(e) {
  var t = e.ctxMenuStore, n = e.getEventTargetNode, r = e.tableInstance, o = e.toKebab;
  return function(i, l) {
    return F("ul", {
      class: "tiny-grid-menu__option-wrapper",
      key: l
    }, i.map(function(a, s) {
      var d = a.children && a.children.length, u = a === t.selected && t.showChild, c = {
        ctxMenuStore: t,
        gIndex: l,
        getEventTargetNode: n,
        hasChild: d
      };
      return Object.assign(c, {
        index: s,
        item: a,
        show: u,
        tableInstance: r,
        toKebab: o
      }), zI(c);
    }));
  };
}
var _i = U({
  name: te + "GridContextMenu",
  props: {
    ctxMenuStore: Object
  },
  render: function() {
    var t = this.ctxMenuStore, n = this.$parent, r = n.toKebab, o = n.getEventTargetNode, i = Array.isArray(t.list) && t.list.flat().some(function(l) {
      return l.visible !== !1;
    });
    return F("div", {
      class: ["tiny-grid__wrapper", "tiny-grid-menu__wrapper", {
        show: t.visible && i
      }],
      style: t.style
    }, t.list.map(HI({
      ctxMenuStore: t,
      getEventTargetNode: o,
      tableInstance: n,
      toKebab: r
    })));
  }
}), Al = function(t) {
  for (var n = 0; n < t.length; n++) {
    var r = t[n];
    if (r.visible !== !1)
      return r;
  }
}, BI = {
  // 关闭快捷菜单
  _closeMenu: function() {
    return Object.assign(this.ctxMenuStore, {
      visible: !1,
      selected: null,
      selectChild: null,
      showChild: !1
    }), this.$nextTick();
  },
  // 处理菜单的移动
  moveCtxMenu: function(t) {
    for (var n = this, r = t.event, o = t.keyCode, i = t.ctxMenuStore, l = t.property, a = t.operKey, s = t.operRest, d = t.menuList, u = dS(d, function(v) {
      return i[l] === v;
    }), c, f = [{
      match: function() {
        return o === a;
      },
      action: function() {
        !s || !Er(i.selected) ? (i.showChild = !1, i.selectChild = null) : i.showChild = !0;
      }
    }, {
      match: function() {
        return o === 38;
      },
      action: function() {
        var g = d.slice(0, u);
        g = g.reverse(), c = Al(g), i[l] = c || d[d.length - 1];
      }
    }, {
      match: function() {
        return o === 40;
      },
      action: function() {
        var g = d.slice(u + 1);
        c = Al(g), i[l] = c || d[0];
      }
    }, {
      match: function() {
        return i[l] && (o === 13 || o === 32);
      },
      action: function() {
        n.ctxMenuLinkEvent(r, i[l]);
      }
    }], h = 0; h < f.length; h++) {
      var p = f[h];
      if (p.match()) {
        p.action();
        break;
      }
    }
  },
  // 快捷菜单事件处理
  handleGlobalContextmenuEvent: function(t) {
    var n = this.ctxMenuOpts, r = this.ctxMenuStore, o = this.isCtxMenu;
    if (!o) {
      this.closeMenu(), this.closeFilter();
      return;
    }
    if (r.visible && this.$refs.ctxWrapper && this.getEventTargetNode(t, this.$refs.ctxWrapper.$el).flag) {
      t.preventDefault();
      return;
    }
    for (var i, l = {
      $table: this,
      columns: this.visibleColumn.slice(0)
    }, a = 0, s = ["header", "body", "footer"]; a < s.length; a++) {
      var d = s[a];
      if (i = this.getEventTargetNode(t, this.$el, "tiny-grid-" + d + "__column"), l.type = d, i.flag) {
        var u = i.targetElem, c = this.getColumnNode(u).item, f = d + "-";
        if (Object.assign(l, {
          cell: u,
          column: c,
          columnIndex: this.getColumnIndex(c)
        }), d === "body") {
          var h = this.getRowNode(u.parentNode).item;
          f = "", Object.assign(l, {
            row: h,
            rowIndex: this.getRowIndex(h)
          });
        }
        this.openContextMenu(t, d, l), pe(this, f + "cell-context-menu", [l, t]);
        return;
      }
    }
    if (i = this.getEventTargetNode(t, this.$el, "tiny-grid__body-wrapper"), i.flag) {
      n.trigger === "cell" ? t.preventDefault() : (l.type = "body", this.openContextMenu(t, layout, l));
      return;
    }
    this.closeMenu(), this.closeFilter();
  },
  // 显示快捷菜单
  openContextMenu: function(t, n, r) {
    var o = this, i = this.ctxMenuOpts, l = this.ctxMenuStore, a = i.visibleMethod, s = i[n];
    if (!s) {
      this.closeFilter();
      return;
    }
    var d = s.disabled, u = s.options;
    if (d) {
      t.preventDefault(), this.closeFilter();
      return;
    }
    if (!u || !u.length) {
      this.closeFilter();
      return;
    }
    r.options = u;
    var c = function() {
      if (a && !a(r, t)) {
        o.closeMenu();
        return;
      }
      t.preventDefault();
      var h = ar(), p = h.scrollLeft, v = h.scrollTop, g = h.visibleHeight, m = h.visibleWidth, b = t.clientX, y = t.clientY, S = b + p, w = y + v, _ = {
        left: S + "px",
        top: w + "px"
      };
      Object.assign(l, {
        args: r,
        list: u,
        selected: null,
        selectChild: null,
        showChild: !1,
        style: _,
        visible: !0
      });
      var $ = function() {
        var A = o.$refs.ctxWrapper.$el, x = A.clientWidth, D = A.clientHeight, R = b + x - m, O = y + D - g;
        R > -10 && (l.style.left = S - x + "px"), O > -10 && (l.style.top = w - D + "px");
      };
      o.$nextTick($);
    };
    this.preventEvent(t, "event.show_menu", r, null, c), this.closeFilter();
  },
  ctxMenuMouseoverEvent: function(t, n, r) {
    var o = this.ctxMenuStore;
    t.preventDefault(), t.stopPropagation(), Object.assign(o, {
      selectChild: r,
      selected: n,
      target: t.target
    }), !r && (o.showChild = Er(n));
  },
  ctxMenuMouseoutEvent: function(t, n) {
    var r = this.ctxMenuStore;
    !n.children && (r.selected = null), Object.assign(r, {
      selectChild: null,
      showChild: null,
      target: null
    });
  },
  // 快捷菜单点击事件
  ctxMenuLinkEvent: function(t, n) {
    if (!(n.disabled || n.children && n.children.length)) {
      var r = this.ctxMenuStore, o = Ns.get(n.code), i = Q({
        $table: this,
        menu: n
      }, r.args);
      o && o.call(this, i, t), pe(this, "context-menu-click", [i, t]), this.closeMenu();
    }
  },
  toKebab: function(t) {
    return typeof t == "string" ? t.replace(/\B([A-Z])/g, "-$1").toLowerCase() : "menu-code";
  }
};
_i.install = function(e) {
  Re._menu = 1, Object.assign(e.methods, BI);
};
var Us = U({
  name: te + "GridLoading",
  directives: {
    loading: Po.directive
  },
  props: Q({}, le, {
    visible: Boolean,
    loadingComponent: Object
  }),
  render: function() {
    var t = F("div", {
      class: "tiny-grid-loading__wrap tiny-loading__spinner",
      directives: null
    });
    t = N.withDirectives(t, [[Po.directive, !0]]);
    var n;
    return this.loadingComponent && (n = di(this.loadingComponent) ? this.loadingComponent : F(this.loadingComponent)), F("div", {
      class: "tiny-grid-loading",
      style: {
        display: this.visible ? "block" : "none"
      }
    }, [n || t]);
  }
});
ba(Us);
function jI(e) {
  var t = e.actived, n = e.column, r = e.editConfig, o = e.row;
  return t.row !== o || (r.mode === "cell" ? t.column !== n : !1);
}
function Zs(e) {
  var t = e.editConfig, n = e.params;
  return !(t != null && t.activeMethod) || t.activeMethod(n);
}
function WI(e) {
  var t = e._vm, n = e.actived, r = e.canActive, o = e.cell, i = e.column, l = e.editConfig, a = e.event, s = e.params, d = e.row, u = e.tableColumn, c = e.type;
  return r && ((t.keyboardConfig || t.mouseConfig) && (t.clearCopyed(a), t.clearChecked(), t.clearSelected(a)), t.clostTooltip(), t.clearActived(a), c = "edit-actived", i.renderHeight = o.offsetHeight, n.args = s, n.row = d, n.column = i, l.mode === "row" ? u.forEach(function(f) {
    return t._getColumnModel(d, f);
  }) : t._getColumnModel(d, i), t.$nextTick(function() {
    t.handleFocus(s, a);
  })), c;
}
function KI(e) {
  var t = e._vm, n = e.canActive, r = e.event;
  n || t.clearActived(r);
}
function qI(e) {
  var t = e._vm, n = e.actived, r = e.cell, o = e.column, i = e.editor, l = e.event, a = e.isActiveCell, s = e.params, d = e.row;
  if (i && r && !a) {
    var u = n.column;
    if (u !== o) {
      var c = u.model;
      c.update && un(d, u, c.value), t.clearValidate();
    }
    o.renderHeight = r.offsetHeight, n.args = s, n.column = o, setTimeout(function() {
      t.handleFocus(s, l);
    });
  }
}
var GI = Z.constant.insertedField, Bt = function(t, n, r, o) {
  return o[t ? n : r];
};
function UI(e) {
  var t = e.h, n = e.params, r = e.renderer, o = e.value, i = {
    flag: !1,
    vnodes: null
  };
  if (r && (typeof r == "function" && (i.flag = !0, i.vnodes = [r(t, n)]), r.component)) {
    var l = r.component, a = r.attrs, s = r.events;
    i.flag = !0, i.vnodes = [t(N.toRaw(l), {
      class: "grid-cell",
      on: s,
      attrs: Q({
        value: o,
        modelValue: o
      }, typeof a == "function" ? a(n) : a)
    })];
  }
  return i;
}
function ZI(e) {
  var t = e.$table, n = e.column, r = e.format, o = e.h, i = e.params, l = e.row, a = {
    flag: !1,
    vnodes: null
  }, s = r.async || {}, d = s.fetch, u = s.loadingText;
  if (t.isAsyncColumn && l[GI] !== !0 && typeof d == "function") {
    var c = l[t.getAsyncColumnName(n.property)], f = u || "loading ...";
    typeof c > "u" && (c = typeof f == "function" ? f(o, i) : f), (typeof c > "u" || typeof n.formatText > "u") && (a.flag = !0, a.vnodes = [c]);
  }
  return a;
}
function YI(e) {
  var t = e._vm, n = e.isTreeNode, r = e.renMaps, o = e.type;
  return {
    match: function() {
      return o === "index";
    },
    action: function() {
      r.renderHeader = t.renderIndexHeader, r.renderCell = Bt(n, "renderTreeIndexCell", "renderIndexCell", t);
    }
  };
}
function XI(e) {
  var t = e._vm, n = e.isTreeNode, r = e.renMaps, o = e.type;
  return {
    match: function() {
      return o === "radio";
    },
    action: function() {
      r.renderHeader = t.renderRadioHeader, r.renderCell = Bt(n, "renderTreeRadioCell", "renderRadioCell", t);
    }
  };
}
function QI(e) {
  var t = e._vm, n = e.isTreeNode, r = e.renMaps, o = e.selectConfig, i = e.type;
  return {
    match: function() {
      return i === "selection";
    },
    action: function() {
      r.renderHeader = t.renderSelectionHeader, r.renderCell = Bt(n, "renderTreeSelectionCell", "renderSelectionCell", t), o && o.checkField && (r.renderCell = Bt(n, "renderTreeSelectionCellByProp", "renderSelectionCellByProp", t));
    }
  };
}
function JI(e) {
  var t = e._vm, n = e.renMaps, r = e.type;
  return {
    match: function() {
      return r === "expand";
    },
    action: function() {
      n.renderCell = t.renderExpandCell, n.renderData = t.renderExpandData;
    }
  };
}
function eE(e) {
  var t = e._vm, n = e.renMaps, r = e.type;
  return {
    match: function() {
      return r === "operation";
    },
    action: function() {
      n.renderCell = t.renderOperationCell;
    }
  };
}
function tE(e) {
  var t = e.$table, n = e._vm, r = e.colProps, o = e.editor, i = e.filter, l = e.isTreeNode, a = e.renMaps, s = e.type;
  return {
    match: function() {
      return !~["index", "radio", "selection", "expand", "operation"].indexOf(s);
    },
    action: function() {
      var u = r.sortable, c = r.remoteSort, f = t.sortable && (s ? !1 : u), h = f || c;
      o ? (a.renderHeader = n.renderEditHeader, a.renderCell = Bt(l, "renderTreeRadioCell", "renderRowEdit", n), t.editConfig && t.editConfig.mode === "row" && (a.renderCell = Bt(l, "renderTreeRowEdit", "renderRowEdit", n)), t.editConfig && t.editConfig.mode === "cell" && (a.renderCell = Bt(l, "renderTreeCellEdit", "renderCellEdit", n))) : i ? (a.renderHeader = n.renderFilterHeader, h && (a.renderHeader = n.renderSortAndFilterHeader)) : h && (a.renderHeader = n.renderSortHeader);
    }
  };
}
var nE = function(t) {
  return t && t.checkStrictly && !t.showHeader || t && !t.checkStrictly && t.showHeader === !1;
}, rE = function(t) {
  var n;
  try {
    for (var r = arguments.length, o = new Array(r > 1 ? r - 1 : 0), i = 1; i < r; i++)
      o[i - 1] = arguments[i];
    n = t.apply(void 0, o);
  } catch {
    bt("ui.grid.error.renderParamError");
  } finally {
    if (!n || !di(n))
      try {
        n = N.h(t);
      } catch {
        n = null, bt("ui.grid.error.classComponentError");
      }
  }
  return n;
}, ce = {
  createColumn: function(t, n) {
    for (var r = n.type, o = n.filter, i = n.editor, l = n.treeNode, a = t.selectConfig, s = t.treeConfig, d = s && l, u = {
      renderHeader: this.renderHeader,
      renderCell: Bt(d, "renderTreeCell", "renderCell", this)
    }, c = this, f = [YI({
      _vm: c,
      isTreeNode: d,
      renMaps: u,
      type: r
    }), XI({
      _vm: c,
      isTreeNode: d,
      renMaps: u,
      type: r
    }), QI({
      _vm: c,
      isTreeNode: d,
      renMaps: u,
      selectConfig: a,
      type: r
    }), JI({
      _vm: c,
      renMaps: u,
      type: r
    }), eE({
      _vm: c,
      renMaps: u,
      type: r
    }), tE({
      $table: t,
      _vm: c,
      colProps: n,
      editor: i,
      filter: o,
      isTreeNode: d,
      renMaps: u,
      type: r
    })], h = 0; h < f.length; h++)
      if (f[h].match()) {
        f[h].action();
        break;
      }
    return IS(n, u, Z);
  },
  // 单元格
  renderHeader: function(t, n, r) {
    var o = n.column, i = o.slots, l = o.own, a = o.title;
    return i && i.header ? r === "card" ? [i.header(n, t)] : [t("div", {
      class: "tiny-grid-cell-text"
    }, [i.header(n, t)])] : typeof a == "function" ? [a(t, n)] : r === "card" ? [Lt(vt(l.title))] : [t("div", {
      class: "tiny-grid-cell-text"
    }, [Lt(vt(l.title))])];
  },
  renderCell: function(t, n) {
    var r = n.$table, o = n.row, i = n.column, l = i.slots, a = i.renderer, s = i.format || {};
    if (l && l.default)
      return l.default(n, t);
    var d = fe(o, i.property), u = UI({
      h: t,
      params: n,
      renderer: a,
      value: d
    });
    if (u.flag || (u = ZI({
      $table: r,
      column: i,
      format: s,
      h: t,
      params: n,
      row: o
    }), u.flag))
      return u.vnodes;
    var c = Zo(o, i, n);
    return typeof c == "function" ? [c(t, n)] : [Lt(c)];
  },
  renderTreeCell: function(t, n) {
    return ce.renderTreeIcon(t, n).concat(ce.renderCell.call(this, t, n));
  },
  // 树节点
  renderTreeIcon: function(t, n) {
    var r, o, i, l, a, s = n.$table, d = n.level, u = n.row, c = s.treeConfig, f = s.treeExpandeds, h = c.children, p = c.indent, v = c.renderIcon, g = c.trigger, m = c.bubbling, b = ~f.indexOf(u), y = u[h], S = {
      click: function(D) {
        m || D.stopPropagation(), s.triggerTreeExpandEvent(D, n);
      }
    }, w = Z.icon, _ = function(D, R) {
      var O = R.active, L = Ra(), M = Va();
      return D(O ? L : M);
    }, $ = (r = v || ((o = s.$grid) == null || (i = o.designConfig) == null || (l = i.treeConfig) == null ? void 0 : l.renderIcon)) != null ? r : _;
    g && g !== "default" && (S = {});
    var I = [];
    y && y.length && (I = [$ ? $(t, Q({
      active: b
    }, n)) : t($a(), {
      class: ["tiny-grid-tree__node-btn", w.tree, {
        is__active: b
      }]
    })]);
    var A = {
      isActive: "is__active"
    };
    return [t("span", {
      class: "tiny-grid-tree__indent",
      style: {
        width: d * (p || 16) + "px"
      }
    }), t("span", {
      class: ["tiny-grid-tree-wrapper", (a = {}, a[A.isActive] = b, a)],
      on: S
    }, I)];
  },
  // 索引
  renderIndexHeader: function(t, n) {
    var r = n.column, o = r.slots, i = r.own;
    if (o && o.header)
      return o.header(n, t);
    var l = vt(i.title || i.label || "");
    return [Lt(l)];
  },
  renderTreeIndexCell: function(t, n) {
    return ce.renderTreeIcon(t, n).concat(ce.renderIndexCell(t, n));
  },
  renderIndexCell: function(t, n) {
    var r = n.$table, o = n.column, i = n.row, l = n.seq;
    n.level;
    var a = r.startIndex, s = r.treeConfig, d = r.treeOrdered, u = o.indexMethod, c = o.slots, f = s || {}, h = f.temporaryIndex, p = h === void 0 ? "_$index_" : h, v = s && !d, g = a + l;
    return v && (g = i[p]), c && c.default ? c.default(n, t) : [Lt(u ? u(n) : g)];
  },
  // 单选
  renderRadioHeader: function(t, n) {
    var r = n.column, o = r.own, i = r.slots;
    if (i && i.header)
      return i.header(n, t);
    var l = vt(o.title || o.label);
    return [Lt(l)];
  },
  renderRadioCell: function(t, n) {
    var r, o = n.$table, i = n.column.slots, l = n.row, a = o.radioConfig, s = a === void 0 ? {} : a, d = o.selectRow, u = o.vSize, c = s.labelField, f = s.checkMethod, h = !!f, p = {};
    return i && i.default ? i.default(n, t) : (p.attrs = {
      name: "tiny-grid-radio__" + o.id,
      type: "radio"
    }, f && (p.attrs.disabled = h = !f(n)), p.domProps = {
      checked: l === d
    }, p.on = {
      change: function(g) {
        o.triggerRadioRowEvent(g, n);
      }
    }, [t("label", {
      class: ["tiny-grid-radio", (r = {}, r["size__" + u] = u, r.is__disabled = h, r)]
    }, [t("input", p), t("span", {
      class: "tiny-grid-radio__icon"
    }, [t(xa(), {
      class: ["tiny-svg-size", "icon-radio"]
    }), t(Da(), {
      class: ["tiny-svg-size", "icon-radio-selected"]
    })]), c ? t("span", {
      class: "tiny-grid-radio__label"
    }, fe(l, c)) : null])]);
  },
  renderTreeRadioCell: function(t, n) {
    return ce.renderTreeIcon(t, n).concat(ce.renderRadioCell(t, n));
  },
  renderSelectionHeader: function(t, n) {
    var r, o = n.$table, i = n.column, l = i.slots, a = i.own, s = o.headerCheckDisabled, d = o.isAllSelected, u = o.isIndeterminate, c = o.selectConfig, f = o.vSize, h = a.title || a.label, p = {
      attrs: {
        type: "checkbox"
      }
    };
    if (l && l.header)
      return l.header(n, t);
    if (nE(c))
      return [];
    p.domProps = {
      disabled: s,
      checked: d && !s
    }, p.on = {
      change: function(b) {
        o.triggerCheckAllEvent(b, b.target.checked), o.showSelectToolbar();
      }
    };
    var v = t("label", {
      class: ["tiny-grid-checkbox tiny-select-header", (r = {}, r["size__" + f] = f, r.is__disabled = s, r.is__indeterminate = u, r)],
      key: Cr()
    }, [t("input", p), t("span", {
      class: "tiny-grid-checkbox__icon"
    }, [t(Vt(), {
      class: ["tiny-svg-size", "icon-check"]
    }), d ? t(Nt(), {
      class: ["tiny-svg-size", "icon-checked-sur"]
    }) : "", u ? t(Xt(), {
      class: ["tiny-svg-size", "icon-half-select"]
    }) : ""]), h ? t("span", {
      class: "tiny-grid-checkbox__label"
    }, vt(h)) : null]), g = null;
    return l && l.dropdown && (g = t("div", {
      class: "selection-dropdown-wrapper"
    }, [l.dropdown(n, t)])), [v, g];
  },
  renderSelectionCell: function(t, n) {
    var r, o = n.$table, i = n.column, l = n.row, a = i.slots, s = o.selectConfig, d = s === void 0 ? {} : s, u = o.treeConfig, c = o.treeIndeterminates, f = o.vSize, h = d.labelField, p = d.checkMethod, v = {}, g = v.indeterminate, m = g === void 0 ? !1 : g, b = v.isDisabled, y = b === void 0 ? !!p : b, S = {
      attrs: {
        type: "checkbox"
      }
    };
    if (a && a.default)
      return a.default(n, t);
    p && (S.attrs.disabled = y = !p(n)), u && (m = ~c.indexOf(l)), S.domProps = {
      checked: ~o.selection.indexOf(l)
    };
    var w = n.twcls, _ = ["tiny-grid-checkbox tiny-select-cell", (r = {}, r["size__" + f] = f, r.is__indeterminate = m, r.is__disabled = y, r)], $ = null, I = "tiny-grid-checkbox__icon", A = "tiny-svg-size icon-checked-sur";
    w && (_ = w.label || _, $ = w.input || $, I = w.span || I, A = w.svg || A, S.class = $);
    var x = {
      click: function(O) {
        var L;
        if ((O == null || (L = O.target) == null ? void 0 : L.tagName.toLowerCase()) !== "input") {
          var M = o.selection.includes(l);
          setTimeout(function() {
            o.triggerCheckRowEvent(O, n, !M), o.showSelectToolbar();
          }, 0);
        }
      }
    }, D = t("label", {
      class: _,
      key: Cr(),
      on: x
    }, [t("input", S), t("span", {
      class: I
    }, [t(Vt(), {
      class: ["tiny-svg-size", "icon-check"]
    }), t(Nt(), {
      class: A
    }), m ? t(Xt(), {
      class: "tiny-svg-size icon-half-select"
    }) : ""]), h ? t("span", {
      class: "tiny-grid-checkbox__label"
    }, fe(l, h)) : null]);
    return [D];
  },
  renderTreeSelectionCell: function(t, n) {
    return ce.renderTreeIcon(t, n).concat(ce.renderSelectionCell(t, n));
  },
  // TODO: 与renderSelectionCell代码方法高度相似，待提取公共逻辑。
  renderSelectionCellByProp: function(t, n) {
    var r, o = n.$table, i = n.column, l = n.row, a = i.slots, s = o.selectConfig, d = s === void 0 ? {} : s, u = o.treeConfig, c = o.treeIndeterminates, f = o.vSize, h = d.checkField, p = d.checkMethod, v = d.labelField, g = {}, m = g.indeterminate, b = m === void 0 ? !1 : m, y = g.isDisabled, S = y === void 0 ? !!p : y, w = {
      attrs: {
        type: "checkbox"
      }
    };
    if (a && a.default)
      return a.default(n, t);
    p && (w.attrs.disabled = S = !p(n)), u && (b = ~c.indexOf(l)), w.domProps = {
      checked: fe(l, h)
    }, w.on = {
      change: function(I) {
        o.triggerCheckRowEvent(I, n, I.target.checked);
      }
    };
    var _ = t("label", {
      key: Cr(),
      class: ["tiny-grid-checkbox", (r = {}, r["size__" + f] = f, r.is__indeterminate = b, r.is__disabled = S, r)]
    }, [t("input", w), t("span", {
      class: "tiny-grid-checkbox__icon"
    }, [t(Vt(), {
      class: ["tiny-svg-size", "icon-check"]
    }), b ? t(Xt(), {
      class: ["tiny-svg-size", "icon-half-select"]
    }) : "", t(Nt(), {
      class: ["tiny-svg-size", "icon-checked-sur"]
    })]), v ? t("span", {
      class: "tiny-grid-checkbox__label"
    }, fe(l, v)) : null]);
    return [_];
  },
  renderTreeSelectionCellByProp: function(t, n) {
    return ce.renderTreeIcon(t, n).concat(ce.renderSelectionCellByProp(t, n));
  },
  // 展开行
  renderExpandCell: function(t, n) {
    var r, o, i = n.$table, l = n.row, a = n.column, s = i.expandConfig, d = s === void 0 ? {} : s, u = d.showIcon, c = u === void 0 ? !0 : u, f = d.activeMethod, h = typeof f == "function" ? f(l) : !0, p = i.expandeds.includes(n.row);
    if (!c) return null;
    var v = (r = a.slots) == null ? void 0 : r["expand-trigger"], g = v ? v(n, t) : t("i", {
      class: "tiny-grid__expand-icon"
    }), m = {
      expandActive: "expand__active"
    };
    return [t("span", {
      class: ["tiny-grid__expanded", (o = {}, o[m.expandActive] = p, o)],
      on: {
        click: function(y) {
          h && i.triggerRowExpandEvent(y, n);
        }
      }
    }, [h && g])];
  },
  renderExpandData: function(t, n) {
    var r = n.column.slots;
    return r && r.default ? r.default(n, t) : [];
  },
  // 排序和筛选
  renderSortAndFilterHeader: function(t, n) {
    var r = ce.getSuffixCls(n);
    return ce.renderHeader(t, n).concat(ce.renderFilterIcon(t, n, r[0])).concat(ce.renderSortIcon(t, n, r[1]));
  },
  // 排序
  renderSortHeader: function(t, n) {
    var r = ce.getSuffixCls(n);
    return ce.renderHeader(t, n).concat(ce.renderSortIcon(t, n, r[1]));
  },
  renderSortIcon: function(t, n, r) {
    r === void 0 && (r = "");
    var o = Z.icon, i = n.$table, l = n.column, a = l.children && l.children.length;
    return [t("span", {
      class: "tiny-grid-sort-wrapper " + r
    }, a ? [] : [l.order === "desc" || !o.sortDefault ? t(o.sortAsc, {
      class: ["tiny-grid-sort__btn", {
        sort__active: l.order === (o.sortDefault ? "desc" : "asc")
      }],
      on: {
        click: function(d) {
          i.triggerSortEvent(d, l, o.sortDefault ? "" : "asc");
        }
      }
    }) : "", l.order === "asc" || !o.sortDefault ? t(o.sortDesc, {
      class: ["tiny-grid-sort__btn", {
        sort__active: l.order === (o.sortDefault ? "asc" : "desc")
      }],
      on: {
        click: function(d) {
          i.triggerSortEvent(d, l, "desc");
        }
      }
    }) : "", !l.order && o.sortDefault ? t(o.sortDefault, {
      class: ["tiny-grid-sort__btn"],
      on: {
        click: function(d) {
          i.triggerSortEvent(d, l, "asc");
        }
      }
    }) : ""])];
  },
  // 筛选
  renderFilterHeader: function(t, n) {
    var r = ce.getSuffixCls(n);
    return ce.renderHeader(t, n).concat(ce.renderFilterIcon(t, n, r[1]));
  },
  renderFilterIcon: function(t, n, r) {
    var o, i;
    r === void 0 && (r = "");
    var l = n.$table, a = n.column, s = l.filterStore, d = Z.icon, u = {
      isActive: "is__active",
      hasFilter: "has__Filter"
    };
    return [t("span", {
      class: ["tiny-grid-filter-wrapper " + r, (o = {}, o[u.isActive] = s.visible && s.column === a, o)]
    }, [t(d.filter, {
      class: ["tiny-svg-size tiny-grid-filter__btn " + a.id, (i = {}, i[u.hasFilter] = a.filter && a.filter.hasFilter, i)],
      on: {
        click: function(f) {
          l.triggerFilterEvent(f, n.column, n);
        }
      }
    })])];
  },
  // 可编辑
  renderEditHeader: function(t, n) {
    var r = n.$table, o = n.column, i = r.editConfig, l = r.editRules, a = r.validOpts, s = o.filter, d = o.remoteSort, u = o.sortable, c = o.type, f = o.own, h = Z.icon, p;
    u = r.sortable && !c && u;
    var v = ce.getSuffixCls(n), g = u || d, m;
    l && (m = fe(l, n.column.property)), l && m && !Array.isArray(m) && (m = [m]), l && m && (p = m.some(function(S) {
      return S.required;
    }));
    var b = typeof a.asteriskMethod != "function" || a.asteriskMethod(n), y = [p && b ? t("i", {
      class: "tiny-icon " + h.required
    }) : null, !i || !f.showIcon ? null : t(h.edit, {
      class: "tiny-grid-edit-icon tiny-svg-size"
    })];
    return y = y.concat(ce.renderHeader(t, n)), y = y.concat(s ? ce.renderFilterIcon(t, n, g ? v[0] : v[1]) : []), y = y.concat(g ? ce.renderSortIcon(t, n, v[1]) : []), y;
  },
  renderTreeRowEdit: function(t, n) {
    return ce.renderTreeIcon(t, n).concat(ce.renderRowEdit(t, n));
  },
  // 行格编辑模式
  renderRowEdit: function(t, n) {
    var r = n.$table.editStore.actived, o = n.$table.editConfig, i = function() {
      return o != null && o.activeStrictly ? Zs({
        editConfig: o,
        params: n
      }) : !0;
    };
    return ce.runRenderer(t, n, this, (r == null ? void 0 : r.row) === n.row && i());
  },
  renderTreeCellEdit: function(t, n) {
    return ce.renderTreeIcon(t, n).concat(ce.renderCellEdit(t, n));
  },
  // 单元格编辑模式
  renderCellEdit: function(t, n) {
    var r = n.$table.editStore.actived;
    return ce.runRenderer(t, n, this, r && r.row === n.row && r.column === n.column);
  },
  runRenderer: function(t, n, r, o) {
    var i = n.$table, l = n.column, a = n.row, s = l.formatText, d = l.own, u = l.slots, c = d.editor, f = Si.get(c.component), h = i.editConfig && c.type === "visible" || o;
    if (h && u && u.edit)
      return u.edit(n, t);
    if (h && typeof c == "function")
      return [c(t, n)];
    if (h && f && f.renderEdit)
      return f.renderEdit.call(i, t, c, n, {
        $type: "edit",
        $excel: i.$parent,
        $table: i,
        $column: l
      });
    if (h)
      return [];
    if (u && u.default)
      return u.default(n, t);
    if (s) {
      var p = Zo(a, l, n);
      return typeof p == "function" ? [p(t)] : [p];
    }
    return ce.renderCell.call(r, t, n);
  },
  getSuffixCls: function(t) {
    return t.$table.headerSuffixIconAbsolute ? ["suffix-icon-1", "suffix-icon-0"] : ["", ""];
  },
  renderOperationCell: function(t, n) {
    var r = n.column, o = n.$table, i = n.row, l = r.operationConfig, a = l === void 0 ? {} : l, s = r.slots;
    if (s && s.default)
      return s.default(n, t);
    var d = a.buttons, u = d === void 0 ? [] : d, c = a.render, f = a.max, h = f === void 0 ? 3 : f, p = a.disabledClass, v = p === void 0 ? "" : p, g = o.viewCls("operButton");
    if (c)
      return c({
        h: t,
        buttons: u,
        params: n
      });
    var m = function(R, O, L, M) {
      var V = Q({
        buttonConfig: R
      }, n), B = {
        click: function(ue) {
          !y(R) && Je(R.click) && R.click(ue, V);
        }
      };
      L = L.join(" ");
      var H = y(R) ? [L, "tiny-grid__oper-col-button--disabled", v] : L, Y = Je(R.icon) ? [rE(R.icon, t, V)] : [t(R.icon)];
      return O ? t("span", {
        class: H,
        attrs: M,
        on: B
      }, Y) : null;
    }, b = function(R, O) {
      O === void 0 && (O = "");
      var L = ["tiny-grid__oper-col-button", R.class || "", O], M = {
        title: R.name || ""
      };
      return m(R, R.icon, L, M);
    }, y = function(R) {
      var O = R.disabled, L = O === void 0 ? !1 : O;
      return typeof L == "boolean" && L || typeof L == "function" && L(i);
    }, S = function(R) {
      var O = R.hidden, L = O === void 0 ? !1 : O;
      return typeof L == "boolean" && L || typeof L == "function" && L(i);
    }, w = function(R) {
      var O = (R == null ? void 0 : R.name) || R, L = _.find(function(M) {
        var V = M.name;
        return V === O;
      });
      L.click(window.event || {}, Q({
        buttonConfig: L
      }, n));
    }, _ = [];
    u.forEach(function(D) {
      return !S(D) && _.push(D);
    });
    var $;
    if (_.length > h) {
      var I = h - 1, A = {
        trigger: "hover",
        showIcon: !1
      };
      $ = _.slice(0, I).map(function(D) {
        return b(D, g);
      });
      var x = {
        default: function() {
          return t(Vr(), {
            class: "tiny-grid__oper-col-elps"
          });
        },
        dropdown: function() {
          return t(_t, {
            slot: "dropdown"
          }, _.slice(I).map(function(R) {
            var O;
            return t(Tt, {
              class: (O = {}, O[v || ""] = y(R), O),
              props: {
                itemData: R,
                disabled: y(R)
              }
            }, R.name);
          }));
        }
      };
      $.push(t(Pt, {
        on: {
          "item-click": w
        },
        props: A,
        scopedSlots: x
      }));
    } else
      $ = _.map(function(D) {
        return b(D, g);
      });
    return [t("span", {
      class: "tiny-grid__oper-col-wrapper",
      attrs: {
        "data-tag": "operation-cell-buttons"
      }
    }, $)];
  }
};
function oE(e) {
  var t = e.tableFullData, n = e.height, r = e.parentHeight, o = e.scrollXLoad;
  e.scrollYLoad;
  var i = e.tableColumn, l = e.maxHeight, a = e.minHeight, s = e.totalWidth, d, u;
  n === "auto" ? d = r : (u = Math.floor(parseInt(n) / 100 * r), d = tn(n) ? u : ze(n)), d > 0 && ((t == null ? void 0 : t.length) <= 0 && d < Z.emptyMinHeight ? e.bodyWrapperHeight = Z.emptyMinHeight : e.bodyWrapperHeight = d), l && (l = tn(l) ? Math.floor(parseInt(l) / 100 * r) : ze(l), e.bodyWrapperMaxHeight = l), a && (a = tn(a) ? Math.floor(parseInt(a) / 100 * r) : ze(a), l && a > l && (a = l), e.bodyWrapperMinHeight = a), e.bodyTableWidth = o ? i.reduce(function(c, f) {
    return c + f.renderWidth;
  }, 0) : s;
}
function Ll(e, t, n, r) {
  var o = e.target;
  return o && t.type === n && o.tagName.toLowerCase() === "input" && o.type === (r || n);
}
function iE(e) {
  var t = e.$el, n = e._vm, r = e.column, o = e.event, i = e.expandConfig, l = e.params;
  (i.trigger === "row" || r.type === "expand" && i.trigger === "cell") && !n.getEventTargetNode(o, t, "tiny-grid__expanded").flag && n.triggerRowExpandEvent(o, l);
}
function lE(e) {
  var t = e._vm, n = e.column, r = e.event, o = e.params, i = e.treeConfig;
  (i.trigger === "row" || n.treeNode && i.trigger === "cell") && t.triggerTreeExpandEvent(r, o);
}
function aE(e) {
  var t = e.$el, n = e._vm, r = e.event, o = e.highlightCurrentRow, i = e.params, l = e.radioConfig;
  o && (l.trigger === "row" || !n.getEventTargetNode(r, t, "tiny-grid-checkbox").flag && !n.getEventTargetNode(r, t, "tiny-grid-radio").flag) && n.triggerCurrentRowEvent(r, i);
}
function sE(e) {
  var t = e.$el, n = e._vm, r = e.column, o = e.event, i = e.params, l = e.radioConfig;
  (l.trigger === "row" || r.type === "radio" && l.trigger === "cell") && !n.getEventTargetNode(o, t, "tiny-grid-radio").flag && n.triggerRadioRowEvent(o, i);
}
function dE(e) {
  var t = e._vm, n = e.column, r = e.event, o = e.params, i = e.selectConfig;
  (i.trigger === "row" || n.type === "selection" && i.trigger === "cell") && !t.getEventTargetNode(r, o.cell, "tiny-grid-checkbox").flag && t.handleToggleCheckRowEvent(o, r);
}
function uE(e) {
  var t = e._vm, n = e.actived, r = e.cell, o = e.column, i = e.editConfig, l = e.event, a = e.mouseConfig, s = e.params, d = e.row;
  !a.checked && i && (i.trigger === "manual" ? n.args && n.row === d && o !== n.column && t.handleChangeCell(l, s) : (!n.args || r !== n.args.cell) && (i.trigger === "click" ? t.handleChangeCell(l, s) : i.trigger === "dblclick" && (i.mode === "row" && n.row === s.row ? t.handleChangeCell(l, s) : t.handleSelected(s, l))));
}
function cE(e) {
  var t = e._vm, n = e.isGroup, r = e.headerProps;
  n && yt(t.collectColumn, function(o) {
    o.children && o.children.length && (o.visible = !!rt(o.children, function(i) {
      return i.children && i.children.length ? 0 : i.visible;
    }, r));
  }, r);
}
function fE(e) {
  var t = e.centerList, n = e.column;
  n.fixed || t.push(n);
}
function hE(e) {
  var t = e.column, n = e.columnIndex, r = e.isColspan, o = e.rightEndIndex, i = e.rightList;
  return t.fixed === "right" && (r || (o === null && (o = n), n - o !== 0 ? r = !0 : o++), i.push(t)), {
    isColspan: r,
    rightEndIndex: o
  };
}
function pE(e) {
  var t = e.column, n = e.columnIndex, r = e.isColspan, o = e.leftList, i = e.leftStartIndex, l = e.letIndex;
  return t.fixed === "left" && (i === null && (i = l), r || (n - l !== 0 ? r = !0 : l++), o.push(t)), {
    leftStartIndex: i,
    letIndex: l,
    isColspan: r
  };
}
function vE(e) {
  var t = e.isColspan, n = e.isGroup, r = e.leftStartIndex, o = e.rightEndIndex, i = e.visibleColumn;
  n && (t || r || o !== null && o !== i.length) && tt("ui.grid.error.groupFixed");
}
function gE(e) {
  var t = e._vm, n = e.scrollX, r = e.scrollXLoad, o = e.scrollXStore, i = e.tableColumn, l = e.visibleColumn;
  if (r) {
    (t.resizable || l.some(function(d) {
      return d.resizable;
    })) && bt("ui.grid.error.notResizable");
    var a = ze(n.rSize || o.renderSize), s = ze(n.oSize || o.offsetSize);
    Object.assign(o, {
      startIndex: 0,
      visibleIndex: 0,
      renderSize: a,
      offsetSize: s
    }), i = l.slice(o.startIndex, o.startIndex + o.renderSize);
  }
  return i;
}
function mE(e) {
  var t = e._vm, n = e.fetchColumns, r = e.tableColumn;
  return n.map(function(o) {
    var i = o.format, l = o.columnValues;
    return i.async.fetch({
      columns: r,
      columnValues: l,
      $table: t
    });
  });
}
function yE(e) {
  var t = e.columnCount, n = e.columnValues, r = e.columnValuesMap, o = e.fields;
  t && n.forEach(function(i) {
    if (typeof i == "object") {
      var l = fe(i, o.text || "label"), a = fe(i, o.value || "value");
      i.label = l, r[a] = i;
    }
  });
}
function bE(e) {
  var t = e.asyncColumnName, n = e.cellTexts, r = e.cellValuesCount, o = e.columnData, i = e.columnValuesMap, l = e.isRender, a = e.property, s = e.renderCount, d = e.row, u = e.splitConfig, c = 0;
  if (!l && r) {
    var f, h = [d[a]];
    for (u.enabled === !0 && (h = (d[a] || "").split(u.valueSplit || ",")); c < r; ) {
      var p = h[c], v = i[p];
      f = typeof v == "object" ? v.label : v, n.push(f), o.push({
        label: f,
        value: h[c],
        row: v
      }), c++, s++;
    }
    d[t] = n.join(u.textSplit || ",");
  }
  return s;
}
function CE(e) {
  var t = e._vm, n = e.columnData, r = e.complete;
  typeof r == "function" && r({
    columnData: n,
    $table: t
  });
}
var wE = ft["-webkit"];
function SE(e) {
  var t = e._vm, n = e.scrollLoad, r = e.scrollY, o = e.scrollYLoad, i = e.scrollYStore, l = e.tableBodyElem;
  if ((o || n) && (i.rowHeight = t.rowHeight), o) {
    var a, s, d = ze(((a = l.style) == null ? void 0 : a.height) || ((s = l.style) == null ? void 0 : s.maxHeight) || l.clientHeight), u = ze(r.vSize || Math.ceil(d / i.rowHeight));
    i.visibleSize = u, r.oSize || (i.offsetSize = u), r.rSize || (i.renderSize = u + (wE ? 2 : u)), t.updateScrollYData();
  } else
    t.updateScrollYSpace();
}
function $E(e) {
  var t = e._vm, n = e.scrollX, r = e.scrollXLoad, o = e.scrollXStore, i = e.tableBodyElem, l = e.visibleColumn;
  if (r) {
    for (var a = i.clientWidth, s = 0, d = 0, u = l.length, c = (l == null ? void 0 : l.map(function(h) {
      return h.renderWidth;
    }).sort(function(h, p) {
      return h - p;
    })) || [], f = 0; f < u; f++)
      if (s += c[f], s > a || f === u - 1) {
        d = f + 1;
        break;
      }
    d = ze(n.vSize || d), o.visibleSize = d, n.oSize || (o.offsetSize = d), n.rSize || (o.renderSize = d + 2), t.updateScrollXData();
  }
}
var kE = function(t) {
  var n, r, o = ((n = t.$grid) == null || (r = n.designConfig) == null ? void 0 : r.minWidth) || 72, i = t.columnStore, l = t.fit, a = t.elemStore, s = a["main-body-wrapper"], d = s.clientWidth, u = s.offsetWidth, c = s.offsetHeight, f = d - 1, h = f, p = i.pxList, v = i.scaleList, g = i.pxMinList, m = i.scaleMinList, b = i.autoList, y = i.resizeList, S = f, w = 0;
  g.forEach(function(I) {
    var A = parseInt(I.minWidth);
    w += A, I.renderWidth = A;
  });
  var _ = S / 100;
  m.forEach(function(I) {
    var A = Math.floor(parseInt(I.minWidth) * _);
    w += A, I.renderWidth = A;
  }), v.forEach(function(I) {
    var A = Math.floor(parseInt(I.width) * _);
    w += A, I.renderWidth = A;
  }), p.forEach(function(I) {
    var A = parseInt(I.width);
    w += A, I.renderWidth = A;
  }), y.forEach(function(I) {
    var A = parseInt(I.resizeWidth);
    w += A, I.renderWidth = A;
  }), S -= w, _ = S > 0 ? Math.floor(S / (m.length + g.length + b.length)) : 0, l ? S > 0 && m.concat(g).forEach(function(I) {
    w += _, I.renderWidth += _;
  }) : _ = o, b.forEach(function(I, A) {
    var x = Math.max(_, o);
    if (I.renderWidth = x, w += x, l && A === b.length - 1) {
      var D = f - w;
      D > 0 && (I.renderWidth += D, w = f);
    }
  });
  var $ = h - w;
  return l && $ > 0 && m.concat(g).slice(0, $).forEach(function(I) {
    w += 1, I.renderWidth += 1;
  }), {
    totalWidth: w,
    offsetWidth: u,
    offsetHeight: c
  };
};
function TE(e) {
  var t = e.collectColumn, n = e.visibleColumn, r = e.columnStore, o = e.isGroup, i = r.leftList, l = r.rightList;
  n.forEach(function(m) {
    var b = m.fixedDetails;
    b && (b.isLeftLast = !1, b.isRightFirst = !1, b.left = 0, b.right = 0);
  });
  var a = i.length, s = 0;
  if (Array.isArray(i) && a > 0 && i.forEach(function(m, b) {
    var y = m.fixedDetails, S = m.renderWidth;
    y.isLeftLast = b === a - 1, y.left = s, s += S;
  }), a = l.length, s = 0, Array.isArray(l) && a > 0) {
    var d = [].concat(l).reverse();
    d.forEach(function(m, b) {
      var y = m.fixedDetails, S = m.renderWidth;
      y.isRightFirst = b === a - 1, y.right = s, s += S;
    });
  }
  if (o) {
    var u = Ws(t), c = [], f = [], h = i.map(function(m) {
      return c.push(m.renderWidth), u.leafColumns.indexOf(m);
    }), p = l.map(function(m) {
      return f.push(m.renderWidth), u.leafColumns.indexOf(m);
    }), v = [], g = [];
    u.headerTable.forEach(function(m, b) {
      b < u.maxLevel && (v.push(h.map(function(y) {
        return m[y];
      })), g.push(p.map(function(y) {
        return m[y];
      })));
    }), v.forEach(function(m) {
      var b = m.reduce(function(y, S) {
        return S && !y.includes(S) && y.push(S), y;
      }, []);
      b.length > 0 && (b[b.length - 1].fixedDetails.isLeftLast = !0, b.forEach(function(y) {
        var S = m.indexOf(y), w = m.lastIndexOf(y);
        y.fixedDetails.left = c.slice(0, S).reduce(function(_, $) {
          return _ += $;
        }, 0), y.renderWidth = c.slice(S, w + 1).reduce(function(_, $) {
          return _ += $;
        }, 0);
      }));
    }), g.forEach(function(m) {
      var b = m.reduce(function(S, w) {
        return w && !S.includes(w) && S.push(w), S;
      }, []).reverse();
      if (b.length > 0) {
        b[b.length - 1].fixedDetails.isRightFirst = !0;
        var y = 0;
        b.forEach(function(S) {
          var w = m.indexOf(S), _ = m.lastIndexOf(S);
          S.renderWidth = f.slice(w, _ + 1).reduce(function($, I) {
            return $ += I;
          }, 0), S.fixedDetails.right = y, y += S.renderWidth;
        });
      }
    });
  }
}
var _E = ["closeMenu", "getMouseSelecteds", "getMouseCheckeds", "clearCopyed", "clearChecked", "clearHeaderChecked", "clearIndexChecked", "clearSelected", "insert", "insertAt", "remove", "removeSelecteds", "revert", "revertData", "getRecordset", "getInsertRecords", "getRemoveRecords", "getUpdateRecords", "clearActived", "getActiveRow", "hasActiveRow", "setActiveRow", "setActiveCell", "setSelectCell", "clearValidate", "fullValidate", "validate", "exportCsv", "exportExcel"], Rl = {
  children: "children"
}, IE = function(t, n) {
  var r = t.startIndex, o = t.fetchColumns, i = t.tableData, l = t.asyncRenderMap, a = t.isScrollLoad;
  return function(s) {
    s.length ? (n._isUpdateData = !0, s.forEach(function(d, u) {
      var c = [], f = {}, h = r, p = 0, v = 0, g = [], m = o[u], b = m.format, y = b === void 0 ? {} : b, S = m.property, w = y.async || {}, _ = w.splitConfig, $ = _ === void 0 ? {} : _, I = w.fields, A = I === void 0 ? {} : I, x = w.complete;
      c = je(d) ? d : fe(d, A.data || "values"), v = c.length, yE({
        columnCount: v,
        columnValues: c,
        columnValuesMap: f,
        fields: A
      });
      for (var D = i.length; h < D; h++) {
        var R = i[h], O = [], L = n.getAsyncColumnUniqueKey(S, R), M = l[L], V = n.getAsyncColumnName(S), B = !!R[V], H = {
          asyncColumnName: V,
          cellTexts: O,
          cellValuesCount: M,
          columnData: g
        };
        if (Object.assign(H, {
          columnValuesMap: f,
          isRender: B,
          property: S,
          renderCount: p,
          row: R,
          splitConfig: $
        }), p = bE(H), a && p >= v)
          break;
      }
      y.data = g, CE({
        _vm: n,
        columnData: g,
        complete: x
      });
    }), n.tableData = n.tableData.slice(0), n.$nextTick(function() {
      n._isUpdateData = !1;
    })) : bt("Unknown error：the query data is empty.");
  };
};
function EE(e) {
  var t = e.$el, n = e._vm, r = e.event, o = e.filterStore, i = e.filterWrapper;
  i && (n.getEventTargetNode(r, t, "tiny-grid-filter-wrapper").flag || n.getEventTargetNode(r, i.$el).flag || n.getEventTargetNode(r, document.body, "tiny-popper").flag || (n.closeFilter(), n.preventEvent(r, "event.clear_filter", o.args, n.closeFilter)));
}
function OE(e) {
  var t = e._vm, n = e.ctxMenuStore, r = e.event;
  n.visible && t.$refs.ctxWrapper && !t.getEventTargetNode(r, t.$refs.ctxWrapper.$el).flag && t.closeMenu();
}
function ME(e) {
  var t = e._vm, n = e.actived, r = e.event, o = t.blurOutside(n, r);
  return typeof o == "boolean" ? (o || setTimeout(function() {
    return t.clearActived(r);
  }), !0) : !1;
}
function xE(e) {
  var t = e.$el, n = e._vm, r = e.actived, o = e.editConfig, i = e.event, l = e.isClear, a = e.isReadonlyCol;
  if (o.mode === "row") {
    var s = n.getEventTargetNode(i, t, "tiny-grid-body__row"), d = s.flag ? s.targetElem !== r.args.cell.parentNode : 0;
    o.trigger === "manual" ? l = !n.getEventTargetNode(i, t, "row__actived").flag && d : l = d && a;
  } else
    l = a;
  return l;
}
function DE(e) {
  var t, n = e.$el, r = e._vm, o = e.event, i = e.isClear, l = (t = r.$refs.tableBody) == null ? void 0 : t.$refs.table;
  (i || !r.getEventTargetNode(o, n).flag || r.$refs.tableHeader && r.$refs.tableHeader.$el.contains(o.target) || l && !l.contains(o.target)) && setTimeout(function() {
    return r.clearActived(o);
  });
}
function AE(e) {
  return e >= 48 && e <= 57 || e >= 65 && e <= 90 || e >= 96 && e <= 111 || e >= 186 && e <= 192 || e >= 219 && e <= 222 || e === 32;
}
function LE(e) {
  var t = e.isKeyEsc, n = e._vm, r = e.event, o = e.actived, i = e.mouseConfig;
  return {
    match: function() {
      return t;
    },
    action: function() {
      return n.handleEscKeyDown({
        event: r,
        actived: o,
        mouseConfig: i
      });
    }
  };
}
function RE(e) {
  var t = e.isKeySpacebar, n = e.keyboardConfig, r = e.selected, o = e._vm, i = e.event;
  return {
    match: function() {
      return t && (n.isArrow || n.isTab) && r.row && r.column && (r.column.type === "selection" || r.column.type === "radio");
    },
    action: function() {
      return o.handleSpaceKeyDown({
        event: i,
        keyboardConfig: n,
        selected: r
      });
    }
  };
}
function VE(e) {
  var t = e.isKeyEnter, n = e.keyboardConfig, r = e.selected, o = e.actived, i = e.treeConfig, l = e.highlightCurrentRow, a = e.currentRow, s = e._vm, d = e.event;
  return {
    match: function() {
      return t && (n.isArrow || n.isTab) && (r.row || o.row || i && l && a);
    },
    action: function() {
      return s.handleEnterKeyDown({
        event: d,
        selected: r,
        actived: o
      });
    }
  };
}
function NE(e) {
  var t = e.isOperCtxMenu, n = e._vm, r = e.event;
  return {
    match: function() {
      return t;
    },
    action: function() {
      return n.handleCtxMenu({
        event: r
      });
    }
  };
}
function PE(e) {
  var t = e.isKeyF2, n = e._vm, r = e.event, o = e.selected;
  return {
    match: function() {
      return t;
    },
    action: function() {
      return n.handleF2KeyDown({
        event: r,
        selected: o
      });
    }
  };
}
function FE(e) {
  var t = e.isOperArrowKeys, n = e.keyboardConfig, r = e._vm, o = e.event, i = e.selected;
  return {
    match: function() {
      return t && n.isArrow;
    },
    action: function() {
      return r.handleArrowKeyDown({
        event: o,
        selected: i
      });
    }
  };
}
function zE(e) {
  var t = e.isKeyTab, n = e.keyboardConfig, r = e._vm, o = e.event, i = e.selected, l = e.actived;
  return {
    match: function() {
      return t && n.isTab;
    },
    action: function() {
      return r.handleTabKeyDown({
        event: o,
        selected: i,
        actived: l
      });
    }
  };
}
function HE(e) {
  var t = e.isKeyDel, n = e.treeConfig, r = e.highlightCurrentRow, o = e.currentRow, i = e.isKeyBack, l = e.keyboardConfig, a = e._vm, s = e.event, d = e.selected;
  return {
    match: function() {
      return t || (n && r && o ? i && l.isArrow : i);
    },
    action: function() {
      return a.handleDelKeyDown({
        event: s,
        selected: d
      });
    }
  };
}
function BE(e) {
  var t = e.keyboardConfig, n = e.isKeyWithCtrl, r = e.isKeyA, o = e.isKeyX, i = e.isKeyC, l = e.isKeyV, a = e._vm, s = e.event;
  return {
    match: function() {
      return t.isCut && n && (r || o || i || l);
    },
    action: function() {
      return a.handleCopyKeyDown({
        event: s
      });
    }
  };
}
function jE(e) {
  var t = e.keyboardConfig, n = e.isKeyWithCtrl, r = e._vm, o = e.event, i = e.selected, l = e.actived;
  return {
    match: function() {
      return t.isEdit && !n && !(i.row === l.row && i.column === l.column);
    },
    action: function() {
      return r.handleOtherKeyDown({
        event: o,
        selected: i
      });
    }
  };
}
function WE(e, t) {
  for (var n = t.isCtxMenu, r = t.ctxMenuStore, o = t.mouseConfig, i = o === void 0 ? {} : o, l = t.keyboardConfig, a = l === void 0 ? {} : l, s = t.treeConfig, d = t.highlightCurrentRow, u = t.currentRow, c = t.editStore, f = c.selected, h = c.actived, p = e.keyCode, v = e.ctrlKey, g = p === 113, m = p === 88, b = p === 86, y = p === 67, S = p === 65, w = p === 46, _ = p === 40, $ = p === 39, I = p === 38, A = p === 37, x = p === 32, D = p === 27, R = p === 13, O = p === 9, L = p === 8, M = A || I || $ || _, V = n && r.visible && (R || x || M), B = [
    LE({
      isKeyEsc: D,
      _vm: t,
      event: e,
      actived: h,
      mouseConfig: i
    }),
    // 空格键支持选中复选列
    RE({
      isKeySpacebar: x,
      keyboardConfig: a,
      selected: f,
      _vm: t,
      event: e
    }),
    // 如果是激活状态，退则出到下一行
    VE({
      isKeyEnter: R,
      keyboardConfig: a,
      selected: f,
      actived: h,
      treeConfig: s,
      highlightCurrentRow: d,
      currentRow: u,
      _vm: t,
      event: e
    }),
    // 如果配置了右键菜单; 支持方向键操作、回车
    NE({
      isOperCtxMenu: V,
      _vm: t,
      event: e
    }),
    // 如果按下了 F2 键
    PE({
      isKeyF2: g,
      _vm: t,
      event: e,
      selected: f
    }),
    // 如果按下了方向键
    FE({
      isOperArrowKeys: M,
      keyboardConfig: a,
      _vm: t,
      event: e,
      selected: f
    }),
    // 如果按下了 Tab 键切换
    zE({
      isKeyTab: O,
      keyboardConfig: a,
      _vm: t,
      event: e,
      selected: f,
      actived: h
    }),
    // 如果是删除键
    HE({
      isKeyDel: w,
      treeConfig: s,
      highlightCurrentRow: d,
      currentRow: u,
      isKeyBack: L,
      keyboardConfig: a,
      _vm: t,
      event: e,
      selected: f
    }),
    BE({
      keyboardConfig: a,
      isKeyWithCtrl: v,
      isKeyA: S,
      isKeyX: m,
      isKeyC: y,
      isKeyV: b,
      _vm: t,
      event: e
    }),
    // 如果是按下非功能键之外允许直接编辑
    jE({
      keyboardConfig: a,
      isKeyWithCtrl: v,
      _vm: t,
      event: e,
      selected: f,
      actived: h
    })
  ], H = 0; H < B.length; H++)
    if (B[H].match())
      return B[H].action();
}
function KE(e) {
  var t = this, n = this.$el, r = this.ctxMenuStore, o = this.editConfig, i = o === void 0 ? {} : o, l = this.filterStore, a = this.$refs, s = a.filterWrapper, d = a.validTip, u = this.editStore.actived;
  if (EE({
    $el: n,
    _vm: this,
    event: e,
    filterStore: l,
    filterWrapper: s
  }), u.row && i.autoClear !== !1) {
    if (ME({
      _vm: this,
      actived: u,
      event: e
    }))
      return;
    d && this.getEventTargetNode(e, d.$el).flag || (!this.lastCallTime || this.lastCallTime + 50 < Date.now()) && this.preventEvent(e, "event.clear_actived", u.args, function() {
      var c, f = !t.getEventTargetNode(e, n, "col__edit").flag;
      c = xE({
        $el: n,
        _vm: t,
        actived: u,
        editConfig: i,
        event: e,
        isClear: c,
        isReadonlyCol: f
      }), DE({
        $el: n,
        _vm: t,
        event: e,
        isClear: c
      });
    });
  }
  OE({
    _vm: this,
    ctxMenuStore: r,
    event: e
  });
}
function qE(e) {
  this.handleClearMouseChecked(e);
}
function GE() {
  this.closeFilter(), this.closeMenu();
}
function UE(e) {
  this.updateScrollLoadBar(e), this.clostTooltip(), this.closeMenu();
}
function ZE(e) {
  var t = this, n = e.event, r = e.actived, o = e.mouseConfig;
  this.closeMenu(), this.closeFilter(), r.row && (this.clearActived(n), o.selected && this.$nextTick(function() {
    return t.handleSelected(r.args, n);
  }));
}
function YE(e) {
  var t = this, n = e.event, r = e.selected, o = e.actived, i = this.highlightCurrentRow, l = this.currentRow, a = this.treeConfig, s = n.keyCode === 37, d = n.keyCode === 38, u = n.keyCode === 39;
  if (r.row || o.row)
    this.moveSelected({
      args: r.row ? r.args : o.args,
      isLeftArrow: s,
      isUpArrow: d,
      isRightArrow: u,
      isDownArrow: !0,
      event: n
    });
  else if (a && i && l) {
    var c = l[a.children];
    if (c && c.length) {
      n.preventDefault();
      var f = c[0];
      this.setTreeExpansion(l, !0).then(function() {
        return t.scrollToRow(f);
      }).then(function() {
        return t.triggerCurrentRowEvent(n, {
          $table: t,
          row: f
        });
      });
    }
  }
}
function XE(e) {
  var t = e.event, n = this.ctxMenuStore;
  t.preventDefault(), n.showChild && Er(n.selected) ? this.moveCtxMenu({
    event: t,
    keyCode: t.keyCode,
    ctxMenuStore: n,
    property: "selectChild",
    operKey: 37,
    operRest: !1,
    menuList: n.selected.children
  }) : this.moveCtxMenu({
    event: t,
    keyCode: t.keyCode,
    ctxMenuStore: n,
    property: "selected",
    operKey: 39,
    operRest: !0,
    menuList: this.ctxMenuList
  });
}
function QE(e) {
  var t = e.event, n = e.selected, r = this.highlightCurrentRow, o = this.currentRow, i = t.keyCode === 37, l = t.keyCode === 38, a = t.keyCode === 39, s = t.keyCode === 40;
  n.row && n.column ? this.moveSelected({
    args: n.args,
    isLeftArrow: i,
    isUpArrow: l,
    isRightArrow: a,
    isDownArrow: s,
    event: t
  }) : (l || s) && r && o && this.moveCurrentRow(l, s, t);
}
function JE(e) {
  var t = this, n = e.event, r = e.selected, o = this.keyboardConfig, i = o === void 0 ? {} : o, l = this.treeConfig, a = this.highlightCurrentRow, s = this.currentRow, d = n.keyCode === 8;
  if (i.isDel && (r.row || r.column))
    un(r.row, r.column, null), d && this.handleActived(r.args, n);
  else if (d && i.isArrow && l && a && s) {
    var u = rt(this.afterFullData, function(f) {
      return f === s;
    }, l), c = u.parent;
    c && (n.preventDefault(), this.setTreeExpansion(c, !1).then(function() {
      return t.scrollToRow(c);
    }).then(function() {
      return t.triggerCurrentRowEvent(n, {
        $table: t,
        row: c
      });
    }));
  }
}
function eO(e) {
  var t = e.event, n = e.selected;
  t.preventDefault(), n.column.type === "selection" ? this.handleToggleCheckRowEvent(n.args, t) : this.triggerRadioRowEvent(t, n.args);
}
function tO(e) {
  var t = e.event, n = e.selected, r = e.actived, o = t.shiftKey, i = this.editConfig.useTab;
  n.row || n.column ? this.moveTabSelected(n.args, o, t, i) : (r.row || r.column) && this.moveTabSelected(r.args, o, t, i);
}
function nO(e) {
  var t = e.event;
  t.keyCode === 65 ? this.handleAllChecked(t) : t.keyCode === 88 || t.keyCode === 67 ? this.handleCopyed(t.keyCode === 88, t) : this.handlePaste(t);
}
function rO(e) {
  var t = e.event, n = e.selected;
  n.row && n.column && (t.preventDefault(), this.handleActived(n.args, t));
}
function oO(e) {
  var t = e.event, n = e.selected, r = this.keyboardConfig, o = r === void 0 ? {} : r, i = t.keyCode, l = AE(i);
  l && n.column && n.row && n.column.editor && (!o.editMethod || o.editMethod(n.args, t) !== !1) && this.handleActived(n.args, t);
}
function iO(e) {
  var t = this;
  this.preventEvent(e, "event.keydown", {
    $table: this
  }, function() {
    WE(e, t);
  });
}
function lO() {
  this.updateParentHeight(), this.recalculate();
}
var Pn = function(t, n) {
  return t.forEach(function(r) {
    return n[r].apply(n);
  });
}, aO = 200, sO = 100, dO = function(t, n, r) {
  var o = function(a, s) {
    var d = typeof a, u = typeof s;
    return d === u && ["number", "string", "boolean"].includes(d) ? a > s : String(a) > String(s);
  }, i = r.sortOpts.multipleColumnSort;
  return typeof i == "function" ? t = i({
    $table: r,
    tableData: t,
    sortColumns: n
  }) : t = t.sort(function(l, a) {
    for (var s = 0; s < n.length; s++) {
      var d = n[s], u = d.property, c = d.order, f = c === "asc" ? 1 : -1, h = l[u], p = a[u];
      if (!Object.is(h, p))
        return o(h, p) ? f : -f;
    }
    return 0;
  }), t;
}, Ys = {
  // 监听某个元素是否出现在视口中
  addIntersectionObserver: function() {
    var t = this;
    typeof IntersectionObserver > "u" || (this.intersectionObserver = new IntersectionObserver(function(n) {
      var r = n[0];
      if (n.length > 1) {
        var o = n.find(function(i) {
          return i.isIntersecting;
        });
        o && (r = o);
      }
      t.handleVisibilityChange(r.isIntersecting, r);
    }, this.intersectionOption), this.intersectionObserver.observe(this.$refs.tableBody.$el));
  },
  removeIntersectionObserver: function() {
    this.intersectionObserver && (this.intersectionObserver.unobserve(this.$refs.tableBody.$el), this.intersectionObserver.disconnect(), this.intersectionObserver = null);
  },
  getParentElem: function() {
    var t = this.$grid ? this.$grid.$el : this.$el;
    return t.parentNode;
  },
  updateParentHeight: function() {
    this.$grid ? this.$grid.updateParentHeight() : this.parentHeight = this.getParentElem().clientHeight;
  },
  getParentHeight: function() {
    return this.parentHeight;
  },
  clearAll: function(t) {
    var n = this.$grid.fetchOption, r = n === void 0 ? {} : n, o = r.isReloadFilter, i = r.isReloadScroll, l = i === void 0 ? !1 : i, a = ["clearScroll", "clearSort", "clearCurrentRow", "clearCurrentColumn", "clearSelection", "clearRowExpand", "clearTreeExpand"];
    return l && (a = a.filter(function(s) {
      return s !== "clearScroll";
    })), Pn(a, this), this.cellStatus.clear(), (typeof o > "u" ? Re._filter : !o) && this.clearFilter(t), (this.keyboardConfig || this.mouseConfig) && Pn(["clearIndexChecked", "clearHeaderChecked", "clearChecked", "clearSelected", "clearCopyed"], this), this.clearActived();
  },
  refreshData: function(t) {
    var n = this, r = function() {
      return n.tableData = [], n.cellStatus.clear(), n.loadTableData(t || n.tableFullData);
    };
    return this.$nextTick().then(r);
  },
  refreshStyle: function() {
    var t = this.$el, n = this.rowSpan, r = this.spanMethod;
    if (t && (n || r)) {
      var o = t.style.transform, i = function() {
        return setTimeout(function() {
          t.style.transform = o;
        });
      };
      return t.style.transform = "scale(0.99999)", this.$nextTick().then(i);
    }
    return this.$nextTick();
  },
  updateData: function() {
    var t = this;
    return this.handleTableData(!0).then(function() {
      return t.updateFooter();
    }).then(function() {
      return t.recalculate();
    });
  },
  // 处理表格数据（过滤，排序，虚拟滚动需要渲染数据的条数）
  handleTableData: function(t) {
    var n, r;
    t && ((n = this.tableFullColumn) == null ? void 0 : n.length) > 0 && (this.updateAfterFullData(), this.updateSelectionStatus(), this.handleSelectionHeader());
    var o = this.scrollYStore, i = this._graphInfo, l = this.scrollYLoad, a = o.renderSize, s = o.startIndex, d = i == null ? void 0 : i.graphed, u = l ? d == null ? void 0 : d.slice(s, s + a) : d, c = (u == null ? void 0 : u.map(function(f) {
      return f.payload;
    })) || [];
    return this.tableNode = u, this.tableData = c, this.updateScrollStatus(), t && ((r = this.tableFullColumn) == null ? void 0 : r.length) > 0 && this.handleDefault(), this.$nextTick();
  },
  // 全量加载表格数据
  loadTableData: function(t, n) {
    var r = this, o = this.editStore, i = this.height, l = this.maxHeight, a = this.lastScrollLeft, s = this.lastScrollTop, d = this.optimizeOpts, u = d.scrollY, c = je(t) ? t.slice(0) : [], f = u && u.gt > 0 && u.gt <= c.length;
    return o.insertList = [], o.removeList = [], Object.assign(this, {
      tableFullData: c,
      tableSynchData: t,
      scrollYLoad: f
    }), this.updateCache(!0, !0), f && !(i || l) && tt("ui.grid.error.scrollYHeight"), n || this.clearScroll(), this.handleTableData(!0).then(function() {
      return !n && r.recalculate();
    }).then(function() {
      if (a || s)
        return r.attemptRestoreScroll({
          lastScrollLeft: a,
          lastScrollTop: s
        });
    });
  },
  // 重新加载数据
  reloadData: function(t) {
    var n = this;
    return this.clearAll().then(function() {
      return n.loadTableData(t);
    });
  },
  // 加载全量数据
  loadData: function(t) {
    var n = this;
    return new Promise(function(r) {
      n.loadTableData(t), r();
    });
  },
  getOriginRow: function(t) {
    var n = this.backupMap;
    return n.has(t) ? n.get(t) : null;
  },
  setOriginRow: function(t, n) {
    var r = this.backupMap;
    r.has(t) && n && r.set(t, n);
  },
  reloadRow: function(t, n, r) {
    var o = this.tableData, i = this.treeConfig, l = this.treeOrdered, a = i || {}, s = a.children, d = a.temporaryIndex, u = d === void 0 ? "_$index_" : d, c = Ft(this), f = this.getOriginRow(t), h = f && t, p = h && !r;
    if (h && r && Ge(f, r, fe(n || t, r)), p && n) {
      var v, g, m = this.defineField(Q({}, n, (v = {}, v[c] = f[c], v))), b, y;
      i && (m[s] = void 0, b = t[s], l || (m[u] = f[u])), y = At(m, !0), i && (m[s] = f[s]), this.setOriginRow(t, m), ns(t, void 0), Object.assign(t, y, i ? (g = {}, g[s] = b, g) : null), this.updateCache();
    }
    if (p && !n) {
      var S;
      if (i) {
        var w;
        S = At(Q({}, t, (w = {}, w[s] = void 0, w)), !0), S[s] = f[s];
      } else
        S = At(t, !0);
      as(f, S);
    }
    return this.tableData = o.slice(0), this.$nextTick();
  },
  // 从新加载列配置
  reloadColumn: function(t) {
    var n = this;
    return this.clearAll().then(function() {
      return n.loadColumn(t);
    });
  },
  loadColumn: function(t) {
    var n = this;
    return new Promise(function(r) {
      n.collectColumn = Yi(t, function(o) {
        return ce.createColumn(n, o);
      }, Rl), r();
    }).then(function() {
      return n.$nextTick();
    });
  },
  /** 设置数据查找缓存，对数据进行备份，深度克隆  */
  updateCache: function(t, n) {
    var r = this;
    t === void 0 && (t = !1), n === void 0 && (n = !1);
    var o = this.tableFullData, i = this.treeConfig, l = this.treeOrdered, a = Ft(this), s = i || {}, d = s.children, u = s.temporaryIndex, c = u === void 0 ? "_$index_" : u, f = i && !l, h = /* @__PURE__ */ new WeakMap();
    this.fullDataRowIdData = {}, this.fullDataRowMap.clear();
    var p = function(m, b, y) {
      var S = Fe(r, m);
      S || (S = Qi(), Ge(m, a, S));
      var w = {
        row: m,
        rowid: S,
        index: b
      };
      if (r.fullDataRowIdData[S] = w, r.fullDataRowMap.set(N.toRaw(m), w), t) {
        var _;
        if (f) {
          var $;
          y && ($ = fe(y, c)), Ge(m, c, ($ ? $ + "." : "") + (b + 1));
        }
        var I = i ? (_ = {}, _[d] = void 0, _) : {}, A = n ? At(Q({}, m, I), !0) : Q({}, m, I);
        return h.set(m, A), A;
      }
    }, v = hs(o, p, void 0, i, d);
    t && Object.assign(this, {
      tableSourceData: v,
      backupMap: h
    });
  },
  // 更新列的 Map
  cacheColumnMap: function(t) {
    var n = this.fullColumnMap, r = {};
    this.fullColumnIdData = r, n.clear(), t.columnCaches.forEach(function(o) {
      r[o.colid] = o, n.set(o.column, o);
    });
  },
  // 通过tr的dom元素获取行数据等相关信息
  getRowNode: function(t) {
    if (!t) return null;
    var n = this.fullDataRowIdData, r = this.tableFullData, o = t.dataset.rowid, i = n[o];
    return i ? {
      item: i.row,
      index: i.index,
      items: r
    } : null;
  },
  getColumnNode: function(t) {
    if (!t)
      return null;
    var n = this.fullColumnIdData, r = this.tableFullColumn, o = t.dataset.colid, i = n[o];
    return i ? {
      index: i.index,
      item: i.column,
      items: r
    } : null;
  },
  getRowIndex: function(t) {
    var n = N.toRaw(t), r = this.fullDataRowMap;
    return r.has(n) ? r.get(n).index : -1;
  },
  getColumnIndex: function(t) {
    var n = this.fullColumnMap;
    return n.has(t) ? n.get(t).index : -1;
  },
  hasIndexColumn: function(t) {
    return (t == null ? void 0 : t.type) === "index";
  },
  defineField: function(t, n) {
    if (!t || typeof t != "object")
      return t;
    n && (t = At(t, !0));
    var r = Ft(this);
    this.visibleColumn.forEach(function(i) {
      var l = i.property, a = i.editor, s = l && !ls(t, l), d = a && !gt(a.defaultValue) ? a.defaultValue : null;
      s && Ge(t, l, d);
    });
    var o = fe(t, r);
    return (Ke(o) || o === "") && Ge(t, r, Qi()), t;
  },
  isTemporaryRow: function(t) {
    var n = this, r = Fe(this, t);
    return Le(this.temporaryRows, function(o) {
      return r === Fe(n, o);
    });
  },
  createData: function(t, n) {
    var r = this, o = je(t);
    o || (t = [t]);
    var i = t.map(function(l) {
      return r.defineField(l, n);
    });
    return new Promise(function(l) {
      l(o ? i : i[0]);
    });
  },
  createRow: function(t) {
    return this.createData(t, !0);
  },
  /**
   * 清空单元格内容：
   * 如果不传参数，则清空整个表格内容；
   * 如果传row，则清空一行内容；
   * 如果传rows，则清空多行内容；
   * 如果还额外传了field，则清空指定单元格内容；
   */
  clearData: function(t, n) {
    var r = this;
    return t = arguments.length ? t && !je(t) ? [t] : t : this.tableFullData, t.forEach(function(o) {
      n ? Ge(o, n, null) : r.visibleColumn.forEach(function(i) {
        i.property && un(o, i, null);
      });
    }), this.$nextTick();
  },
  hasRowInsert: function(t) {
    return this.editStore.insertList.includes(t);
  },
  compareRow: function(t, n, r) {
    var o = fe(t, r), i = fe(n, r), l = this.getColumnByField(r), a = l.equals || this.equals, s;
    return a && (s = a({
      value: o,
      originalValue: i,
      field: r,
      row: t,
      originalRow: n,
      column: l,
      $table: this
    })), typeof s != "boolean" && (s = is(i, o)), s;
  },
  hasRowChange: function(t, n) {
    var r, o = this.treeConfig, i = this.visibleColumn, l = this.backupMap, a = this.editConfig, s = (r = a == null ? void 0 : a.insertChanged) != null ? r : !1, d = arguments.length, u;
    if (this.isTemporaryRow(t))
      return s;
    var c = l.get(t);
    if (c)
      if (o) {
        var f, h, p = o.children;
        t = Q({}, t, (f = {}, f[p] = null, f)), u = Q({}, c, (h = {}, h[p] = null, h));
      } else
        u = Q({}, c);
    if (u) {
      if (d > 1)
        return !this.compareRow(t, u, n);
      for (var v = 0; v < i.length; v++) {
        var g = i[v].property;
        if (g && !this.compareRow(t, u, g))
          return !0;
      }
    }
    return !1;
  },
  // 获取表格所有列
  getColumns: function(t) {
    var n = this.visibleColumn, r = arguments.length;
    return r ? n[t] : n.slice(0);
  },
  getColumnById: function(t) {
    var n = this.fullColumnIdData, r = n[t];
    return r ? r.column : null;
  },
  getColumnByField: function(t) {
    var n = this.visibleColumn;
    return typeof t == "string" && t ? Le(n, function(r) {
      return r.property === t;
    }) : null;
  },
  // 获取当前表格的列（完整的全量表头列、处理条件之后的全量表头列、当前渲染中的表头列）
  getTableColumn: function() {
    var t = this.collectColumn, n = this.tableColumn, r = this.tableFullColumn, o = this.visibleColumn;
    return {
      fullColumn: r.slice(0),
      visibleColumn: o.slice(0),
      tableColumn: n.slice(0),
      collectColumn: t.slice(0)
    };
  },
  // 获取表格所有数据
  getData: function(t) {
    var n = this.data || this.tableSynchData;
    if (!arguments.length)
      return n.slice(0);
    if (typeof t == "number" && t > -1)
      return n[t];
  },
  // 获取选中数据。notCopy为true不返回数据副本，表格内部要继续处理其返回值时设置为true
  getSelectRecords: function(t) {
    var n = this.selectConfig, r = n === void 0 ? {} : n, o = this.selection, i = this.tableFullData, l = this.treeConfig, a = r.checkField, s = {}, d = s.rowList, u = d === void 0 ? [] : d;
    return a && l && (u = Ir(i, function(c) {
      return fe(c, a);
    }, l)), a && !l && (u = i.filter(function(c) {
      return fe(c, a);
    })), !a && l && (u = Ir(i, function(c) {
      return ~o.indexOf(c);
    }, l)), !a && !l && (u = i.filter(function(c) {
      return ~o.indexOf(c);
    })), t ? u : At(u, !0);
  },
  // 对数据进行筛选和排序，获取处理后数据。服务端筛选和排序，在接口调用时已传入参数
  updateAfterFullData: function() {
    var t = this, n = this.tableFullData, r = function(l) {
      var a = t.remoteFilter, s = t.visibleColumn, d = s.filter(function(u) {
        var c = u.filter;
        return !!c;
      });
      return l.filter(function(u) {
        return d.every(function(c) {
          return a ? !0 : t.handleLocalFilter(u, c);
        });
      });
    }, o = function(l) {
      var a = t.visibleColumn, s = t.sortOpts, d = t.remoteSort, u = a.find(function(y) {
        return y.order;
      }), c = at(u == null ? void 0 : u.remoteSort) ? u == null ? void 0 : u.remoteSort : d;
      if (u != null && u.order && !c)
        if (t.sortMethod) {
          var f = u.order, h = u.property, p = {
            $table: t,
            column: u,
            data: l,
            order: f,
            property: h
          };
          l = t.sortMethod(p) || l;
        } else {
          var v = !1;
          if (s.multipleColumnSort) {
            var g = a.filter(function(y) {
              var S = y.order;
              return !!S;
            });
            g.length > 1 && (l = dO(l, g, t), v = !0);
          }
          if (!v) {
            var m = u.sortMethod, b = m ? l.sort(m) : $2(l, u.sortBy ? u.sortBy : u.property);
            l = u.order === "desc" ? b.reverse() : b;
          }
        }
      return l;
    };
    return n = r(n), n = o(n), this.afterFullData = n, this.handleAfterFullData(), n;
  },
  /** 处理后数据，构建分组数据和构建渲染图 */
  handleAfterFullData: function() {
    var t = this.afterFullData;
    dI(t, this), Bs(this);
  },
  /** 处理外部过滤和重置，区别于表头过滤 */
  handleExternalFilter: function(t, n) {
    var r = this;
    return new Promise(function(o) {
      if (t) {
        var i = r.afterFullData;
        typeof n == "function" && (r.afterFullData = n(i) || [], r.handleAfterFullData(), r.handleTableData(!1).then(function() {
          return r.scrollTo(0, 0);
        }).then(function() {
          return o(!0);
        }));
      } else
        r.handleTableData(!0).then(function() {
          return r.scrollTo(0, 0);
        }).then(function() {
          return o(!1);
        });
    });
  },
  updateSelectionStatus: function() {
    this.reserveCheckSelection(), this.checkSelectionStatus();
  },
  getRowCount: function() {
    var t;
    return this.scrollLoad ? this.scrollLoad.pageSize || 10 : ((t = this._graphInfo) == null ? void 0 : t.graphed.length) || 0;
  },
  getRowById: function(t) {
    var n = this.fullDataRowIdData, r = n[t];
    return r ? r.row : null;
  },
  // 获取处理后的表格数据
  getTableData: function() {
    var t = this.afterFullData, n = this.footerData, r = this.tableData, o = this.tableFullData;
    return {
      visibleData: t.slice(0),
      footerData: n.slice(0),
      tableData: r.slice(0),
      fullData: o.slice(0)
    };
  },
  handleDefault: function() {
    var t = this;
    this.handleAsyncColumn(this.tableData), this.isCheckable && this.selectConfig && this.handleSelectionDefChecked(), this.radioConfig && this.handleRadioDefChecked(), this.expandConfig && this.handleDefaultRowExpand(), this.treeConfig && this.handleDefaultTreeExpand(), this.updateFooter(), this.$nextTick(function() {
      return setTimeout(t.recalculate);
    });
  },
  // 动态列处理
  mergeCustomColumn: function(t, n, r) {
    var o = this.isGroup, i = this.tableFullColumn, l = function(S) {
      return r && Object.assign(S, r[S.property]);
    }, a = function(S) {
      return rt(t, function(w) {
        return S.property && w.property === S.property;
      });
    }, s = t.length || r, d = o || !n, u;
    if (this.isUpdateCustoms = !0, s && d && i.forEach(function(y) {
      l(y), u = a(y), u && Object.assign(y, u.item);
    }), s && !d) {
      var c = {}, f = c.collectColumn, h = f === void 0 ? [] : f, p = c.customMap, v = p === void 0 ? {} : p, g = c.orderColumn, m = g === void 0 ? [] : g;
      Yi(t, function(y) {
        var S = Le(i, function(w) {
          return y.property && w.property === y.property;
        });
        S && (Object.assign(S, y), v[y.property] = S, m.push(S));
      }), i.forEach(function(y) {
        var S = v[y.property] ? m.shift() : y;
        S && (l(S), h.push(S));
      }), this.collectColumn = h;
    }
    var b = this.getVm("toolbar");
    b && b.updateColumn(i), this.$emit("update:customs", i);
  },
  resetAll: function() {
    Pn(["resetCustoms", "resetResizable"], this);
  },
  showColumn: function(t) {
    return this.handleVisibleColumn(t, !0);
  },
  hideColumn: function(t) {
    return this.handleVisibleColumn(t, !1);
  },
  handleVisibleColumn: function(t, n) {
    var r = arguments, o = this.tableFullColumn, i = this.getVm("toolbar"), l = arguments.length ? [t] : o;
    return l.forEach(function(a) {
      a.visible = r.length ? n : !0;
    }), i && i.updateSetting(), this.$nextTick();
  },
  resetCustoms: function() {
    return this.handleVisibleColumn();
  },
  // 初始化加载动态列：customColumns 列信息，sort 是否按顺序加载
  reloadCustoms: function(t, n, r) {
    var o = this;
    return this.mergeCustomColumn(t, n, r), this.handleTableData(!0), this.refreshColumn().then(function() {
      return o.tableFullColumn.slice(0);
    });
  },
  watchColumn: function(t) {
    var n = this.customs, r = this.treeConfig, o = this.getVm("toolbar"), i = {
      columnCaches: []
    }, l = cs(t, i);
    i.isGroup && i.hasFixed && t.forEach(function(a) {
      return wS(a);
    }), this.isCheckable = !!i.isCheckable, this.tableFullColumn = l, this.cacheColumnMap(i), this.isColumnInitReady || (this.isColumnInitReady = !0, n && this.mergeCustomColumn(n), this.$emit("column-init-ready")), this.refreshColumn(), this.remoteFilter && (this.$grid.filterData = this.getAllFilter()), this.isColumnReady || (this.isColumnReady = !0, this.$emit("column-ready")), this.handleTableData(!0), o == null || o.updateColumn(l), r && l.some(function(a) {
      return a.fixed;
    }) && l.some(function(a) {
      return a.type === "expand";
    }) && bt("ui.grid.error.treeFixedExpand");
  },
  /*
   * 刷新列信息
   * 将固定的列左边、右边分别靠边
   * 如果使用了分组表头，固定列必须在左侧或者右侧
   */
  refreshColumn: function() {
    var t = this, n = [], r = [], o = [], i = 0, l = null, a = null, s = void 0, d = this.columnStore, u = this.isGroup, c = this.scrollXStore, f = this.tableFullColumn, h = this.optimizeOpts.scrollX;
    cE({
      _vm: this,
      isGroup: u,
      headerProps: Rl
    }), f.filter(function(m) {
      return m.visible;
    }).forEach(function(m, b) {
      var y = pE({
        column: m,
        columnIndex: b,
        isColspan: s,
        leftList: n,
        leftStartIndex: l,
        letIndex: i
      });
      l = y.leftStartIndex, i = y.letIndex, s = y.isColspan, y = hE({
        column: m,
        columnIndex: b,
        isColspan: s,
        rightEndIndex: a,
        rightList: o
      }), s = y.isColspan, a = y.rightEndIndex, fE({
        centerList: r,
        column: m
      });
    });
    var p = n.concat(r).concat(o), v = h && h.gt && h.gt < f.length, g = p;
    return Object.assign(d, {
      leftList: n,
      centerList: r,
      rightList: o
    }), this.analyColumnWidth(), vE({
      isColspan: s,
      isGroup: u,
      leftStartIndex: l,
      rightEndIndex: a,
      visibleColumn: p
    }), g = gE({
      _vm: this,
      scrollX: h,
      scrollXLoad: v,
      scrollXStore: c,
      tableColumn: g,
      visibleColumn: p
    }), this.scrollXLoad = v, this.tableColumn = g, this.visibleColumn = p, this.visibleColumnChanged = !0, this.horizonScroll.fixed = n.length > 0 || o.length > 0, this.columnAnchor && this.$grid.buildColumnAnchorParams(), this.updateFooter(), this.recalculate(), this.$nextTick().then(function() {
      t.$emit("after-refresh-column"), t.isColumnReady && t.attemptRestoreScroll();
    });
  },
  // 指定列宽的列进行拆分
  analyColumnWidth: function() {
    for (var t = this.columnMinWidth, n = this.columnStore, r = this.columnWidth, o = this.tableFullColumn, i = [], l = [], a = [], s = [], d = [], u = [], c = [{
      match: function(m) {
        return m.resizeWidth;
      },
      action: function(m) {
        return s.push(m);
      }
    }, {
      match: function(m) {
        return nl(m.width);
      },
      action: function(m) {
        return l.push(m);
      }
    }, {
      match: function(m) {
        return tn(m.width);
      },
      action: function(m) {
        return d.push(m);
      }
    }, {
      match: function(m) {
        return nl(m.minWidth);
      },
      action: function(m) {
        return a.push(m);
      }
    }, {
      match: function(m) {
        return tn(m.minWidth);
      },
      action: function(m) {
        return u.push(m);
      }
    }, {
      match: function() {
        return !0;
      },
      action: function(m) {
        return i.push(m);
      }
    }], f = 0; f < o.length; f++) {
      var h = o[f];
      if (r && !h.width && (h.width = r), t && !h.minWidth && (h.minWidth = t), !!h.visible)
        for (var p = 0; p < c.length; p++) {
          var v = c[p];
          if (v.match(h)) {
            v.action(h);
            break;
          }
        }
    }
    Object.assign(n, {
      autoList: i,
      pxList: l,
      pxMinList: a,
      resizeList: s,
      scaleList: d,
      scaleMinList: u
    });
  },
  /**
   * 计算单元格列宽，动态分配可用剩余空间
   * 支持（width=?、width=?px、width=?%、min-width=?、min-width=?px、min-width=?%）
   */
  recalculate: function() {
    var t = this, n = this.elemStore, r = this.scrollXLoad, o = this.scrollYLoad, i = this.scrollLoad, l = this._tableVisible, a = n["main-body-wrapper"];
    if (l)
      return a ? (this.autoCellWidth(), r || o || i ? this.computeScrollLoad().then(function() {
        t.autoCellWidth();
      }) : this.computeScrollLoad()) : this.computeScrollLoad();
  },
  // 列宽计算
  autoCellWidth: function() {
    var t = this.horizonScroll, n = this.headerHeight, r = this.footerHeight, o = this.rowHeight, i = kE(this), l = i.totalWidth, a = i.offsetWidth, s = i.offsetHeight;
    t.fixed && TE(this);
    var d = 10, u = a, c = s, f = l, h = this.getRowCount() * o + n + r, p, v;
    f <= u ? h <= c ? p = v = !1 : (v = !0, p = f + d > u) : (p = !0, v = h + d > c), this.height || (this.bodyWrapperHeight = h > this.bodyWrapperMaxHeight ? this.bodyWrapperMaxHeight : null), Object.assign(this, {
      overflowX: p,
      overflowY: v,
      scrollbarWidth: v ? d : 0,
      scrollbarHeight: p ? d : 0,
      totalWidth: l,
      tableHeight: s,
      containerScrollWidth: f,
      containerScrollHeight: h
    }), this.isColumnWidthAssigned || (this.isColumnWidthAssigned = !0);
  },
  resetResizable: function() {
    var t = this.getVm("toolbar");
    return this.visibleColumn.forEach(function(n) {
      return n.resizeWidth = 0;
    }), t == null || t.resetResizable(), this.analyColumnWidth(), this.recalculate();
  },
  updateStyle: function() {
    oE(this), this.currentRow && this.setCurrentRow(this.currentRow);
  },
  preventEvent: function(t, n, r, o, i) {
    var l = this, a = ds.get(n);
    a.some(function(s) {
      return s(r, t, l) === !1;
    }) || o && o(), i && i();
  },
  blurOutside: function(t, n) {
    var r = t.row, o = t.args, i = t.column, l = this.editConfig, a = this.getEventTargetNode, s = this.$el;
    if (i && r) {
      var d = i.editor;
      if (typeof d.blurOutside == "function")
        return !!d.blurOutside({
          cell: o.cell,
          event: n
        });
      if (typeof l.blurOutside == "function") {
        var u = document.body;
        return a(n, u, "tiny-autocomplete-suggestion").flag || a(n, u, "tiny-select-dropdown").flag || a(n, u, "tiny-cascader__dropdown").flag || a(n, u, "tiny-cascader-menus").flag || a(n, u, "tiny-picker-panel").flag || a(n, u, "tiny-popper").flag || a(n, u, "tiny-dialog-box").flag ? !0 : !!l.blurOutside({
          cell: o.cell,
          event: n,
          $table: this
        });
      }
      var c = d.blurClass || l.blurClass;
      if (c) {
        var f = [];
        return typeof c == "string" ? f.push(c) : je(c) && (f = c.slice(0)), o != null && o.cell.contains(n.target) || l.mode === "row" && a(n, s, "tiny-grid-body__column").flag ? !0 : f.every(function(h) {
          return !a(n, document.body, h).flag;
        });
      }
    }
  },
  handleGlobalMousedownEvent: KE,
  handleGlobalBlurEvent: GE,
  handleGlobalMousewheelEvent: UE,
  handleEscKeyDown: ZE,
  handleEnterKeyDown: YE,
  handleCtxMenu: XE,
  handleArrowKeyDown: QE,
  handleDelKeyDown: JE,
  handleSpaceKeyDown: eO,
  handleTabKeyDown: tO,
  handleCopyKeyDown: nO,
  handleF2KeyDown: rO,
  handleOtherKeyDown: oO,
  handleGlobalKeydownEvent: iO,
  handleGlobalResizeEvent: lO,
  handleGlobalMousedownCaptureEvent: qE,
  // 处理单选框默认勾选
  handleRadioDefChecked: function() {
    var t = this.fullDataRowIdData, n = this.radioConfig || {}, r = n.checkRowKey, o = r && encodeURIComponent(r), i = t[o];
    o && i && this.setRadioRow(i.row);
  },
  // 单选，行选中事件
  triggerRadioRowEvent: function(t, n) {
    var r = this.selectRow, o = this.radioConfig || {}, i = o.checkMethod;
    i && !i(n) || (this.setRadioRow(n.row), this.setCurrentRow(n.row), r !== n.row && pe(this, "radio-change", [n, t]));
  },
  triggerCurrentRowEvent: function(t, n) {
    var r = this.currentRow;
    this.setCurrentRow(n.row), r !== n.row && pe(this, "current-change", [n, t]);
  },
  // 高亮行，设置某一行为高亮状态，如果调不加参数，则会取消目前高亮行的选中状态
  setCurrentRow: function(t) {
    if (Pn(["clearCurrentRow", "clearCurrentColumn"], this), this.currentRow = t, this.highlightCurrentRow) {
      var n = this.$el.querySelectorAll('[data-rowid="' + Fe(this, t) + '"]');
      Ce(n, function(r) {
        return Ee(r, "row__current");
      });
    }
    return this.$nextTick();
  },
  setRadioRow: function(t) {
    return t !== this.selectRow && this.clearRadioRow(), this.selectRow = t, this.$nextTick();
  },
  clearCurrentRow: function() {
    Object.assign(this, {
      currentRow: null,
      hoverRow: null
    });
    var t = this.$el.querySelectorAll(".row__current");
    return Ce(t, function(n) {
      return _e(n, "row__current");
    }), this.$nextTick();
  },
  clearRadioRow: function() {
    var t = this.selectRow;
    return t && (this.selectRow = null), this.$nextTick();
  },
  getCurrentRow: function() {
    var t = this.currentRow;
    return t;
  },
  getRadioRow: function() {
    var t = this.selectRow;
    return t;
  },
  triggerHeaderCellClickEvent: function(t, n) {
    var r = this._lastResizeTime, o = this.highlightCurrentColumn, i = n.cell, l = n.column, a = this.sortOpts.trigger, s = r && r > Date.now() - 300, d = this.getEventTargetNode(t, i, "tiny-grid-sort-wrapper").flag, u = this.getEventTargetNode(t, i, "tiny-grid-filter-wrapper").flag;
    if (a === "cell" && !(s || d || u)) {
      var c = this.toggleColumnOrder(l);
      this.triggerSortEvent(t, l, c);
    }
    var f = Q({
      triggerResizable: s,
      triggerSort: d,
      triggerFilter: u
    }, n);
    return pe(this, "header-cell-click", [f, t]), o ? this.setCurrentColumn(l, !0) : this.$nextTick();
  },
  setCurrentColumn: function(t) {
    Pn(["clearCurrentRow", "clearCurrentColumn"], this), this.currentColumn = t;
    var n = this.$el.querySelectorAll("." + t.id);
    return Ce(n, function(r) {
      return Ee(r, "col__current");
    }), this.$nextTick();
  },
  clearCurrentColumn: function() {
    this.currentColumn = null;
    var t = this.$el.querySelectorAll(".col__current");
    return Ce(t, function(n) {
      return _e(n, "col__current");
    }), this.$nextTick();
  },
  // 当单元格发生改变时，如果存在规则，则校验
  handleChangeCell: function(t, n) {
    var r = this;
    this.triggerValidate("blur").catch(function(o) {
      return o;
    }).then(function() {
      r.handleActived(n, t).then(function() {
        return r.triggerValidate("change");
      }).catch(function(o) {
        return o;
      });
    });
  },
  // 列点击事件：如果是单击模式，则激活为编辑状态；如果是双击模式，则单击后选中状态
  triggerCellClickEvent: function(t, n) {
    var r = this.$el, o = this.highlightCurrentRow, i = this.editStore, l = this.radioConfig, a = l === void 0 ? {} : l, s = this.selectConfig, d = s === void 0 ? {} : s, u = this.expandConfig, c = u === void 0 ? {} : u, f = this.treeConfig, h = f === void 0 ? {} : f, p = this.editConfig, v = this.mouseConfig, g = v === void 0 ? {} : v, m = i.actived, b = n.row, y = n.column, S = n.cell;
    Ll(t, y, "radio") || Ll(t, y, "selection", "checkbox") || (iE({
      $el: r,
      _vm: this,
      column: y,
      event: t,
      expandConfig: c,
      params: n
    }), lE({
      _vm: this,
      column: y,
      event: t,
      params: n,
      treeConfig: h
    }), (!y.treeNode || !this.getEventTargetNode(t, r, "tiny-grid-tree-wrapper").flag) && (y.type !== "expand" || !this.getEventTargetNode(t, r, "tiny-grid__expanded").flag) && (aE({
      $el: r,
      _vm: this,
      event: t,
      highlightCurrentRow: o,
      params: n,
      radioConfig: a
    }), sE({
      $el: r,
      _vm: this,
      column: y,
      event: t,
      params: n,
      radioConfig: a
    }), dE({
      _vm: this,
      column: y,
      event: t,
      params: n,
      selectConfig: d
    }), uE({
      _vm: this,
      actived: m,
      cell: S,
      column: y,
      editConfig: p,
      event: t,
      mouseConfig: g,
      params: n,
      row: b
    })), pe(this, "cell-click", [n, t]));
  },
  // 列双击点击事件：如果是双击模式，则激活为编辑状态
  triggerCellDBLClickEvent: function(t, n) {
    var r = this, o = this.editStore, i = this.editConfig, l = o.actived, a = !l.args || t.currentTarget !== l.args.cell, s = i && i.trigger === "dblclick" && a;
    s && i.mode === "row" && this.triggerValidate("blur").catch(function(d) {
      return d;
    }).then(function() {
      r.handleActived(n, t).then(function() {
        return r.triggerValidate("change");
      }).catch(function(d) {
        return d;
      });
    }), s && i.mode === "cell" && this.handleActived(n, t).then(function() {
      return r.triggerValidate("change");
    }).catch(function(d) {
      return d;
    }), pe(this, "cell-dblclick", [n, t]);
  },
  // 点击排序事件
  triggerSortEvent: function(t, n, r) {
    var o = n.property, i = n.type ? !1 : n.sortable || n.remoteSort;
    if (this.sortable && i) {
      var l = {
        $table: this,
        column: n,
        order: r,
        property: o
      };
      l.prop = o, l.field = l.prop, r === n.order ? (l.order = null, this.clearSort(n.property)) : this.sort(o, r), pe(this, "sort-change", [l, t]);
    }
  },
  sort: function(t, n) {
    var r = this.remoteSort, o = this.tableFullColumn, i = this.visibleColumn, l = Le(i, function(d) {
      return d.property === t;
    }), a = at(l.remoteSort) ? l.remoteSort : r, s = l.type ? !1 : l.sortable || l.remoteSort;
    return this.sortable && s ? (l.order !== n && (o.forEach(function(d) {
      return d.order = null;
    }), l.order = n, !a && this.handleTableData(!0).then(this.refreshStyle)), this.$nextTick().then(this.updateStyle)) : this.$nextTick();
  },
  clearSort: function() {
    return Ce(this.tableFullColumn, function(t) {
      return t.order = null;
    }), this.$grid && (this.$grid.sortData = {}), this.handleTableData(!0).then(this.refreshStyle);
  },
  toggleGroupExpansion: function(t) {
    this.groupExpandeds.push(t);
  },
  // 展开行事件
  triggerRowExpandEvent: function(t, n) {
    var r = n.row, o = this.toggleRowExpansion(r), i = {
      $table: this,
      row: r,
      rowIndex: this.getRowIndex(r)
    };
    return pe(this, "toggle-expand-change", [i, t]), o;
  },
  // 切换展开行
  toggleRowExpansion: function(t) {
    return this.setRowExpansion(t);
  },
  // 处理默认展开行
  handleDefaultRowExpand: function() {
    var t = this.fullDataRowIdData, n = this.tableFullData, r = this.expandConfig || {}, o = r.expandAll, i = r.expandRowKeys;
    if (o) {
      this.expandeds = n.slice(0);
      return;
    }
    if (i) {
      var l = [];
      i.forEach(function(a) {
        var s = t[a];
        s && l.push(s.row);
      }), this.expandeds = l;
    }
  },
  setAllRowExpansion: function(t) {
    return this.expandeds = t ? this.tableFullData.slice(0) : [], this.$nextTick().then(this.recalculate);
  },
  // 设置展开行，二个参数设置这一行展开与否；支持单行；支持多行
  setRowExpansion: function(t, n) {
    var r = this.expandeds, o = this.expandConfig || {}, i = o.accordion, l = arguments.length === 1, a = !1;
    return t ? (je(t) || (t = [t]), i && (t = t.slice(t.length - 1, t.length), t.length && l && (a = r.includes(t[0])), r.length = 0), t.forEach(function(s) {
      var d = r.indexOf(s);
      if (l && ~d || !l && !n && ~d) {
        r.splice(d, 1);
        return;
      }
      (l && !a && !~d || !l && n && !~d) && r.push(s);
    }), this.$nextTick().then(this.recalculate)) : this.$nextTick().then(this.recalculate);
  },
  hasRowExpand: function(t) {
    return ~this.expandeds.indexOf(t);
  },
  clearRowExpand: function() {
    var t = this, n = this.expandeds.length;
    return this.expandeds = [], this.$nextTick().then(function() {
      return n ? t.recalculate() : 0;
    });
  },
  // 获取虚拟滚动状态
  getVirtualScroller: function() {
    var t = this.scrollXLoad, n = this.scrollYLoad, r = this.$refs.tableBody.$el, o = r.scrollLeft, i = r.scrollTop;
    return {
      scrollX: t,
      scrollY: n,
      scrollLeft: o,
      scrollTop: i
    };
  },
  // 横向 X 可视渲染事件处理
  triggerScrollXEvent: function(t) {
    this.loadScrollXData(t);
  },
  debounceScrollX: function(t) {
    var n = this;
    this.tasks.debounceScrollX || (this.tasks.debounceScrollXHandler = null, this.tasks.debounceScrollX = function() {
      return requestAnimationFrame(function() {
        n.tasks.debounceScrollXHandler = null, n.loadScrollXData(t);
      });
    }), this.tasks.debounceScrollXHandler && (cancelAnimationFrame(this.tasks.debounceScrollXHandler), this.tasks.debounceScrollXHandler = null), this.tasks.debounceScrollXHandler = this.tasks.debounceScrollX();
  },
  // 处理x轴滚动时，虚拟滚动数据计算
  loadScrollXData: function() {
    for (var t = this.scrollXStore, n = this.visibleColumn, r = t.offsetSize, o = t.renderSize, i = t.startIndex, l = t.visibleIndex, a = t.visibleSize, s = this.$refs.tableBody.$el.scrollLeft, d = {}, u = d.preload, c = u === void 0 ? !1 : u, f = d.toVisibleIndex, h = f === void 0 ? 0 : f, p = d.width, v = p === void 0 ? 0 : p, g = 0; g < n.length; g++)
      if (v += n[g].renderWidth, s < v) {
        h = g;
        break;
      }
    if (l === h) {
      this.clostTooltip();
      return;
    }
    var m = Math.min(Math.floor((o - a) / 2), a);
    m = Math.max(0, m), l > h ? (c = i >= h - r, c && (t.startIndex = Math.max(0, h - Math.max(m, o - a)), this.updateScrollXData())) : (c = i + o <= h + a + r, c && (t.startIndex = Math.max(0, Math.min(n.length - o, h - m)), this.updateScrollXData())), t.visibleIndex = h, this.clostTooltip();
  },
  // 纵向 Y 可视渲染事件处理
  triggerScrollYEvent: function(t) {
    this.loadScrollYData(t);
  },
  // 处理滚动分页相关逻辑
  debounceScrollLoad: function(t) {
    var n = this;
    this.tasks.debounceScrollLoad || (this.tasks.debounceScrollLoad = Ve(aO, function() {
      var r = n.scrollLoadStore, o = r.scrollHeight, i = r.bodyHeight, l = n.$grid.tablePage, a = l.currentPage, s = l.pageSize, d = o - i, u = t.target.scrollTop;
      u > d && (u = d);
      var c = n.scrollYStore.rowHeight, f = Math.ceil(u / c), h = Math.ceil(f / s) + 1;
      a !== h && n.$grid.pageCurrentChange(h);
    })), this.tasks.debounceScrollLoad();
  },
  // 纵向 Y 可视渲染处理
  loadScrollYData: function(t) {
    var n = this, r = this.scrollYStore, o = r.startIndex, i = r.renderSize, l = r.offsetSize, a = r.visibleIndex, s = r.visibleSize, d = r.rowHeight, u = t.target.scrollTop, c = Math.ceil(u / d), f = !1;
    if (a !== c) {
      var h = Math.min(Math.floor((i - s) / 2), s);
      if (c < a)
        f = o >= c - l, f && (r.startIndex = Math.max(0, c - Math.max(h, i - s)), this.updateScrollYData());
      else if (f = o + i <= c + s + l, f) {
        var p = this.getRowCount();
        r.startIndex = Math.max(0, Math.min(p - i, c - h)), this.updateScrollYData();
      }
      r.visibleIndex = c, this.$nextTick(function() {
        n.updateSelectedCls(!0);
      });
    }
  },
  getRowHeight: function() {
    return this.rowHeight;
  },
  // 计算可视渲染相关数据
  computeScrollLoad: function() {
    var t = this;
    return this.$nextTick().then(function() {
      var n = t.$refs, r = t.optimizeOpts, o = t.visibleColumn, i = t.scrollLoad, l = t.scrollXLoad, a = t.scrollXStore, s = t.scrollYLoad, d = t.scrollYStore, u = r.scrollX, c = r.scrollY, f = n.tableBody, h = f ? f.$el : null;
      h && ($E({
        _vm: t,
        scrollX: u,
        scrollXLoad: l,
        scrollXStore: a,
        tableBodyElem: h,
        visibleColumn: o
      }), SE({
        _vm: t,
        scrollLoad: i,
        scrollY: c,
        scrollYLoad: s,
        scrollYStore: d,
        tableBodyElem: h
      })), t.$nextTick(t.updateStyle);
    });
  },
  updateScrollXData: function() {
    var t = this.scrollXLoad, n = this.scrollXStore, r = this.tableColumn, o = this.treeConfig, i = this.visibleColumn, l = this.visibleColumnChanged, a = this.columnStore, s = n.lastStartIndex, d = s === void 0 ? -1 : s, u = n.renderSize, c = n.startIndex, f = {
      lastStartIndex: d,
      renderSize: u,
      scrollXLoad: t,
      startIndex: c,
      tableColumn: r,
      columnStore: a
    };
    Object.assign(f, {
      treeConfig: o,
      visibleColumn: i,
      visibleColumnChanged: l
    });
    var h = aI(f);
    this.updateScrollStatus(), h.sliced && (n.lastStartIndex = h.lastStartIndex, this.tableColumn = h.tableColumn, this.visibleColumnChanged = h.visibleColumnChanged, this.addedColumn = h.addedColumn, this.$nextTick(this.updateStyle));
  },
  updateScrollYData: function() {
    var t = this;
    this.updateScrollYSpace(), this.handleTableData().then(function() {
      return t.updateStyle();
    });
  },
  // 更新纵向 Y 可视渲染上下剩余空间大小
  updateScrollYSpace: function() {
    var t = this.$grid, n = this.elemStore, r = this.scrollLoad, o = this.scrollLoadStore, i = this.headerHeight, l = this.footerHeight, a = this.rowHeight, s = this.getRowCount(), d = t.pagerConfig ? t.pagerConfig.total * a : 0, u = n["main-body-ySpace"];
    o.bodyHeight = s * a + i + l, o.scrollHeight = d, u && r && (this.scrollLoadScrollHeight = d);
  },
  updateScrollLoadBar: function(t) {
    var n = this.$el, r = this.elemStore, o = this.scrollLoad, i = this.scrollLoadStore;
    if (o && n.contains(t.target)) {
      var l = t.wheelDelta ? t.wheelDelta : -t.detail * 40, a = r["main-body-ySpace"], s = i.scrollHeight, d = i.bodyHeight, u = s - d, c = a.scrollTop - l;
      c = u < c ? u : c, c = c < 0 ? 0 : c, a.scrollTop = c;
    }
  },
  scrollTo: function(t, n) {
    var r = this.elemStore, o = r["main-body-wrapper"];
    return er(t) && o && (o.scrollLeft = t), er(n) && o && (o.scrollTop = n), this.$nextTick();
  },
  scrollToRow: function(t, n, r, o) {
    var i = this.fullDataRowMap.has(N.toRaw(t)), l = r || at(n);
    return t && i && OS(this, t), this.scrollToColumn(n, l, o);
  },
  scrollToTreeRow: function(t) {
    var n = this, r = this.tableFullData, o = this.treeConfig;
    if (!o)
      return this.$nextTick();
    var i = rt(r, function(a) {
      return a === t;
    }, o);
    if (!i)
      return this.$nextTick();
    var l = i.nodes;
    return l.forEach(function(a, s) {
      s === l.length - 1 || n.hasTreeExpand(a) || n.setTreeExpansion(a, !0);
    }), this.$nextTick();
  },
  scrollToColumn: function(t, n, r) {
    var o = this, i = this.fullColumnMap.has(t);
    return t && i && MS(this, t), n && (this.scrollXLoad || this.scrollYLoad) ? new Promise(function(l) {
      return setTimeout(function() {
        return l(o.$nextTick());
      }, 50);
    }) : this.$nextTick();
  },
  resetScrollTop: function() {
    this.lastScrollTop = 0;
  },
  clearScroll: function() {
    var t = this, n = this.$grid, r = this.scrollXStore, o = this.scrollYStore, i = this.elemStore, l = n.fetchOption, a = l === void 0 ? {} : l, s = a.isReloadScroll, d = s === void 0 ? !1 : s;
    if (!d)
      return Object.assign(this, {
        lastScrollLeft: 0,
        lastScrollTop: 0
      }), Object.assign(r, {
        startIndex: 0,
        visibleIndex: 0
      }), Object.assign(o, {
        startIndex: 0,
        visibleIndex: 0
      }), this.$nextTick(function() {
        var u = i["main-body-wrapper"];
        t.afterMounted && Rt.mutate(function() {
          u && Object.assign(u, {
            scrollLeft: 0,
            scrollTop: 0
          });
        });
      });
  },
  // 更新表尾合计
  updateFooter: function() {
    var t = this.afterFullData, n = this.footerMethod, r = this.showFooter, o = this.summaryConfig, i = this.tableColumn, l = this.rowHeight;
    if (!(!je(t) || t.length <= 0 || !je(i) || i.length <= 0)) {
      if (n && r) {
        var a = n({
          columns: i,
          data: t
        });
        a.length && a.some(function(h) {
          return !je(h);
        }) && (a = [a]), this.footerData = i.length ? a : [];
      }
      if (o) {
        var s = o.fields, d = o.fraction, u = o.text, c = o.truncate, f = i.map(function(h, p) {
          return p === 0 ? u || "" : ~s.indexOf(h.property) ? $d(V2(t, h.property), d, c) : null;
        });
        this.footerData = [f];
      }
      return this.footerHeight = this.footerData.length * l, this.$nextTick();
    }
  },
  // 更新列状态：如果组件值v-model发生change，调用该函数更新列的编辑状态。如果单元格配置了校验规则，则进行校验
  updateStatus: function(t, n, r) {
    var o = this, i = this.$refs, l = this.editRules, a = this.tableData, s = this.validStore, d = i.tableBody;
    if (!t || !d)
      return this.$nextTick();
    var u = t.column, c = t.row, f = "change", h = function() {
      if (!gt(n)) {
        var v;
        o.updateRowStatus(c), (v = o.$refs.tableBody) == null || v.$forceUpdate();
      }
    };
    return !l || !this.hasCellRules(f, c, u) ? (h(), this.$nextTick()) : (r && r.isValidAlways && (s.visible = !0), a.indexOf(c), zt(this, {
      row: c,
      column: u
    }).then(function(p) {
      if (p)
        return o.validCellRules(f, c, u, n).then(function() {
          h(), o.clearValidate();
        }).catch(function(v) {
          var g = v.rule;
          h(), o.showValidTooltip({
            rule: g,
            row: c,
            column: u,
            cell: p
          });
        });
    }), this.$nextTick());
  },
  /* X/Y 方向滚动 */
  updateScrollStatus: function() {
    var t = this;
    this.tasks.updateScrollStatus || (this.tasks.updateScrollStatus = Ve(sO, function() {
      var n = t.scrollXLoad, r = t.scrollYLoad, o = t.isAsyncColumn;
      if (o && (n || r)) {
        var i = t.tableData, l = t.scrollXStore, a = t.scrollYStore, s = t.tableFullData, d = t.scrollDirection, u = d === void 0 ? "N" : d, c = n && l.visibleIndex === 0 || r && a.visibleIndex === 0;
        (c || u !== "N") && t.handleResolveColumn(s, t.collectAsyncColumn(i));
      }
    })), this.tasks.updateScrollStatus();
  },
  // 获取异步列唯一ID
  getAsyncColumnUniqueKey: function(t, n) {
    return t + "_" + n[this.rowId];
  },
  // 获取异步列名称
  getAsyncColumnName: function(t) {
    return Z.constant.asyncPrefix + t;
  },
  // 收集异步列
  collectAsyncColumn: function(t) {
    var n = this, r = [], o = this.rowId, i = this.asyncRenderMap, l = this.tableColumn;
    return o ? (l.forEach(function(a) {
      var s = a.format || {}, d = s.async, u = d || {}, c = u.fetch, f = u.splitConfig, h = f === void 0 ? {} : f;
      if (typeof c == "function") {
        var p = [];
        t.forEach(function(v) {
          var g = v[a.property];
          (typeof g != "string" || typeof g == "string" && !g) && (g = " ");
          var m = 1, b = [g], y = n.getAsyncColumnUniqueKey(a.property, v);
          h.enabled === !0 && (b = g.split(h.valueSplit || ","), m = b.length), i[y] || (i[y] = m, b.forEach(function(S) {
            return p.push(S);
          }));
        }), p.length && r.push(Q({}, a, {
          columnValues: p
        }));
      }
    }), r) : (bt("The (grid-props:rowId) is required for the asynchronous column."), r);
  },
  // fetchData 执行
  handleAsyncColumn: function(t) {
    this.isAsyncColumn && t.length && (this.asyncRenderMap = {}, this.handleResolveColumn(t, this.collectAsyncColumn(t)));
  },
  // 查询异步列
  handleResolveColumn: function(t, n) {
    var r = this.tableColumn, o = this.scrollYStore, i = this.asyncRenderMap, l = this.scrollXLoad, a = this.scrollYLoad, s = o.startIndex, d = l || a;
    if (n.length !== 0) {
      var u = mE({
        _vm: this,
        fetchColumns: n,
        tableColumn: r
      });
      Promise.all(u).then(IE({
        startIndex: s,
        fetchColumns: n,
        tableData: t,
        asyncRenderMap: i,
        isScrollLoad: d
      }, this));
    }
  },
  // Publish methods 与工具栏对接
  connect: function(t) {
    var n = t.toolbar;
    this.$toolbar = n;
  },
  // 检查触发源是否属于目标节点
  getEventTargetNode: On,
  // 可见性改变事件处理
  handleVisibilityChange: function(t, n) {
    if (this._tableVisible = t, t) {
      var r, o;
      (r = (o = this.$grid)._delayActivateAnchor) == null || r.call(o), this.updateParentHeight(), this.recalculate();
    }
    pe(this, "visible-change", [{
      $table: this,
      visible: t,
      entry: n
    }]);
  },
  // 按顺序切换列的排序状态（null --> asc --> desc --> null --> ...）
  toggleColumnOrder: function(t) {
    return t.order ? t.order === "asc" ? "desc" : null : "asc";
  },
  handleDataChange: function() {
    Array.isArray(this.data) && (!this._isUpdateData && this.loadTableData(this.data, !0), this._isUpdateData = !1);
  },
  getVm: function(t) {
    return this.$grid.getVm(t);
  },
  assembleColumns: function() {
    this.isTagUsageSence && kS(this);
  },
  isValidCustomColumn: function(t) {
    return t && this.columnNames.includes(t);
  },
  computeCollectKey: function() {
    var t = [], n = function(o) {
      Array.isArray(o) && o.length > 0 && o.forEach(function(i) {
        t.push(i.columnConfig.id), n(i.childColumns);
      });
    };
    return n(this.childColumns), t.join(",");
  },
  // 获取所有多选数据状态
  getAllSelection: function() {
    return this.selection;
  },
  // 尝试恢复滚动位置，规范了最大滚动位置的取值
  attemptRestoreScroll: function(t) {
    var n = this, r = t || this, o = r.lastScrollTop, i = r.lastScrollLeft, l = this.scrollXLoad, a = this.scrollYLoad, s = this.elemStore, d = s["main-body-wrapper"];
    return (o || i) && d && Rt.measure(function() {
      var u = d.scrollHeight - d.offsetHeight, c = d.scrollWidth - d.offsetWidth;
      o = Math.min(o, u), i = Math.min(i, c), Rt.mutate(function() {
        n.restoreScollFlag = !0, n.scrollTo(i, o), requestAnimationFrame(function() {
          var f;
          return (f = n.$refs.tableBody) == null ? void 0 : f.resetStickyWrapperScrollPos();
        }), l && n.triggerScrollXEvent(), a && n.triggerScrollYEvent({
          target: {
            scrollTop: o
          }
        });
      });
    }), this.$nextTick();
  },
  updateRowStatus: function(t) {
    z6(this, t);
  },
  getCellStatus: function(t, n) {
    return H6(this, t, n);
  }
};
_E.forEach(function(e) {
  Ys[e] = function() {
    return this["_" + e] ? this["_" + e].apply(this, arguments) : null;
  };
});
var xr = function(t) {
  return typeof t == "string" ? t : t[0];
}, Xs = function(t) {
  return t.map(xr);
}, Vl = function(t) {
  return Array.isArray(t) && t.length > 1 ? t[1] : {};
}, uO = U({
  props: Q({}, le, {
    datas: Object,
    row: Object
  }),
  render: function() {
    var t = this.datas, n = this.row, r = t.selectionColumn, o = t.genParams, i = t.config, l = o(r, n), a = i.tableVm;
    ~a.selection.indexOf(n);
    var s = a.selectConfig, d = s === void 0 ? {} : s, u = d.checkMethod;
    return typeof u == "function" && u(l), F("div", {
      attrs: {
        "data-tag": "tiny-table-column-type"
      },
      class: "py-px"
    }, r.renderCell(F, l));
  }
}), cO = U({
  inject: ["$mftable"],
  props: Q({}, le, {
    datas: Object,
    row: Object
  }),
  render: function() {
    var t = this, n = this.datas, r = this.row, o = n.primaryColumn, i = n.contentColumns, l = n.genParams, a = n.config, s = n.cardView, d = a.cardConfig, u = d === void 0 ? {} : d, c = {
      attrs: {
        "data-tag": "tiny-table-column-content"
      },
      class: "my-0.5 truncate space-y-2 sm:space-y-1 [&_[data-tag=tiny-input]]:leading-7 [&_[data-tag=tiny-input-textarea]>span]:pt-0"
    }, f = function() {
      return {
        mouseenter: t.handleMouseenter,
        mouseleave: t.handleMouseleave
      };
    };
    if (!o || !o.renderCell)
      return F("div", c, []);
    var h = null, p = [];
    if (s) {
      var v = typeof u.logoField < "u", g = !1, m = [], b = "", y = {}, S = null;
      if (u.tagFields && u.tagFields.length) {
        var w = u.tagFields;
        g = !0, m = Xs(w).map(function(R, O) {
          if (!r[R] || typeof r[R] != "string")
            return null;
          var L = Vl(w[O]), M = "";
          u.tagColorFields && u.tagColorFields.length && u.tagColorFields[O] && (M = xr(u.tagColorFields[O]));
          var V = r[M] || "", B = {
            props: {
              size: "mini",
              customClass: "inline-block truncate max-w-[theme(spacing.28)] h-4.5"
            }
          };
          return V && Object.assign(B.props, {
            type: V
          }), L.render ? L.render({
            h: F,
            row: r,
            field: R,
            config: L,
            value: r[R],
            color: V
          }) : F(Qt, B, r[R] || "");
        });
      }
      u.logoField && (b = xr(u.logoField), y = Vl(u.logoField));
      var _ = ["grid mb-3", v ? "grid-cols-[theme(spacing.11)_auto]" : "grid-cols-[auto]"], $ = "w-11 h-11 overflow-hidden rounded", I = ["text-base sm:text-sm text-color-text-primary font-medium leading-5", "overflow-hidden text-ellipsis whitespace-normal line-clamp-2 sm:line-clamp-1", {
        "ml-3": v
      }], A = ["truncate h-4.5", {
        "ml-3": v
      }];
      if (y.render) {
        var x = {
          h: F,
          row: r,
          field: b,
          config: y,
          value: r[b]
        };
        S = y.render(x);
      } else
        S = F("img", {
          class: "w-full h-full",
          attrs: {
            src: r[b] || ""
          }
        });
      h = F("div", {
        class: _
      }, [v ? F("div", {
        class: $
      }, [S]) : null, F("div", {
        class: "truncate space-y-1 relative -top-0.5"
      }, [F("div", {
        class: I,
        on: f()
      }, [o.renderCell(F, l(o, r))]), g ? F("div", {
        class: A
      }, m) : null])]);
    } else {
      var D = ["w-full text-base sm:text-sm text-color-text-primary font-medium leading-5", "overflow-hidden text-ellipsis whitespace-normal line-clamp-2 sm:line-clamp-1"];
      h = F("div", {
        class: D,
        on: f()
      }, [o.renderCell(F, l(o, r))]);
    }
    return p = i.map(function(R) {
      var O = l(R, r), L = ["w-full text-sm sm:text-xs text-color-fill-9 font-normal sm:font-normal leading-5 sm:leading-5", "overflow-hidden text-ellipsis whitespace-normal "], M = ce.renderCell(F, O), V = !1;
      Array.isArray(M) && (V = di(M[0]));
      var B = V ? "inline-block flex-grow [&_span]:leading-5 [&_div[data-tag=tiny-input]]:leading-5 ml-1" : "text-color-text-primary break-all", H = V ? "flex" : "line-clamp-2 sm:line-clamp-1";
      return F("div", {
        class: L + H,
        on: f()
      }, [
        // 这里需要兼容AUI与TinyVue表头实现方式的差异，此处勿同步
        F("span", {
          class: "shrink-0"
        }, [ce.renderHeader(F, O, "card")]),
        F("span", {}, u.split || ": "),
        F("span", {
          class: B
        }, [M])
      ]);
    }), F("div", c, [h].concat(p));
  },
  methods: {
    handleMouseenter: function(t) {
      var n = this.$mftable;
      n.showTooltip(t);
    },
    handleMouseleave: function() {
      var t = this.$mftable;
      t.hideTooltip();
    }
  }
}), fO = U({
  props: Q({}, le, {
    datas: Object,
    row: Object
  }),
  render: function() {
    var t = this.datas, n = this.row, r = t.slotLink, o = t.operationColumn, i = t.hasOperation, l = t.genParams, a = l(o, n), s;
    if (i) {
      var d = o.operationConfig, u = d === void 0 ? {} : d, c = u.buttons, f = c === void 0 ? [] : c, h = u.disabledClass, p = h === void 0 ? "" : h, v = [], g = function(w) {
        var _ = w.disabled, $ = _ === void 0 ? !1 : _;
        return typeof $ == "boolean" && $ || typeof $ == "function" && $(n);
      }, m = function(w) {
        var _ = w.hidden, $ = _ === void 0 ? !1 : _;
        return typeof $ == "boolean" && $ || typeof $ == "function" && $(n);
      }, b = function(w) {
        var _ = v.find(function($) {
          var I = $.name;
          return I === w;
        });
        _.click(window.event || {}, Q({
          buttonConfig: _
        }, a));
      };
      if (f.forEach(function(S) {
        return !m(S) && v.push(S);
      }), v.length === 0)
        s = null;
      else if (v.length === 1)
        s = F("div", {
          attrs: {
            title: v[0].name
          },
          class: "w-5 h-5 sm:w-4 sm:w-4 " + (g(v[0]) ? "fill-color-icon-disabled" : "fill-color-icon-secondary") + " "
        }, [F(v[0].icon, {
          on: {
            click: function(w) {
              g(v[0]) || b(v[0].name), w.stopPropagation();
            }
          },
          attrs: {
            "custom-class": "w-5 h-5 sm:w-4 sm:w-4"
          }
        })]);
      else {
        var y = {
          default: function() {
            return F(Vr(), {
              class: "mf-table-more outline-none text-base cursor-pointer"
            });
          },
          dropdown: function() {
            return F(_t, {
              slot: "dropdown"
            }, v.map(function(w) {
              var _;
              return F(Tt, {
                class: (_ = {}, _[p || ""] = g(w), _),
                props: {
                  itemData: w.name,
                  disabled: g(w),
                  icon: w.icon
                }
              }, w.name);
            }));
          }
        };
        s = F(Pt, {
          on: {
            "item-click": b
          },
          props: {
            trigger: "hover",
            showSelfIcon: !0,
            tiny_mode: "mobile-first",
            tiny_mode_root: !0
          },
          scopedSlots: y
        });
      }
    } else
      s = r({
        row: n,
        h: F
      });
    return F("div", {
      attrs: {
        "data-tag": "tiny-table-column-link"
      },
      class: "flex flex-col items-end mt-px sm:mt-0"
    }, [s]);
  }
}), hO = U({
  props: Q({}, le, {
    datas: Object,
    row: Object
  }),
  components: {
    ColumnType: uO,
    ColumnContent: cO,
    ColumnLink: fO
  },
  computed: {
    showLink: function() {
      var t = this.datas;
      return t.hasLink || t.hasOperation;
    }
  }
});
function pO(e, t, n, r, o, i) {
  var l = K("column-type"), a = K("column-content"), s = K("column-link");
  return C(), k(
    "div",
    {
      ref: "layout",
      "data-tag": "tiny-table-column-layout",
      class: W(["grid", [e.datas.hasType && e.showLink ? "grid-cols-[theme(spacing.7)_auto_theme(spacing.7)]" : "", e.datas.hasType && !e.showLink ? "grid-cols-[theme(spacing.7)_auto]" : "", !e.datas.hasType && e.showLink ? "grid-cols-[auto_theme(spacing.7)]" : "", !e.datas.hasType && !e.showLink ? "grid-cols-[auto]" : ""]])
    },
    [e.datas.hasType ? (C(), z(l, {
      key: 0,
      ref: "type",
      datas: e.datas,
      row: e.row
    }, null, 8, ["datas", "row"])) : P("v-if", !0), E(a, {
      datas: e.datas,
      row: e.row
    }, null, 8, ["datas", "row"]), e.showLink ? (C(), z(s, {
      key: 1,
      ref: "link",
      datas: e.datas,
      row: e.row
    }, null, 8, ["datas", "row"])) : P("v-if", !0)],
    2
    /* CLASS */
  );
}
var vO = /* @__PURE__ */ bi(hO, [["render", pO]]), gO = U({
  components: {
    ColumnLayout: vO
  },
  props: Q({}, le, {
    datas: Object,
    currentRowId: String
  }),
  emits: ["card-click"],
  data: function() {
    return {
      mergeClass: $o
    };
  },
  computed: {
    row: function() {
      var t = this.datas;
      return t.row;
    },
    rowid: function() {
      var t = this.datas, n = t.config, r = t.row, o = n.tableVm;
      return Fe(o, r);
    },
    isCardType: function() {
      var t, n = this.datas, r = n.config, o = r == null || (t = r.tableVm) == null ? void 0 : t.$grid, i = o.viewType;
      return i === "card";
    }
  },
  methods: {
    handleClick: function(t) {
      !On(t, this.$el, "tiny-grid-checkbox").flag && !On(t, this.$el, "mf-table-more").flag && this.$emit("card-click", this.row, t);
    }
  }
}), mO = ["data-rowid"];
function yO(e, t, n, r, o, i) {
  var l = K("column-layout");
  return C(), k("div", {
    class: W(e.mergeClass(e.datas.rowClass, e.currentRowId === e.rowid && e.isCardType ? "border sm:border-2 sm:border-color-brand" : "")),
    "data-tag": "tiny-table-row",
    "data-rowid": e.rowid,
    onClick: t[0] || (t[0] = function() {
      return e.handleClick && e.handleClick.apply(e, arguments);
    })
  }, [E(l, {
    datas: e.datas,
    row: e.row
  }, null, 8, ["datas", "row"])], 10, mO);
}
var bO = /* @__PURE__ */ bi(gO, [["render", yO]]), CO = U({
  inject: ["$mftable"],
  props: Q({}, le),
  render: function() {
    var t = this.$mftable, n = {
      $table: t.config.tableVm,
      $mftable: t,
      config: t.listConfig,
      rows: t.tableData,
      columns: t.config.tableVm.tableColumn,
      h: F
    };
    return typeof t.slotList == "function" ? t.slotList(n) : null;
  }
}), wO = U({
  inject: ["$mftable"],
  props: Q({}, le),
  render: function() {
    var t = this.$mftable, n = {
      $table: t.config.tableVm,
      $mftable: t,
      config: t.ganttConfig,
      rows: t.tableData,
      columns: t.config.tableVm.tableColumn,
      h: F
    };
    return typeof t.slotGantt == "function" ? t.slotGantt(n) : null;
  }
}), SO = U({
  inject: ["$mftable"],
  props: Q({}, le),
  render: function() {
    var t = this.$mftable, n = {
      $table: t.config.tableVm,
      $mftable: t,
      config: t.customConfig,
      rows: t.tableData,
      columns: t.config.tableVm.tableColumn,
      h: F
    };
    return typeof t.slotCustom == "function" ? t.slotCustom(n) : null;
  }
}), $O = U({
  inject: ["$mftable"],
  props: Q({}, le),
  render: function() {
    var t = this.$mftable, n = t.slotEmpty, r = t.renderEmpty, o = t.config.tableVm, i = null;
    return typeof n == "function" ? i = n({
      $table: o
    }) : typeof r == "function" && (i = r(F, o)), F("div", {
      attrs: {
        "data-tag": "tiny-grid-empty-wrapper"
      },
      class: "flex t-0 justify-center items-center w-full h-full bg-transparent sm:bg-color-bg-1 text-center"
    }, [i]);
  }
}), kO = U({
  components: {
    TableRow: bO,
    Tooltip: $t,
    Exception: Bn,
    ListView: CO,
    GanttView: wO,
    CustomView: SO,
    CustomEmpty: $O
  },
  provide: function() {
    return {
      $mftable: this
    };
  },
  props: {
    tableData: Array,
    cardConfig: Object,
    listConfig: Object,
    ganttConfig: Object,
    customConfig: Object
  },
  data: function() {
    return {
      primaryColumn: null,
      contentColumns: null,
      operationColumn: null,
      selectionColumn: null,
      slotLink: null,
      rowKey: 0,
      wrapperHeight: 0,
      tooltipVisible: !1,
      tooltipContent: "",
      currentRow: null,
      currentRowId: ""
    };
  },
  computed: {
    config: function() {
      var t = this.$parent, n = this.cardConfig, r = this.listConfig;
      return {
        tableVm: N.markRaw(t),
        cardConfig: n,
        listConfig: r
      };
    },
    cardView: function() {
      var t, n = this.config, r = n == null || (t = n.tableVm) == null ? void 0 : t.$grid, o = r.viewType, i = r.mfShow, l = Z.viewConfig, a = l.CARD, s = l.MF, d = l.MF_SHOW_CARD;
      return o === a || o === s && i === d;
    },
    listView: function() {
      var t, n = this.config, r = n == null || (t = n.tableVm) == null ? void 0 : t.$grid, o = r.viewType, i = Z.viewConfig.LIST;
      return o === i;
    },
    ganttView: function() {
      var t, n = this.config, r = n == null || (t = n.tableVm) == null ? void 0 : t.$grid, o = r.viewType, i = Z.viewConfig.GANTT;
      return o === i;
    },
    customView: function() {
      var t, n = this.config, r = n == null || (t = n.tableVm) == null ? void 0 : t.$grid, o = r.viewType, i = Z.viewConfig.CUSTOM;
      return o === i;
    },
    wrapperClass: function() {
      var t, n = this.config;
      return $o("w-full h-full overflow-y-auto", n == null || (t = n.tableVm) == null ? void 0 : t.viewCls("mfTable"), this.exceptionVisible ? "sm:border sm:border-solid sm:border-color-border-separator rounded-sm" : "");
    },
    tableClass: function() {
      var t = this.cardView, n = "w-full px-3.5 sm:px-0";
      return t ? $o(n, "grid gap-3") : n;
    },
    cardClass: function() {
      var t = this.listView, n = this.ganttView, r = this.cardConfig, o = this.customView, i = "grid-cols-[repeat(auto-fill,minmax(theme(spacing.64),1fr))]", l = "grid-cols-[repeat(auto-fill,minmax(theme(spacing.80),1fr))]";
      return t || n || o ? "" : (r == null ? void 0 : r.cardSize) === "small" ? i : l;
    },
    rowClass: function() {
      var t = this.cardView, n = this.cardConfig, r = "border-b-0.5 sm:border-b border-solid border-color-border-separator last:border-color-bg-1 py-3";
      return t && (r = "border-0 sm:border border-solid border-color-border-separator p-3 rounded hover:shadow-lg bg-color-bg-1", r += (n == null ? void 0 : n.cardSize) === "small" ? " min-w-[theme(spacing.64)]" : " min-w-[theme(spacing.80)]"), r;
    },
    wrapperStyle: function() {
      var t, n, r, o, i = this.config, l = this.wrapperHeight, a = (i == null || (t = i.tableVm) == null || (n = t.$grid) == null ? void 0 : n.viewType) === Z.viewConfig.DEFAULT, s = a ? "display:none;" : "", d = l ? "height:" + l + "px;" : "", u = i == null || (r = i.tableVm) == null || (o = r.$grid) == null ? void 0 : o.maxHeight, c;
      return tn(u) ? c = "max-height:" + u + ";" : ze(u) ? c = "max-height:" + ze(u) + "px;" : c = "", "" + s + d + c;
    },
    exceptionVisible: function() {
      var t = this.tableData, n = t.length === 0;
      return n;
    },
    isLoading: function() {
      var t, n, r = this.config;
      return (r == null || (t = r.tableVm) == null || (n = t.$grid) == null ? void 0 : n.loading) || !1;
    }
  },
  watch: {
    "config.tableVm.tableColumn": {
      handler: function() {
        this.mapColumns();
      },
      immediate: !0
    },
    "config.tableVm.viewType": {
      handler: function() {
        this.rowKey++;
      },
      immediate: !0
    },
    "config.tableVm.height": {
      handler: function() {
        this.getWrapperHeight();
      },
      immediate: !0
    },
    "config.tableVm.parentHeight": {
      handler: function() {
        this.getWrapperHeight();
      },
      immediate: !0
    },
    "config.tableVm.currentRow": {
      handler: function(t) {
        this.currentRow = t, this.setCurrentRowId();
      },
      immediate: !0
    }
  },
  mounted: function() {
    this.$nextTick(this.getWrapperHeight);
  },
  methods: {
    mapColumns: function() {
      var t, n, r, o, i, l, a, s, d, u, c, f, h, p, v, g, m, b, y = this.config, S = this.typeColumns, w = this.firstFewPropertyColumn, _ = this.cardConfig, $ = _ === void 0 ? {} : _, I = this.listConfig, A = I === void 0 ? {} : I, x = this.ganttConfig, D = x === void 0 ? {} : x, R = this.customConfig, O = R === void 0 ? {} : R, L = y == null || (t = y.tableVm) == null ? void 0 : t.tableColumn, M = $.primaryField, V = $.contentFields, B = $.selectable, H = $.renderLink, Y = $.operable, re = $.few, ue = re === void 0 ? 4 : re, ne = A.renderList, se = D.renderGantt, he = O.renderCustom, me = "", we = [], ye = w(L, ue), Pe, wt, qe, He, st, dt, Rn, Oi, Mi;
      M ? (me = xr(M), Pe = S(L, [me]).find(function(Vn) {
        return Vn.property === me;
      })) : Pe = ye && ye.length > 0 ? ye[0] : void 0, V && V.length ? (we = Xs(V), wt = S(L, we)) : wt = ye && ye.length > 1 ? ye.slice(1) : [], (typeof Y > "u" || Y) && (qe = S(L, ["operation"], "type").find(function(Vn) {
        return Vn.type === "operation";
      })), (typeof B > "u" || B) && (He = S(L, ["selection"], "type").find(function(Vn) {
        return Vn.type === "selection";
      })), st = (y == null || (n = y.tableVm) == null || (r = n.$grid) == null || (o = r.slots) == null ? void 0 : o.link) || H, dt = (y == null || (i = y.tableVm) == null || (l = i.$grid) == null || (a = l.slots) == null ? void 0 : a.list) || ne, Rn = (y == null || (s = y.tableVm) == null || (d = s.$grid) == null || (u = d.slots) == null ? void 0 : u.gantt) || se, Oi = (y == null || (c = y.tableVm) == null || (f = c.$grid) == null || (h = f.slots) == null ? void 0 : h.custom) || he, Mi = y == null || (p = y.tableVm) == null || (v = p.$grid) == null || (g = v.slots) == null ? void 0 : g.empty;
      var dd = y == null || (m = y.tableVm) == null || (b = m.$grid) == null ? void 0 : b.renderEmpty;
      Object.assign(this, {
        primaryColumn: Pe,
        contentColumns: wt,
        operationColumn: qe,
        selectionColumn: He
      }), Object.assign(this, {
        slotLink: st,
        slotList: dt,
        slotGantt: Rn,
        slotCustom: Oi,
        slotEmpty: Mi,
        renderEmpty: dd
      });
    },
    typeColumns: function(t, n, r) {
      var o = n.map(function(l) {
        return t.find(function(a) {
          return a.visible && a[r || "property"] === l;
        });
      }), i = [];
      return o.forEach(function(l) {
        return l && i.push(l);
      }), i;
    },
    firstFewPropertyColumn: function(t, n) {
      return t.filter(function(r) {
        return r.visible && !r.type && r.property;
      }).slice(0, n);
    },
    genParams: function(t, n) {
      var r = this.config, o = this.tableData, i = r.tableVm, l = i.tableColumn, a = l.indexOf(t), s = i.getColumnIndex(t), d = {
        column: t,
        $table: i,
        $columnIndex: a,
        columnIndex: s,
        data: o
      };
      if (n) {
        var u = o.indexOf(n), c = i.getRowIndex(n), f = u + 1;
        Object.assign(d, {
          row: n,
          $rowIndex: u,
          rowIndex: c,
          $seq: "",
          seq: f
        });
      }
      return d;
    },
    emitEvent: function(t, n) {
      var r = this.config;
      pe(r == null ? void 0 : r.tableVm, t, n);
    },
    handleCardClick: function(t, n) {
      var r = this.config, o = this.emitEvent, i = r == null ? void 0 : r.tableVm, l = i.highlightCurrentRow;
      if (l) {
        var a;
        this.currentRow = t, this.setCurrentRowId(), r == null || (a = r.tableVm) == null || a.triggerCurrentRowEvent(n, {
          $table: r == null ? void 0 : r.tableVm,
          row: t
        });
      }
      o.call(this, "card-click", [t, n]);
    },
    scrollEvent: function(t) {
      var n, r = this.$refs.warpperElem, o = r.scrolLeft, i = r.scrollTop;
      this.emitEvent("scroll", [{
        type: "body",
        $table: (n = this.config) == null ? void 0 : n.tableVm,
        scrolLeft: o,
        scrollTop: i
      }, t]);
    },
    cfg: function(t) {
      var n = this.config, r = this.cardView, o = this.selectionColumn, i = this.slotLink, l = this.primaryColumn, a = this.operationColumn, s = this.contentColumns, d = this.genParams, u = this.rowClass, c = !!o, f = !!i, h = !!a, p = {
        row: t,
        config: n,
        cardView: r,
        selectionColumn: o,
        slotLink: i,
        primaryColumn: l,
        operationColumn: a,
        contentColumns: s,
        genParams: d,
        hasType: c,
        hasOperation: h,
        hasLink: f,
        rowClass: u
      };
      return p;
    },
    getWrapperHeight: function() {
      var t, n, r = this.config, o = r == null || (t = r.tableVm) == null ? void 0 : t.$grid, i = (o == null ? void 0 : o.height) === "auto" ? "100%" : o == null ? void 0 : o.height, l = r == null || (n = r.tableVm) == null ? void 0 : n.parentHeight;
      this.wrapperHeight = tn(i) ? Math.floor(parseInt(i) / 100 * l) : ze(i);
    },
    showTooltip: function(t) {
      var n = this.$refs, r = this.cardConfig, o = r === void 0 ? {} : r, i = o.showTip;
      if (i) {
        var l = n.tooltip, a = t.target, s = a.textContent, d = a.getBoundingClientRect(), u = document.createRange();
        u.setStart(a, 0), u.setEnd(a, a.childNodes.length);
        var c = u.getBoundingClientRect();
        (c.x + c.width < d.x || c.x + c.width > d.x + d.width || c.y + c.height < d.y || c.y + c.height > d.y + d.height) && (l.state.referenceElm = a, l.state.popperElm && (l.state.popperElm.style.display = "none"), l.doDestroy(), this.tooltipContent = s, this.tooltipVisible = !0, setTimeout(l.updatePopper, 20));
      }
    },
    hideTooltip: function() {
      this.tooltipVisible = !1, this.tooltipContent = "";
    },
    setCurrentRowId: function() {
      var t = this.config, n = this.currentRow;
      n && (this.currentRowId = Fe(t.tableVm, n));
    }
  }
});
function TO(e, t, n, r, o, i) {
  var l = K("custom-empty"), a = K("exception"), s = K("list-view"), d = K("gantt-view"), u = K("custom-view"), c = K("table-row"), f = K("tooltip");
  return C(), k(
    "div",
    {
      ref: "warpperElem",
      "data-tag": "tiny-table-wrapper",
      class: W(["scrollbar-size-0", e.wrapperClass]),
      style: ke(e.wrapperStyle),
      onScroll: t[1] || (t[1] = function() {
        return e.scrollEvent && e.scrollEvent.apply(e, arguments);
      })
    },
    [e.exceptionVisible && (e.slotEmpty || e.renderEmpty) ? (C(), z(l, {
      key: 0,
      class: W(e.isLoading ? "invisible" : "")
    }, null, 8, ["class"])) : e.exceptionVisible ? (C(), z(a, {
      key: 1,
      tiny_mode: "mobile-first",
      tiny_mode_root: "",
      class: W(["min-h-[theme(spacing.72)]", e.isLoading ? "invisible" : ""]),
      "component-page": "",
      type: "nodata"
    }, null, 8, ["class"])) : (C(), k(
      "div",
      {
        key: 2,
        "data-tag": "tiny-table",
        class: W([e.tableClass, e.cardClass]),
        ref: "table"
      },
      [e.listView ? (C(), z(s, {
        key: 0
      })) : e.ganttView ? (C(), z(d, {
        key: 1
      })) : e.customView ? (C(), z(u, {
        key: 2
      })) : (C(!0), k(
        ie,
        {
          key: 3
        },
        $e(e.tableData, function(h, p) {
          return C(), z(c, {
            key: "" + e.rowKey + p,
            datas: e.cfg(h),
            "current-row-id": e.currentRowId,
            onCardClick: e.handleCardClick
          }, null, 8, ["datas", "current-row-id", "onCardClick"]);
        }),
        128
        /* KEYED_FRAGMENT */
      ))],
      2
      /* CLASS */
    )), E(f, {
      ref: "tooltip",
      modelValue: e.tooltipVisible,
      "onUpdate:modelValue": t[0] || (t[0] = function(h) {
        return e.tooltipVisible = h;
      }),
      content: e.tooltipContent,
      manual: ""
    }, null, 8, ["modelValue", "content"])],
    38
    /* CLASS, STYLE, NEED_HYDRATION */
  );
}
var _O = /* @__PURE__ */ bi(kO, [["render", TO]]), Qs = Z.themes, Ii = Z.viewConfig, IO = Z.columnLevelKey, EO = Z.defaultColumnName, OO = Qs.TINY, MO = Qs.SAAS, Nl = Ii.DEFAULT, xO = Ii.MF, DO = Ii.MF_SHOW_LIST, Pl = "tiny-grid-hidden-column";
function AO(e) {
  if (Ft(e) || tt("ui.grid.error.rowIdEmpty"), !Re._edit && e.editConfig)
    throw new Error(hr(tt("ui.grid.error.reqModule"), {
      name: "Edit"
    }));
  if (!Re._valid && e.editRules)
    throw new Error(hr(tt("ui.grid.error.reqModule"), {
      name: "Validator"
    }));
  if (!Re._keyboard && (e.keyboardConfig || e.mouseConfig))
    throw new Error(hr(tt("ui.grid.error.reqModule"), {
      name: "Keyboard"
    }));
  if (!Re._resize && e.autoResize)
    throw new Error(hr(tt("ui.grid.error.reqModule"), {
      name: "Resize"
    }));
}
function Fl(e, t) {
  e && Object.assign(t, {
    startIndex: 0,
    visibleIndex: 0,
    adaptive: at(e.adaptive) ? e.adaptive : !0,
    renderSize: ze(e.rSize),
    offsetSize: ze(e.oSize)
  });
}
function LO(e, t) {
  e && e.length > 0 && (t.loadTableData(e, !0), t.updateStyle());
}
function RO(e) {
  if (e.treeConfig) {
    var t = e.treeConfig.ordered;
    e.treeOrdered = Ke(t) ? !0 : !!t;
  }
}
function zl(e) {
  Xe.on(e, "mousedown", e.handleGlobalMousedownEvent), Xe.on(e, "mousedown", e.handleGlobalMousedownCaptureEvent, !0), Xe.on(e, "blur", e.handleGlobalBlurEvent), Xe.on(e, "mousewheel", e.handleGlobalMousewheelEvent), Xe.on(e, "keydown", e.handleGlobalKeydownEvent), Xe.on(e, "resize", e.handleGlobalResizeEvent), Xe.on(e, "contextmenu", e.handleGlobalContextmenuEvent);
}
function Hl(e) {
  Xe.off(e, "mousedown"), Xe.off(e, "mousedown", !0), Xe.off(e, "blur"), Xe.off(e, "mousewheel"), Xe.off(e, "keydown"), Xe.off(e, "resize"), Xe.off(e, "contextmenu");
}
var St = U({
  name: te + "GridTable",
  props: Q({}, le, {
    // 所有的列对齐方式
    align: {
      type: String,
      default: function() {
        return Z.align;
      }
    },
    // 是否自动监听父容器变化去更新响应式表格宽高
    autoResize: Boolean,
    // 是否带有纵向边框
    border: {
      type: Boolean,
      default: function() {
        return Z.border;
      }
    },
    // 给单元格附加 className
    cellClassName: [String, Function],
    // 主键配置
    columnKey: Boolean,
    // 所有列最小宽度，把剩余宽度按比例分配
    columnMinWidth: [Number, String],
    // 所有列宽度
    columnWidth: [Number, String],
    // 快捷菜单配置项
    contextMenu: Object,
    // 初始化绑定动态列
    customs: Array,
    // 数据
    data: [Array, Object],
    // 行拖拽和列拖拽的配置
    dropConfig: {
      type: Object,
      default: function() {
        return {};
      }
    },
    // 编辑配置项
    editConfig: [Object, Boolean],
    // 校验规则配置项
    editRules: Object,
    // 展开行配置项
    expandConfig: Object,
    // 列的宽度是否自撑开
    fit: {
      type: Boolean,
      default: function() {
        return Z.fit;
      }
    },
    // 所有的表尾列的对齐方式
    footerAlign: {
      type: String,
      default: function() {
        return Z.footerAlign;
      }
    },
    // 给表尾的单元格附加 className
    footerCellClassName: [String, Function],
    // 表尾合计的计算方法
    footerMethod: Function,
    // 给表尾的行附加 className
    footerRowClassName: [String, Function],
    // 表尾合并行或列
    footerSpanMethod: Function,
    // 所有的表头列的对齐方式
    headerAlign: {
      type: String,
      default: function() {
        return Z.headerAlign;
      }
    },
    // 给表头的单元格附加 className
    headerCellClassName: [String, Function],
    // 给表头的行附加 className
    headerRowClassName: [String, Function],
    // 表头后置图标是否绝对定位
    headerSuffixIconAbsolute: Boolean,
    // 表格的高度
    height: [Number, String],
    // 激活单元格编辑时是否高亮显示
    highlightCell: Boolean,
    // 是否要高亮当前选中列
    highlightCurrentColumn: {
      type: Boolean,
      default: function() {
        return Z.highlightCurrentColumn;
      }
    },
    // 是否要高亮当前选中行
    highlightCurrentRow: {
      type: Boolean,
      default: function() {
        return Z.highlightCurrentRow;
      }
    },
    // 鼠标移到列是否要高亮显示
    highlightHoverColumn: {
      type: Boolean,
      default: function() {
        return Z.highlightHoverColumn;
      }
    },
    // 鼠标移到行是否要高亮显示
    highlightHoverRow: {
      type: Boolean,
      default: function() {
        return Z.highlightHoverRow;
      }
    },
    // 是否开启异步列功能
    isAsyncColumn: Boolean,
    isCenterEmpty: Boolean,
    // 是否拖拽表头调整列顺序
    isDragHeaderSorting: Boolean,
    // 按键配置项
    keyboardConfig: {
      type: Object,
      default: function() {
        return {};
      }
    },
    // 表格是否加载中
    loading: Boolean,
    loadingComponent: Object,
    // 表格的最大高度
    maxHeight: [Number, String],
    // 表格的最小高度
    minHeight: [Number, String],
    // 鼠标配置项
    mouseConfig: {
      type: Object,
      default: function() {
        return {};
      }
    },
    // 优化配置项
    optimization: Object,
    // 额外的参数
    params: Object,
    // 单选配置
    radioConfig: Object,
    // 是否所有服务端筛选
    remoteFilter: Boolean,
    // 是否所有服务端排序
    remoteSort: Boolean,
    // 空数据渲染
    renderEmpty: Function,
    // 自定义表格行渲染后的逻辑
    renderRowAfter: Function,
    // 所有列是否允许拖动列宽调整大小
    resizable: {
      type: Boolean,
      default: function() {
        return Z.resizable;
      }
    },
    // 可调整列宽的配置
    resizableConfig: Object,
    // 给行附加 className
    rowClassName: [String, Function],
    // 行分组配置映射表
    rowGroup: Object,
    rowId: {
      type: String,
      default: function() {
        return Z.rowId;
      }
    },
    rowKey: Boolean,
    // 行合并
    rowSpan: Array,
    // 滚动加载(滚动分页加载)
    scrollLoad: Object,
    // 多选配置项
    selectConfig: Object,
    // 是否显示表尾合计
    showFooter: Boolean,
    // 是否显示表头
    showHeader: {
      type: Boolean,
      default: function() {
        return Z.showHeader;
      }
    },
    // 设置表头所有内容过长时显示为省略号
    showHeaderOverflow: {
      type: [Boolean, String],
      default: function() {
        return Z.showHeaderOverflow;
      }
    },
    // 设置所有内容过长时显示为省略号
    showOverflow: {
      type: [Boolean, String],
      default: function() {
        return Z.showOverflow;
      }
    },
    // 表格的尺寸
    size: {
      type: String,
      default: function() {
        return Z.size;
      }
    },
    // 排序配置项
    sortConfig: Object,
    // 自定义所有列的排序方法
    sortMethod: Function,
    // 全局开关控制所有的列是否可以排列
    sortable: {
      type: Boolean,
      default: !0
    },
    // 合并行或列
    spanMethod: Function,
    // 只对 type=index 时有效，自定义序号的起始值
    startIndex: {
      type: Number,
      default: 0
    },
    // 是否带有斑马纹
    stripe: {
      type: Boolean,
      default: function() {
        return Z.stripe;
      }
    },
    // saas下是否带有斑马纹
    stripeSaas: {
      type: Boolean,
      default: function() {
        return Z.stripeSaas;
      }
    },
    // saas下是否带有下边框线
    borderSaas: {
      type: Boolean,
      default: function() {
        return Z.borderSaas;
      }
    },
    // saas下配置竖线
    borderVertical: {
      type: Boolean,
      default: function() {
        return Z.borderVertical;
      }
    },
    // 默认统计配置
    summaryConfig: Object,
    // 是否自动根据状态属性去更新响应式表格宽高
    syncResize: Boolean,
    tableLayout: String,
    // tooltip 配置项
    tooltipConfig: {
      type: Object,
      default: function() {
        return {};
      }
    },
    // 树形结构配置项
    treeConfig: Object,
    // 校验配置项
    validConfig: Object,
    // 多端卡片配置
    cardConfig: Object,
    // 视图类型
    viewType: {
      type: String,
      default: function() {
        return Nl;
      }
    },
    // 移动优先视图下展示类型
    mfShow: {
      type: String,
      default: function() {
        return DO;
      }
    },
    // 列锚点
    columnAnchor: Array,
    // 表尾自定义渲染
    renderFooter: Function,
    // 多端列表配置
    listConfig: Object,
    // 多端甘特配置
    ganttConfig: Object,
    // 多端custom配置
    customConfig: Object,
    // 数据预取配置
    prefetch: [Boolean, Array],
    // 相交配置
    intersectionOption: Object,
    // 值比较方法
    equals: Function,
    // 自动清空鼠标选中
    autoClearMouseChecked: {
      type: Boolean,
      default: !0
    },
    // 操作列（type为index或radio或selection的列）是否可拖动列宽
    operationColumnResizable: {
      type: Boolean,
      default: function() {
        return Z.operationColumnResizable;
      }
    },
    // 自动清空键盘复制
    autoClearKeyboardCopy: {
      type: Boolean,
      default: !1
    },
    // 自定义列组件名称（列表）
    customColumnNames: {
      type: [String, Array],
      default: Z.defaultColumnName
    }
  }),
  provide: function() {
    return {
      $table: this,
      // 嵌套表格屏蔽父表格列
      $column: null
    };
  },
  inject: {
    $grid: {
      default: null
    }
  },
  data: function() {
    return {
      // 存储异步加载过的行\列数据
      asyncRenderMap: {},
      // 存放快捷菜单的信息
      ctxMenuStore: {
        list: [],
        selectChild: null,
        selected: null,
        showChild: !1,
        style: null,
        visible: !1
      },
      // 当前行
      currentRow: null,
      // 存放可编辑相关信息
      editStore: {
        editorAutoRefreshKey: 0,
        // 激活
        actived: {
          column: null,
          row: null
        },
        // 所有选中
        checked: {
          columns: [],
          rows: [],
          tColumns: [],
          tRows: []
        },
        // 已复制源
        copyed: {
          columns: [],
          cut: !1,
          rows: []
        },
        indexs: {
          columns: []
        },
        insertList: [],
        removeList: [],
        // 选中源
        selected: {
          column: null,
          row: null
        },
        titles: {
          columns: []
        }
      },
      // 已展开的行
      expandeds: [],
      // 当前选中的筛选列
      filterStore: {
        column: null,
        condition: {
          input: "",
          relation: "equals"
        },
        id: "",
        multi: !1,
        options: [],
        visible: !1
      },
      // 所有列已禁用
      headerCheckDisabled: !1,
      // 是否全选
      isAllSelected: !1,
      // 多选属性，有选中且非全选状态
      isIndeterminate: !1,
      // 是否存在横向滚动条
      overflowX: !1,
      // 是否存在纵向滚动条
      overflowY: !0,
      // 存储滚动加载，上次滚动的位置
      scrollLoadStore: {
        bodyHeight: 0,
        scrollHeight: 0
      },
      // 横向滚动条的高度
      scrollbarHeight: 0,
      // 纵向滚动条的宽度
      scrollbarWidth: 0,
      // 单选属性，选中行
      selectRow: null,
      // 存放多选工具栏相关信息
      selectToolbarStore: {
        layout: {
          height: 0,
          left: 0,
          top: 0,
          width: 0,
          zIndex: 1
        },
        visible: !1
      },
      // 多选属性，已选中的列
      selection: [],
      // tooltip提示内容
      tooltipContent: "",
      // tooltip提示内容是否处理换行字符
      tooltipContentPre: !1,
      // 已展开树节点
      treeExpandeds: [],
      // 树节点不确定状态的列表
      treeIndeterminates: [],
      // 存放数据校验相关信息
      validStore: {
        column: null,
        content: "",
        isArrow: !1,
        row: null,
        rule: null,
        visible: !1
      },
      // 校验tip提示内容
      validTipContent: "",
      // 在编辑模式下 单元格在失去焦点验证的状态
      validatedMap: {},
      // 表格父容器的高度
      parentHeight: 0,
      // 水平滚动条的状态
      horizonScroll: {
        fixed: !1,
        threshold: 2,
        max: 0,
        isLeft: !0,
        isRight: !1
      }
    };
  },
  computed: {
    bodyCtxMenu: function() {
      return this.ctxMenuOpts.body && this.ctxMenuOpts.body.options ? this.ctxMenuOpts.body.options : [];
    },
    ctxMenuList: function() {
      var t = [];
      return this.ctxMenuStore.list.forEach(function(n) {
        return n.forEach(function(r) {
          return t.push(r);
        });
      }), t;
    },
    ctxMenuOpts: function() {
      return Ae(!0, {}, Z.menu, this.contextMenu);
    },
    hasFilter: function() {
      return this.tableColumn.some(function(t) {
        return li(t.filter) && !lr(t.filter);
      });
    },
    hasTip: function() {
      return Re._tooltip;
    },
    headerCtxMenu: function() {
      return this.ctxMenuOpts.header && this.ctxMenuOpts.header.options ? this.ctxMenuOpts.header.options : [];
    },
    isCtxMenu: function() {
      return this.headerCtxMenu.length || this.bodyCtxMenu.length;
    },
    // 是否使用了分组表头
    isGroup: function() {
      return this.collectColumn.some(function(t) {
        return Er(t);
      });
    },
    isResizable: function() {
      return this.resizable || this.tableFullColumn.some(function(t) {
        return t.resizable;
      });
    },
    sortOpts: function() {
      return Ae(!0, {}, Z.sortConfig, this.sortConfig);
    },
    tooltipContentOpts: function() {
      return Ae(!0, {
        content: this.tooltipContent,
        pre: this.tooltipContentPre,
        renderContent: this.tooltipConfig.renderContent,
        placement: "right",
        type: this.tooltipConfig.effect ? void 0 : "normal"
      }, this.tooltipConfig);
    },
    vaildTipOpts: function() {
      return Ae(!0, {
        isArrow: !1,
        placement: "top",
        type: "error",
        content: this.validTipContent
      }, this.tooltipConfig);
    },
    validOpts: function() {
      var t, n, r = Object.assign({
        message: "tooltip"
      }, Z.validConfig, (t = this.$grid) == null || (n = t.designConfig) == null ? void 0 : n.validConfig, this.validConfig);
      return r.isMessageTooltip = r.message === "tooltip", r.isMessageDefault = r.message === "default", r.isMessageInline = r.message === "inline", r;
    },
    isThemeTiny: function() {
      return this.tinyTheme === OO;
    },
    isThemeSaas: function() {
      return this.tinyTheme === MO;
    },
    isViewDefault: function() {
      return this.viewType === Nl;
    },
    isShapeTable: function() {
      return this.isViewDefault || this.viewType === xO && this.$grid.currentBreakpoint !== "default";
    },
    columnNames: function() {
      var t = this.customColumnNames, n = [EO], r = function(i) {
        typeof i == "string" && !n.includes(i) && n.push(i);
      };
      return Array.isArray(t) && t.length > 0 ? t.forEach(r) : typeof t == "string" && r(t), n;
    }
  },
  watch: {
    collectColumn: function(t) {
      this.watchColumn(t);
    },
    customs: function(t) {
      !this.isUpdateCustoms && this.mergeCustomColumn(t), this.isUpdateCustoms = !1;
    },
    height: function() {
      this.$nextTick(this.recalculate);
    },
    syncResize: function(t) {
      t && this.$nextTick(this.recalculate);
    },
    tableColumn: function() {
      this.handleSelectionHeader();
    },
    parentHeight: function() {
      this.$nextTick(this.recalculate);
    }
  },
  created: function() {
    var t = Object.assign(this, {
      // 条件处理后数据
      afterFullData: [],
      // 分组表场景全量数据（包含虚拟行）
      groupFullData: [],
      elemStore: {},
      // 缓存数据集 columnId --> { colid: column.id, column, index }
      fullColumnIdData: {},
      // 缓存数据集 column --> { colid: column.id, column, index }
      fullColumnMap: /* @__PURE__ */ new Map(),
      fullDataRowIdData: {},
      fullDataRowMap: /* @__PURE__ */ new Map(),
      // 临时插入数据集
      temporaryRows: [],
      // 最后滚动位置
      lastScrollLeft: 0,
      lastScrollTop: 0,
      scrollDirection: "N",
      // N,X,Y （滚动方向）
      // 存放横向 X 虚拟滚动相关的信息
      scrollXStore: {},
      // 存放纵向 Y 虚拟滚动相关信息
      scrollYStore: {},
      // 完整数据
      tableFullData: [],
      // 表格高度
      tableHeight: 0,
      // 可见列总宽度
      totalWidth: 0,
      // 存放 tooltip 相关信息
      tooltipStore: {},
      // 表格已挂载完成
      afterMounted: !1,
      // 临时任务
      tasks: {},
      // 列初始就绪
      isColumnInitReady: !1,
      // 列就绪
      isColumnReady: !1,
      // 分组表场景是否具有虚拟行
      hasVirtualRow: !1,
      // 是否是标签式用法场景
      isTagUsageSence: !1,
      // 收集列信息（列数量和列顺序）
      columnCollectKey: "",
      // treeConfig.ordered的取值处理
      treeOrdered: void 0,
      // 水平滚动时新进入渲染的列
      addedColumn: [],
      // 单元格状态
      cellStatus: /* @__PURE__ */ new Map(),
      // 是否具有type selection列
      isCheckable: !1
    }), n = t.scrollXStore, r = t.scrollYStore, o = t.optimizeOpts, i = t.data, l = o.scrollX, a = o.scrollY;
    AO(this), Fl(l, n), Fl(a, r), RO(this), LO(i, this), zl(this), this.$grid.connect({
      name: "table",
      vm: this
    });
  },
  setup: function(t, n) {
    var r = n.slots, o = n.attrs, i = n.listeners, l = N.ref(iS()), a = N.ref([]), s = N.ref([]), d = N.ref([]), u = N.ref([]), c = N.ref([]), f = N.ref([]), h = N.ref([]), p = N.ref(!1), v = N.ref(!1), g = N.ref(0), m = N.ref(0), b = N.ref(!1), y = N.ref(), S = N.ref(), w = N.ref(), _ = N.ref(), $ = N.ref(), I = N.ref({
      // 自适应的列表集合
      autoList: [],
      centerList: [],
      // 左侧冻结列表集合
      leftList: [],
      // 右侧冻结列表集合
      rightList: [],
      // 固定像素宽度列表集合
      pxList: [],
      // 设置了最小宽度列表集合
      pxMinList: [],
      // 可调整列宽列表集合
      resizeList: [],
      // 百分比宽度列表集合
      scaleList: [],
      // 百分比最小宽度列表集合
      scaleMinList: []
    }), A = N.computed(function() {
      return {
        collectColumn: a.value,
        tableColumn: u.value,
        tableNode: c.value,
        tableData: f.value,
        footerData: h.value
      };
    }), x = N.computed(function() {
      return {
        tableData: f.value,
        cardConfig: t.cardConfig,
        listConfig: t.listConfig,
        ganttConfig: t.ganttConfig,
        customConfig: t.customConfig
      };
    }), D = N.ref(), R = N.ref(va(t, n)), O = N.getCurrentInstance().proxy, L = N.inject("$grid", null), M = N.computed(function() {
      return t.size || (L == null ? void 0 : L.size) || (L == null ? void 0 : L.vSize);
    }), V = N.computed(function() {
      return Ae(!0, {}, Z.optimization, t.optimization);
    }), B = N.computed(function() {
      var ne, se;
      return ((ne = V.value) == null ? void 0 : ne.scrollY.rHeight) || ((se = Z.rowHeight[R.value]) == null ? void 0 : se[M.value || "default"]) || 40;
    }), H = N.computed(function() {
      var ne;
      return ((ne = Z.headerRowHeight[R.value]) == null ? void 0 : ne[M.value || "default"]) || 40;
    });
    ga(), ma({
      relationKey: IO + "-" + l.value,
      childrenKey: "childColumns",
      relationContainer: function() {
        return xn ? null : O.$el.querySelector("." + Pl);
      },
      onChange: function() {
        var se = O.computeCollectKey();
        se !== O.columnCollectKey && (O.columnCollectKey = se, O.assembleColumns());
      }
    }), V6({
      props: t,
      collectColumn: a,
      tableColumn: u
    }), N6({
      props: t,
      visibleColumn: d,
      tableFullColumn: s,
      tableColumn: u,
      columnStore: I
    });
    var Y = X6(t), re = Y.tiledLength;
    N.onMounted(function() {
      O.addIntersectionObserver(), D.value && document.body.appendChild(D.value), N.nextTick(function() {
        O.afterMounted = !0, t.autoResize && Re._resize && O.bindResize();
      });
    }), N.onBeforeUnmount(function() {
      var ne;
      if ((ne = D.value) != null && ne.parentNode) {
        var se;
        (se = D.value) == null || se.parentNode.removeChild(D.value);
      }
      O.removeIntersectionObserver(), Re._resize && O.unbindResize(), O.closeFilter(), O.closeMenu();
      var he = O.elemStore["main-body-ySpace"];
      he && (he.onscroll = null), Hl(O), O._tileInfo = O._graphInfo = null;
    }), N.onActivated(function() {
      var ne = O.lastScrollLeft, se = O.lastScrollTop;
      (ne || se) && (O.scrollTo(ne, se), p.value && O.triggerScrollXEvent(), v.value && O.triggerScrollYEvent({
        target: {
          scrollTop: se
        }
      })), zl(O);
    }), N.onDeactivated(function() {
      Hl(O);
    });
    var ue = fs(o, i);
    return {
      slots: r,
      tableListeners: ue,
      tinyTheme: R,
      id: l,
      collectColumn: a,
      tableFullColumn: s,
      visibleColumn: d,
      tableColumn: u,
      tableNode: c,
      tableData: f,
      footerData: h,
      bodyProps: A,
      mfTableProps: x,
      vSize: M,
      optimizeOpts: V,
      rowHeight: B,
      headerRowHeight: H,
      tableWrapper: D,
      scrollXLoad: p,
      scrollYLoad: v,
      headerHeight: g,
      footerHeight: m,
      isColumnWidthAssigned: b,
      bodyWrapperHeight: y,
      bodyWrapperMinHeight: S,
      bodyWrapperMaxHeight: w,
      bodyTableWidth: _,
      scrollLoadScrollHeight: $,
      columnStore: I,
      tiledLength: re
    };
  },
  render: function() {
    var t, n = this.$grid, r = this.bodyProps, o = this.border, i = this.borderSaas, l = this.borderVertical, a = this.ctxMenuStore, s = this.dropConfig, d = this.editConfig, u = this.editRules, c = this.filterStore, f = this.hasFilter, h = this.hasTip, p = this.height, v = this.highlightCell, g = this.highlightHoverColumn, m = this.highlightHoverRow, b = this.horizonScroll, y = this.id, S = this.instanceSlots, w = this.isCtxMenu, _ = this.isGroup, $ = this.isResizable, I = this.isShapeTable, A = this.isThemeTiny, x = this.isThemeSaas, D = this.loading, R = this.loadingComponent, O = this.mfTableProps, L = this.mouseConfig, M = this.optimizeOpts, V = this.overflowX, B = this.overflowY, H = this.rowSpan, Y = this.scrollbarHeight, re = this.selectToolbarStore, ue = this.showFooter, ne = this.showHeader, se = this.showHeaderOverflow, he = this.showOverflow, me = this.spanMethod, we = this.stripe, ye = this.stripeSaas, Pe = this.tableData, wt = this.tooltipContentOpts, qe = this.vSize, He = this.vaildTipOpts, st = this.validOpts, dt = st.isMessageDefault, Rn = st.isMessageTooltip;
    return F("div", {
      class: (t = {
        "tiny-grid h-full sm:h-auto !bg-transparent sm:!bg-color-bg-1 after:border-none sm:after:border-solid": !0
      }, t["row__valid-" + st.message] = !0, t["size__" + qe] = qe, t["tiny-grid-editable"] = d, t.show__head = ne, t.show__foot = ue, t.scroll__y = B, t.scroll__x = V, t["all-overflow"] = he, t["all-head-overflow"] = se, t["tiny-grid-cell__highlight"] = v, t["tiny-grid__animat"] = M.animat, t["tiny-grid__stripe"] = !x && we, t["tiny-grid__stripe-saas"] = x && ye, t["tiny-grid__border"] = o || _, t["tiny-grid__border-saas"] = x && i, t["tiny-grid__group-saas"] = x && _, t["tiny-grid__border-vertical"] = l, t["tiny-grid__checked"] = L.checked, t["mark-insert"] = d && d.markInsert, t["edit__no-border"] = d && d.showBorder === !1, t.is__loading = D, t.row__highlight = m, t.column__highlight = g, t["is__row-span"] = H && H.length > 0 || typeof me == "function", t["row__drop-handle--index"] = s.rowHandle === "index", t.fixed__sticky = b.fixed, t["tiny-grid-fixed__left"] = !b.isLeft, t["tiny-grid-fixed__right"] = !b.isRight, t)
    }, [
      // 隐藏列
      F("div", {
        class: Pl,
        ref: "hideColumn"
      }, S.default && S.default()),
      // 主内容
      F($r, {
        ref: "tableBody",
        props: r,
        class: this.viewCls("tableBody")
      }),
      // 边框线
      F("div", {
        class: ["tiny-grid__border-line", this.viewCls("borderLine")],
        key: "tinyGridBorderLine"
      }),
      // 列宽线
      $ ? F("div", {
        class: ["tiny-grid__resizable-bar", this.viewCls("resizeBar")],
        style: V ? {
          "padding-bottom": Y + "px"
        } : null,
        ref: "resizeBar",
        key: "tinyGridResizeBar"
      }) : null,
      // 加载中
      F(R || Us, {
        props: {
          visible: D
        },
        class: this.viewCls("gridLoading")
      }),
      // 筛选、快捷菜单、Tip提示、校验提示
      F("div", {
        class: ["tiny-grid" + y + "-wrapper " + (this.$attrs.staticClass || ""), this.viewCls("tableWrapper")],
        ref: "tableWrapper"
      }, [
        // 筛选
        f ? F(Ti, {
          props: {
            optimizeOpts: M,
            filterStore: c
          },
          ref: "filterWrapper"
        }) : null,
        // 快捷菜单
        w ? F(_i, {
          props: {
            ctxMenuStore: a
          },
          ref: "ctxWrapper"
        }) : null,
        // Ellipsis tooltip
        h ? F($t, {
          ref: "tooltip",
          props: wt
        }) : null,
        // valid error tooltip
        h && u && (dt ? !p : Rn) ? F($t, {
          class: "tiny-grid__valid-error",
          props: Rn || Pe.length === 1 ? He : null,
          ref: "validTip"
        }) : null
      ]),
      // 多选工具栏
      n.selectToolbar ? F("div", {
        ref: "selectToolbar",
        class: ["tiny-grid__select-toolbar", this.viewCls("selectToolbar")],
        style: [re.layout, {
          visibility: re.visible ? "visible" : "hidden"
        }]
      }, n.renderedToolbar ? n.renderedToolbar : [null]) : null,
      // 多端表格（默认主题或默认视图/mf大屏下，不渲染）
      !A && !I ? F(_O, {
        ref: "mfTable",
        props: O
      }) : null
    ]);
  },
  methods: Q({}, Ys, {
    viewCls: function(t) {
      return this.$grid.viewCls(t);
    }
  })
});
St.install = function(e) {
  Re.Vue = e, Re.Table = St, e.component(St.name, St);
};
var VO = Z.columnLevelKey, NO = Z.defaultColumnName, vo = U({
  name: NO,
  componentName: "GridColumn",
  props: Q({}, le, {
    // 列对齐方式
    align: String,
    // 给单元格附加 className
    className: [String, Function],
    // 单元格编辑渲染配置项
    editor: [Object, Function],
    // 列属性
    field: String,
    filter: {},
    // 自定义筛选方法
    filterMethod: Function,
    // 筛选是否允许多选
    filterMultiple: {
      type: Boolean,
      default: !0
    },
    // 筛选模板配置项
    filterRender: Object,
    // 配置筛选条件数组
    filters: Array,
    // 将列固定在左侧或者右侧
    fixed: String,
    // 表尾列的对齐方式
    footerAlign: String,
    // 给表尾单元格附加 className
    footerClassName: [String, Function],
    // 格式化配置
    formatConfig: {
      type: Object,
      default: function() {
        return {
          data: []
        };
      }
    },
    // 格式化显示内容
    formatText: [Function, String],
    // 格式化单元格编辑器组件的传入值
    formatValue: Function,
    group: {
      type: Boolean,
      default: !1
    },
    // 表头对齐方式
    headerAlign: String,
    // 给表头单元格附加 className
    headerClassName: [String, Function],
    // 自定义索引方法
    indexMethod: Function,
    // 在 v3.0 中废弃 label
    label: String,
    // 列最小宽度，把剩余宽度按比例分配
    minWidth: [Number, String],
    // 额外的参数
    params: Object,
    // 在 v3.0 中废弃 prop
    prop: String,
    // 是否服务端排序
    remoteSort: {
      type: Boolean,
      default: null
    },
    // 单元格渲染配置项
    renderer: [Object, Function],
    // 是否必填，如不设置，则会根据校验规则自动生成
    required: {
      type: Boolean,
      default: !1
    },
    // 是否允许拖动列宽调整大小
    resizable: {
      type: Boolean,
      default: null
    },
    // 表单的验证功能
    rules: Object,
    // 当表头内容过长时显示为省略号
    showHeaderOverflow: {
      type: [Boolean, String],
      default: null
    },
    // 显示列头提示
    showHeaderTip: {
      type: Boolean,
      default: null
    },
    // 是否显示列头编辑图标
    showIcon: {
      type: Boolean,
      default: !0
    },
    // 当内容过长时显示为省略号
    showOverflow: {
      type: [Boolean, String],
      default: null
    },
    // 显示列内容提示
    showTip: {
      type: Boolean,
      default: null
    },
    // 自定义排序的属性
    sortBy: [String, Array],
    // 自定义排序方法
    sortMethod: Function,
    // 是否允许排序
    sortable: {
      type: Boolean,
      default: !1
    },
    // 列标题
    title: [String, Function],
    // 指定为树节点
    treeNode: Boolean,
    // 渲染类型: index,radio,selection,expand,operation,默认值空串
    type: String,
    // 列宽度
    width: [Number, String],
    // 操作列配置
    operationConfig: Object,
    // 值比较方法
    equals: Function
  }),
  provide: function() {
    return {
      $column: this
    };
  },
  inject: {
    $table: {
      default: null
    }
  },
  setup: function(t, n) {
    var r = n.slots, o = N.reactive, i = N.inject, l = N.getCurrentInstance, a = N.onUpdated, s = N.watch, d = N.nextTick, u = l(), c = u.proxy, f = i("$grid"), h = i("$table"), p = {};
    !h.isTagUsageSence && (h.isTagUsageSence = !0), ga(), ma({
      relationKey: VO + "-" + h.id
    });
    var v = o({
      // 创建表格列实例化对象
      columnConfig: ce.createColumn(h, t),
      slots: r,
      // 如果是静态数据源，就拿第一行数据
      firstRow: !f.fetchOption && f.data && f.data.length ? f.data[0] : {}
    });
    return s(function() {
      return t.formatConfig;
    }, function() {
      return v.columnConfig.format = t.formatConfig;
    }), a(function() {
      var g = c.$scopedSlots || c.slots, m = Object.keys(g || {}).some(function(b) {
        var y;
        return ((y = p) == null ? void 0 : y[b]) !== g[b];
      });
      m && (p = Q({}, g), v.columnConfig.slots = p);
    }), d(function() {
      return v.columnConfig.slots = c.instanceSlots;
    }), v;
  },
  render: function() {
    var t = this.$table, n = this.firstRow, r = this.columnConfig, o = this.instanceSlots, i;
    try {
      i = o.default && o.default({
        row: n,
        column: r,
        skip: !0
      });
    } catch {
      i = null, bt("ui.grid.error.chainCallError");
    }
    var l = rt(i, function(s) {
      var d = s || {}, u = d.componentOptions, c = d.type, f = c && c.name || u && u.Ctor.extendOptions.name;
      return t.isValidCustomColumn(f);
    }, null, null), a = {
      key: r.id,
      attrs: {
        "data-colid": r.id
      }
    };
    return F("div", a, l && i);
  },
  methods: ce
});
vo.install = function(e) {
  e.component(vo.name, vo);
};
var PO = Z.themes, cr = Z.viewConfig, FO = PO.SAAS, zO = cr.GANTT, Js = cr.MF, HO = cr.CARD;
cr.DEFAULT;
var BO = cr.CUSTOM, jO = Object.keys(St.props);
function WO(e) {
  var t, n = e.h, r = e._vm, o = e.vSize, i = e.props, l = e.selectToolbar, a = e.slots, s = e.$slots, d = e.tableOns, u = e.renderedToolbar, c = e.loading, f = e.pagerConfig, h = e.pager, p = e.tableLoading, v = e.viewType, g = e.columnAnchorParams, m = e.columnAnchor, b = e.fullScreenClass;
  return n("div", {
    class: (t = {}, t["tiny-grid__wrapper tiny-grid view_" + v] = !0, t["!bg-transparent sm:!bg-color-bg-1"] = v === Js || v === HO, t["size__" + o] = o, t["tiny-grid__animat"] = i.optimization.animat, t[b] = !0, t)
  }, [
    l ? null : u(),
    m ? r.renderColumnAnchor(g, r) : null,
    // 这里会渲染tiny-grid-column插槽内容，从而获取列配置
    n(St, {
      props: i,
      on: d,
      ref: "tinyTable"
    }, a.default && a.default()),
    r.renderPager({
      $slots: s,
      _vm: r,
      loading: c,
      pager: h,
      pagerConfig: f,
      tableLoading: p,
      vSize: o
    })
  ]);
}
var ct = U({
  name: te + "Grid",
  provide: function() {
    return {
      $grid: this
    };
  },
  props: Q({}, le, {
    columns: Array,
    proxyConfig: Object,
    fetchData: Object,
    saveData: Object,
    deleteData: Object,
    toolbar: Object,
    pager: Object,
    dataset: Object,
    autoLoad: {
      type: Boolean,
      default: !0
    },
    seqSerial: {
      type: Boolean,
      default: !1
    },
    events: Object
  }, St.props, {
    isBeforePageChange: Boolean,
    showSaveMsg: {
      type: Boolean,
      default: !1
    },
    isMultipleHistory: Boolean,
    selectToolbar: [Boolean, Object]
  }),
  data: function() {
    return {
      emitter: Sd(),
      fetchOption: null,
      filterData: [],
      listeners: {},
      pagerConfig: null,
      // 存放标记为删除的行数据
      pendingRecords: [],
      sortData: {},
      tableCustoms: [],
      tableData: [],
      tableLoading: !1,
      tablePage: {
        total: 0,
        pageSize: 10,
        currentPage: 1
      },
      tablePageLoading: !1,
      realTimeTablePage: {
        total: 0,
        pageSize: 10,
        currentPage: 1
      },
      columnAnchorParams: {},
      columnAnchorKey: "",
      tasks: {},
      fullScreenClass: "",
      isInitialLoading: !0,
      // 是否首次加载数据
      _delayActivateAnchor: void 0
    };
  },
  computed: {
    // 工具栏按钮保存和删除时是否弹出提示信息
    isMsg: function() {
      return this.proxyOpts.message !== !1;
    },
    tableProps: function() {
      var t = this, n = {};
      return jO.forEach(function(r) {
        return n[r] = t[r];
      }), n;
    },
    proxyOpts: function() {
      return Ae(!0, {}, Z.grid.proxyConfig, this.proxyConfig);
    },
    vSize: function() {
      return this.size || this.$parent && this.$parent.size || this.$parent && this.$parent.vSize;
    },
    seqIndex: function() {
      var t = this.seqSerial, n = this.scrollLoad, r = this.pagerConfig, o = this.startIndex, i = this.tablePageLoading, l = this.realTimeTablePage, a = o, s = i ? l : r;
      return (t || n) && s && (a = (s.currentPage - 1) * s.pageSize + o), a;
    },
    isThemeSaas: function() {
      return this.tinyTheme === FO;
    },
    isModeMobileFirst: function() {
      return this.tinyMode === "mobile-first";
    },
    isViewGantt: function() {
      return this.viewType === zO;
    },
    isViewCustom: function() {
      return this.viewType === BO;
    },
    optimizOpt: function() {
      return Object.assign(this.initOptimization, Z.optimization, this.optimization);
    },
    editConfigOpt: function() {
      return this.editConfig ? Object.assign(this.initEditConfig, Z.editConfig, this.editConfig, {
        activeMethod: this.handleActiveMethod
      }) : null;
    },
    tooltipOpt: function() {
      var t;
      return Object.assign(this.initTooltipConfig, Z.tooltip, (t = this.designConfig) == null ? void 0 : t.tooltip, this.tooltipConfig);
    }
  },
  watch: {
    // 监听配置式columns数组
    columns: function(t) {
      this.loadColumn(t);
    },
    tableCustoms: function() {
      this.toolbar && this.$refs.toolbar && this.$refs.toolbar.loadStorage();
    },
    viewType: function(t) {
      var n = this;
      t === Js && this.$nextTick(function() {
        return n.recalculate();
      });
    }
  },
  created: function() {
    this.vmStore = /* @__PURE__ */ Object.create(null), this.fetchOption = this.initFetchOption(), this.pagerConfig = this.initPagerConfig();
    var t = this.customs, n = this.events, r = this.prefetch, o = this.fetchOption, i = this.autoLoad;
    if (t && (this.tableCustoms = t), n) {
      var l = {};
      for (var a in n)
        if (Object.prototype.hasOwnProperty.call(n, a)) {
          var s = a.replace(/\B([A-Z])/g, "-$1").toLowerCase();
          l[s] = n[a], ~["pageChange", "sortChange", "filterChange", "toolbarButtonClick"].indexOf(a) && this.emitter.on(s, n[a]);
        }
      this.listeners = l;
    }
    r && o && i !== !1 && (Array.isArray(r) ? this.commitProxy("prefetch", r) : this.commitProxy("prefetch"));
  },
  mounted: function() {
    var t = this.columns, n = this.fetchOption, r = this.autoLoad, o = this.pagerSlot, i = this.prefetch;
    if (o) {
      var l = o.componentOptions.listeners, a = l === void 0 ? {} : l, s = o.componentInstance;
      a["size-change"] || s.$on("size-change", this.pageSizeChange), a["current-change"] || s.$on("current-change", this.pageCurrentChange);
    }
    if (t && t.length && this.loadColumn(this.columns), !i && n) {
      if (this._pageSizeChangeCallback)
        this._pageSizeChangeCallback(), this._pageSizeChangeCallback = null;
      else if (r) {
        var d = this.getVm("toolbar");
        this.commitProxy("query", d && d.orderSetting());
      }
    }
    this.isMultipleHistory && this.initMultipleHistory();
  },
  setup: function(t, n) {
    var r = n.listeners, o = n.attrs, i = N.ref({}), l = N.ref({}), a = N.ref({}), s = fs(o, r), d = N.ref(va(t, n)), u = N.ref(Cd(t, n)), c = wd(), f = function(p, v, g) {
      var m = g.designConfig, b = m === void 0 ? null : m;
      return {
        tableListeners: s,
        designConfig: b,
        tinyTheme: d,
        tinyMode: u,
        currentBreakpoint: c.current,
        initEditConfig: i,
        initOptimization: l,
        initTooltipConfig: a
      };
    };
    return N.onBeforeUnmount(function() {
      var h = N.getCurrentInstance().proxy;
      h.vmStore = null;
    }), ve({
      props: t,
      context: n,
      renderless: f,
      api: ["designConfig", "tableListeners", "tinyTheme", "tinyMode", "currentBreakpoint", "initEditConfig", "initOptimization", "initTooltipConfig"]
    });
  },
  render: function() {
    var t = this, n = this.fetchOption, r = this.listeners, o = this.loading, i = this.optimizOpt, l = this.editConfigOpt, a = this.tooltipOpt, s = this.pager, d = this.pagerConfig, u = this.remoteFilter, c = this.remoteSort, f = this.selectToolbar, h = this.seqIndex, p = this.slots, v = this.tableCustoms, g = this.tableData, m = this.tableListeners, b = this.tableLoading, y = this.tableProps, S = this.toolbar, w = this.vSize, _ = this.designConfig, $ = this.viewType, I = this.columnAnchor, A = this.columnAnchorParams, x = this.fullScreenClass;
    _ != null && _.icons && Object.assign(Z.icon, _.icons);
    var D = Object.assign(y, {
      optimization: i,
      startIndex: h,
      editConfig: l,
      tooltipConfig: a
    });
    (_ == null ? void 0 : _.stripe) !== void 0 && !D.stripe && (D.stripe = _ == null ? void 0 : _.stripe);
    var R = Object.assign(r, m), O = this.handleRowClassName, L = this.sortChangeEvent, M = this.filterChangeEvent;
    n && (Object.assign(D, {
      loading: o || b,
      data: g,
      rowClassName: O
    }), c && (R["sort-change"] = L), u && (R["filter-change"] = M)), S && !(S.setting && S.setting.storage) && (D.customs = v), S && (R["update:customs"] = function(B) {
      return t.tableCustoms = B;
    }), R["column-init-ready"] = this.handleColumnInitReady;
    var V = function() {
      return t.getRenderedToolbar({
        $slots: p,
        _vm: t,
        loading: o,
        tableLoading: b,
        toolbar: S
      });
    };
    return WO({
      h: F,
      _vm: this,
      vSize: w,
      props: D,
      selectToolbar: f,
      renderedToolbar: V,
      tableOns: R,
      slots: this.slots,
      $slots: p,
      loading: o,
      pager: s,
      pagerConfig: d,
      tableLoading: b,
      viewType: $,
      columnAnchorParams: A,
      columnAnchor: I,
      fullScreenClass: x
    });
  },
  methods: {
    // 配置高度减去（表格锚点+工具栏+分页）计算得出表格高度
    updateParentHeight: function() {
      var t = this;
      this.tasks.updateParentHeight || (this.tasks.updateParentHeight = Ve(10, function() {
        var n = t.$el, r = t.$refs, o = r.tinyTable, i = r.tinyGridColumnAnchor, l = t.getVm("toolbar");
        if (o) {
          var a = 0;
          if (i) {
            var s = getComputedStyle(i), d = s.height, u = s.marginTop, c = s.marginBottom;
            a = ze(d) + ze(u) + ze(c);
          }
          o.parentHeight = n.parentNode.clientHeight - (l ? l.$el.clientHeight : 0) - a - (r.pager ? r.pager.$el.clientHeight : 0);
        }
      })), this.tasks.updateParentHeight();
    },
    // 向缓存添加实例
    connect: function(t) {
      var n = t.name, r = t.vm;
      n && typeof n == "string" && r && (this.vmStore[n] = r);
    },
    createJob: function(t, n) {
      t === "pageSizeChangeCallback" ? this._pageSizeChangeCallback = n : t === "updateCustomsCallback" && (this._updateCustomsCallback = this._updateCustomsCallback || [], this._updateCustomsCallback.push(n));
    },
    // 从缓存获取实例
    getVm: function(t) {
      if (t && typeof t == "string" && this.vmStore)
        return this.vmStore[t];
    },
    // 列就绪时的处理
    handleColumnInitReady: function() {
      this._updateCustomsCallback && (this._updateCustomsCallback.forEach(function(t) {
        t();
      }), this._updateCustomsCallback = []);
    },
    handleRowClassName: function(t) {
      var n = this.rowClassName, r = [];
      return this.pendingRecords.includes(t.row) && r.push("row__pending"), r.concat(n ? n(t) : []);
    },
    handleActiveMethod: function(t) {
      return !~this.pendingRecords.indexOf(t.row) && (!this.editConfig.activeMethod || this.editConfig.activeMethod(t));
    },
    sortChangeEvent: function(t) {
      var n = this.remoteSort, r = t.column, o = Ae(!1, {
        $grid: this
      }, t);
      (at(r.remoteSort) ? r.remoteSort : n) && (this.sortData = t, this.tablePage.currentPage = 1, this.commitProxy("query")), pe(this, "sort-change", o), this.emitter.emit("sort-change", o);
    },
    viewCls: function(t) {
      return Z.viewConfig[t][this.viewType] || "";
    },
    filterChangeEvent: function(t) {
      var n = Ae(!1, {
        $grid: this
      }, t);
      this.remoteFilter && (this.filterData = t.filters, this.commitProxy("query")), pe(this, "filter-change", n), this.emitter.emit("filter-change", n);
    }
  }
});
ct.install = function(e) {
  e.component(ct.name, ct);
};
function KO(e) {
  var t = e._vm, n = e.editStore, r = e.newRecords, o = e.newRecordsCopy, i = e.nowData, l = e.row, a = e.tableFullData, s = e.tableSourceData;
  if (l === -1 && (Array.prototype.push.apply(i, r), Array.prototype.push.apply(a, r), Array.prototype.push.apply(s, o)), l && l !== -1) {
    var d = i.indexOf(l);
    if (d === -1)
      throw new Error(tt("ui.grid.error.unableInsert"));
    var u = a.indexOf(l);
    Array.prototype.splice.apply(i, [d, 0].concat(r)), Array.prototype.splice.apply(a, [u, 0].concat(r)), Array.prototype.splice.apply(s, [u, 0].concat(o));
  }
  l || (Array.prototype.unshift.apply(i, r), Array.prototype.unshift.apply(a, r), Array.prototype.unshift.apply(s, o)), Array.prototype.unshift.apply(n.insertList, r), Array.prototype.push.apply(t.temporaryRows, o);
}
var qO = function(t, n) {
  var r = this, o = function() {
    if (!t || !n)
      return r.$nextTick();
    var l = Le(r.visibleColumn, function(s) {
      return s.property === n;
    });
    if (!l || !l.editor)
      return r.$nextTick();
    var a = function(d) {
      if (d) {
        var u = r.getRowIndex(t), c = r.getColumnIndex(l);
        r.handleActived({
          row: t,
          rowIndex: u,
          column: l,
          columnIndex: c,
          cell: d,
          $table: r
        }), r.lastCallTime = Date.now();
      }
    };
    return zt(r, {
      row: t,
      column: l
    }).then(a), r.$nextTick();
  };
  return this.scrollToRow(t, !0).then(o);
}, GO = {
  _insert: function(t) {
    return this.insertAt(t);
  },
  // 根据位置从指定行添加数据
  _insertAt: function(t, n) {
    var r = this, o = this.afterFullData, i = this.editStore, l = this.isAsyncColumn, a = this.scrollYLoad, s = this.tableFullData, d = this.tableSourceData, u = d === void 0 ? [] : d, c = this.treeConfig;
    if (c)
      throw new Error(tt("ui.grid.error.treeInsert"));
    if (l) {
      var f = this.getColumns();
      f.forEach(function(m) {
        m.format && m.format.async && m.format.async.fetch && (t[Z.constant.insertedField] = !0);
      });
    }
    je(t) || (t = [t]);
    var h = o, p = t.map(function(m) {
      return N.reactive(r.defineField(Q({}, m)));
    }), v = At(p, !0);
    KO({
      _vm: this,
      editStore: i,
      newRecords: p,
      newRecordsCopy: v,
      nowData: h,
      row: n,
      tableFullData: s,
      tableSourceData: u
    }), this.updateCache(), this.handleTableData(!0), this.checkSelectionStatus(), this.updateFooter(), a && this.updateScrollYSpace();
    var g = {
      row: p.length ? p[p.length - 1] : null,
      rows: p
    };
    return this.$nextTick().then(function() {
      return r.recalculate(), g;
    });
  },
  /**
   * 删除指定行数据
   * 如果传 row 则删除一行
   * 如果传 rows 则删除多行
   */
  _remove: function(t) {
    var n = this, r = this.afterFullData, o = this.scrollYLoad, i = this.selectConfig, l = i === void 0 ? {} : i, a = this.selection, s = this.tableFullData, d = this.treeConfig, u = this.tableSourceData, c = u === void 0 ? [] : u, f = this.editStore, h = f.insertList, p = f.removeList, v = l.checkField, g = r, m = [], b = t, y = function(I, A) {
      return ~A.indexOf(I);
    };
    if (d)
      throw new Error(tt("ui.grid.error.treeRemove"));
    b || (t = s), b && !je(b) && (t = [b]);
    for (var S = 0; S < t.length; S++) {
      var w = t[S];
      this.hasRowInsert(w) || p.push(w);
    }
    v || Ye(a, function($) {
      return y($, t);
    }), s === t ? (t = s.slice(0), s.length = 0, g.length = 0) : (m = Ye(s, function($) {
      return y($, t);
    }), Ye(g, function($) {
      return y($, t);
    })), Ye(c, function($) {
      return Le(h, function(I) {
        return Fe(n, I) === Fe(n, $);
      }) && Le(t, function(I) {
        return Fe(n, I) === Fe(n, $);
      });
    }), Ye(h, function($) {
      return y($, t);
    }), this.updateCache(), this.handleTableData(!0), this.checkSelectionStatus(), this.updateFooter(), o && this.updateScrollYSpace();
    var _ = {
      row: t && t.length ? t[t.length - 1] : null,
      rows: m
    };
    return this.$nextTick().then(function() {
      return n.recalculate(), _;
    });
  },
  /**
   * 删除选中数据
   */
  _removeSelecteds: function() {
    var t = this, n = this.getSelectRecords(!0), r = function(i) {
      return t.clearSelection(), i;
    };
    return this.remove(n).then(r);
  },
  _revert: function() {
    return bt("ui.grid.error.delRevert"), this.revertData.apply(this, arguments);
  },
  /**
   * 对数据进行还原
   * 如果不传任何参数，则还原整个表格；
   * 如果传row则还原一行；
   * 如果传rows则还原多行；
   * 如果还额外传了field则还原指定单元格。
   */
  _revertData: function(t, n) {
    var r = this.tableSynchData;
    arguments.length && t && !je(t) && (t = [t]), arguments.length || (t = r || []);
    for (var o = 0; o < t.length; o++) {
      var i = t[o], l = this.getOriginRow(i);
      l && i && (n ? Ge(i, n, fe(l, n)) : as(i, l)), this.updateRowStatus(i);
    }
    return arguments.length ? this.$nextTick() : this.reloadData(r);
  },
  /**
   * 获取表格操作数据集
   */
  _getRecordset: function() {
    var t = {};
    return t.insertRecords = this.getInsertRecords(), t.removeRecords = this.getRemoveRecords(), t.updateRecords = this.getUpdateRecords(), t;
  },
  /**
   * 获取删除数据列表
   */
  _getRemoveRecords: function() {
    return this.editStore.removeList;
  },
  /**
   * 获取新增数据列表
   */
  _getInsertRecords: function() {
    return this.editStore.insertList;
  },
  /**
   * 获取更新数据列表
   * 只精准匹配row的更改。如果是树表格，子节点更改状态不会影响父节点的更新状态
   */
  _getUpdateRecords: function() {
    var t = this, n = this.tableFullData, r = this.treeConfig, o = function(a) {
      return !t.isTemporaryRow(a) && t.hasRowChange(a);
    }, i = r ? Ir(n, o, r) : n.filter(o);
    return i;
  },
  /**
   * 处理激活编辑
   */
  handleActived: function(t, n) {
    var r = this;
    return Os(/* @__PURE__ */ nr().m(function o() {
      var i, l, a, s, d, u, c, f, h, p, v, g;
      return nr().w(function(m) {
        for (; ; ) switch (m.n) {
          case 0:
            if (i = r.editConfig, l = r.editStore, a = r.tableColumn, s = t.cell, d = t.column, u = t.row, c = d.editor, f = l.actived, h = jI({
              actived: f,
              column: d,
              editConfig: i,
              row: u
            }), !(c && s && h)) {
              m.n = 2;
              break;
            }
            return p = "edit-disabled", m.n = 1, Zs({
              editConfig: i,
              params: t
            });
          case 1:
            v = m.v, g = {
              _vm: r,
              actived: f,
              canActive: v,
              cell: s,
              column: d,
              editConfig: i
            }, Object.assign(g, {
              event: n,
              params: t,
              row: u,
              tableColumn: a,
              type: p
            }), p = WI(g), KI({
              _vm: r,
              canActive: v,
              event: n
            }), pe(r, p, [t, n]);
          case 2:
            return qI({
              _vm: r,
              actived: f,
              cell: s,
              column: d,
              editor: c,
              event: n,
              isActiveCell: h,
              params: t,
              row: u
            }), m.a(2, r.$nextTick());
        }
      }, o);
    }))();
  },
  _getColumnModel: function(t, n) {
    var r = n.model, o = n.editor;
    o && (r.value = Ln(t, n), r.update = !1);
  },
  _setColumnModel: function(t, n) {
    var r = n.model, o = n.editor;
    o && r.update && (un(t, n, r.value), r.update = !1, r.value = null);
  },
  _getActiveRow: function() {
    var t = this.$el, n = this.editStore, r = this.tableData, o = n.actived, i = o.args, l = o.row, a = t.querySelectorAll(".tiny-grid-body__column.col__actived").length;
    return i && ~r.indexOf(l) && a ? Q({}, i) : null;
  },
  /**
   * 清除已激活的编辑
   */
  _clearActived: function(t) {
    var n = this, r = this.editConfig, o = r === void 0 ? {} : r, i = this.editStore, l = this.tableColumn, a = i.actived, s = a.args, d = a.column, u = a.row, c = u || d;
    if (c && o.mode === "row" && l.forEach(function(m) {
      return n._setColumnModel(u, m);
    }), c && o.mode !== "row" && this._setColumnModel(u, d), c) {
      var f;
      this.updateRowStatus(a.row), this.updateFooter();
      var h = s.row, p = s.column, v = p || {}, g = v.editor;
      (g == null ? void 0 : g.component) === "input" && (g == null || (f = g.attrs) == null ? void 0 : f.type) === "number" && (h[p.property] = +h[p.property]), pe(this, "edit-closed", [s, t]);
    }
    return a.args = null, a.column = null, a.row = null, this.clearValidate().then(this.recalculate);
  },
  _hasActiveRow: function(t) {
    return this.editStore.actived.row === t;
  },
  /**
   * 处理聚焦
   */
  handleFocus: function(t) {
    var n = t.cell, r = t.column, o = r.editor;
    if (o) {
      var i, l = Si.get(o.component), a = o.autofocus, s = o.autoselect, d = o.focusDelay, u = function() {
        a && (i = n.querySelector(a));
        var f = l && l.autofocus;
        if (f && !i && (i = n.querySelector(f)), !!i) {
          var h = i.type;
          if (i.type = "text", i.selectionEnd = i.value.length, i.selectionStart = i.selectionEnd, i.type = h, i[s ? "select" : "focus"](), ft.name === "ie") {
            var p = i.createTextRange();
            p.collapse(!1), p.select();
          }
        }
      };
      setTimeout(u, d || 50);
    }
  },
  /**
   * 激活单元格编辑
   */
  _setActiveCell: qO,
  /**
   * 激活行编辑
   */
  _setActiveRow: function(t) {
    var n = Le(this.visibleColumn, function(r) {
      return r.editor;
    });
    return this.setActiveCell(t, n.property);
  },
  /**
   * 只对trigger为dblclick有效，选中单元格
   */
  _setSelectCell: function(t, n) {
    var r = this, o = this.editConfig, i = this.tableData, l = this.visibleColumn;
    if (!t || !n || o.trigger === "manual")
      return this.$nextTick();
    var a = Le(l, function(u) {
      return u.property === n;
    }), s = i.indexOf(t);
    if (!~s || !a)
      return this.$nextTick();
    var d = function(c) {
      var f = l.indexOf(a), h = {
        row: t,
        rowIndex: s,
        column: a,
        columnIndex: f,
        cell: c
      };
      r.handleSelected(h, {});
    };
    return zt(this, {
      row: t,
      column: a
    }).then(d), this.$nextTick();
  },
  updateSelectedCls: function(t) {
    var n = this.editStore, r = this.elemStore, o = this.mouseConfig, i = o === void 0 ? {} : o, l = n.selected, a = l.column, s = l.row;
    if (t && this.clearSelected(!0), !(!i.selected || !s || !a)) {
      var d = r["main-body-list"], u = Fe(this, s), c = d.querySelector('[data-rowid="' + u + '"]');
      c && Ee(c.querySelector("." + a.id), "col__selected");
    }
  },
  /**
   * 处理选中源
   */
  handleSelected: function(t, n, r) {
    var o = this, i = this.editConfig, l = this.editStore, a = this.elemStore, s = this.mouseConfig, d = s === void 0 ? {} : s, u = l.actived, c = l.selected, f = t || {}, h = f.cell, p = f.column, v = f.row, g = function() {
      var b;
      if (c.row === v && c.column === p || u.row === v && (i.mode !== "cell" || u.column === p) || ((o.keyboardConfig || o.mouseConfig) && (o.clearChecked(n), o.clearIndexChecked(), o.clearHeaderChecked(), o.clearSelected(n)), o.clearActived(n), c.args = t, c.row = v, c.column = p, o.updateSelectedCls(), !d.checked))
        return o.$nextTick();
      var y = a["main-body-headerList"];
      return o.handleChecked([[h]]), y && (o.handleHeaderChecked([[y == null ? void 0 : y.querySelector("." + (p == null ? void 0 : p.id))]]), o.handleIndexChecked([[h == null || (b = h.parentNode) == null ? void 0 : b.querySelector(".col__index")]])), o.$nextTick();
    };
    return g = r ? g : Ve(20, g), g();
  }
}, UO = {
  install: function(t) {
    Re._edit = 1, Object.assign(t.methods, GO);
  }
}, ZO = {
  install: function(t) {
    Re._export = 1, Object.assign(t.methods, B$);
  }
};
function YO(e) {
  var t = e.checkColumn, n = e.columnIndex, r = e.isLeft, o = e.rowIndex, i = e.tableData, l = e.targetColumn, a = e.targetColumnIndex, s = e.targetRow, d = e.targetRowIndex, u = e.visibleColumn;
  if (!r)
    return {
      targetColumn: l,
      targetColumnIndex: a,
      targetRow: s,
      targetRowIndex: d
    };
  for (var c = n - 1; c >= 0; c--)
    if (t(u[c])) {
      a = c, l = u[c];
      break;
    }
  if (l || o <= 0)
    return {
      targetColumn: l,
      targetColumnIndex: a,
      targetRow: s,
      targetRowIndex: d
    };
  d = o - 1, s = i[d];
  for (var f = u.length - 1; f >= 0; f--)
    if (t(u[f])) {
      a = f, l = u[f];
      break;
    }
  return {
    targetColumn: l,
    targetColumnIndex: a,
    targetRow: s,
    targetRowIndex: d
  };
}
function XO(e) {
  var t = e.checkColumn, n = e.columnIndex, r = e.isLeft, o = e.rowIndex, i = e.tableData, l = e.targetColumn, a = e.targetColumnIndex, s = e.targetRow, d = e.targetRowIndex, u = e.visibleColumn;
  if (r)
    return {
      targetColumn: l,
      targetColumnIndex: a,
      targetRow: s,
      targetRowIndex: d
    };
  for (var c = n + 1; c < u.length; c++)
    if (t(u[c])) {
      a = c, l = u[c];
      break;
    }
  if (l || o >= i.length - 1)
    return {
      targetColumn: l,
      targetColumnIndex: a,
      targetRow: s,
      targetRowIndex: d
    };
  d = o + 1, s = i[d];
  for (var f = 0; f < u.length; f++)
    if (t(u[f])) {
      a = f, l = u[f];
      break;
    }
  return {
    targetColumn: l,
    targetColumnIndex: a,
    targetRow: s,
    targetRowIndex: d
  };
}
function QO(e) {
  var t = e._vm, n = e.args, r = e.edit, o = e.editConfig, i = e.event, l = e.isLeft, a = e.params, s = e.rowIndex, d = e.targetColumn, u = e.targetColumnIndex, c = e.targetRow, f = e.targetRowIndex;
  d && (c ? (a.rowIndex = f, a.row = c) : a.rowIndex = s, a.columnIndex = u, a.column = d, zt(t, a).then(function(h) {
    a.cell = h, o && (o.trigger === "click" || o.trigger === "dblclick") && (o.mode === "row" || r ? t.handleActived(a, i) : (t.handleSelected(a, i), t.scrollToRow(a.row, a.column, !1, {
      isLeftArrow: l,
      isRightArrow: !l,
      from: n.column
    })));
  }));
}
function JO(e) {
  var t = e._vm, n = e.bodyList, r = e.cell, o = e.cellFirstElementChild, i = e.cellLastElementChild, l = e.flag, a = e.headStart, s = e.headerList, d = e.isIndex, u = e.startCellNode, c = e.targetElem;
  if (l) {
    if (d) {
      var f = c.parentNode.firstElementChild;
      t.handleChecked(Ze(n, ge(f.nextElementSibling), ge(i))), t.handleIndexChecked(Ze(n, ge(f), ge(r)));
    } else if (!Lr(c, "col__index")) {
      var h = c.parentNode.firstElementChild, p = [].indexOf.call(c.parentNode.children, c), v = s[0].children[p];
      t.handleHeaderChecked(Ze(s, ge(v), ge(a))), t.handleIndexChecked(Ze(n, ge(h), ge(o))), t.handleChecked(Ze(n, u, ge(c)));
    }
  }
}
function eM(e) {
  var t = e.$el, n = e._vm, r = e.bodyList, o = e.cell, i = e.cellFirstElementChild, l = e.cellLastElementChild, a = e.headStart, s = e.headerList, d = e.isIndex, u = e.startCellNode, c = n.mouseConfig, f = c === void 0 ? {} : c, h = f || {}, p = h.updateInterval, v = p === void 0 ? 10 : p, g = document.onmousemove, m = document.onmouseup, b = function(w) {
    w.preventDefault();
    var _ = On(w, t, "tiny-grid-body__column"), $ = _.flag, I = _.targetElem, A = {
      _vm: n,
      bodyList: r,
      cell: o,
      cellFirstElementChild: i,
      cellLastElementChild: l,
      flag: $
    };
    Object.assign(A, {
      headStart: a,
      headerList: s,
      isIndex: d,
      startCellNode: u,
      targetElem: I
    }), JO(A);
  }, y = si(v, !1, b, !0);
  document.onmousemove = y, document.onmouseup = function() {
    document.onmousemove = g, document.onmouseup = m;
  };
}
function tM(e) {
  var t = e._vm, n = e.actived, r = e.cell, o = e.checked, i = e.column, l = e.editConfig, a = e.event, s = e.isLeftBtn, d = e.mouseConfig, u = e.params, c = e.row;
  l && (n.row !== c || !(l.mode === "cell" && n.column === i)) && !(s && d.checked) && d.selected && l.trigger === "dblclick" && (!o.rowNodes || !o.rowNodes.some(function(f) {
    return ~f.indexOf(r);
  })) && t.handleSelected(u, a);
}
function nM(e) {
  var t = e._vm, n = e.editConfig, r = e.event, o = e.mouseConfig, i = e.params;
  !n && o.selected && t.handleSelected(i, r);
}
function rM(e) {
  var t = e._vm, n = e.bodyList, r = e.cell, o = e.cellLastElementChild, i = e.event, l = e.headerList, a = e.isIndex, s = e.params, d = e.visibleColumn;
  if (a) {
    var u = r.parentNode.firstElementChild;
    s.columnIndex++, s.column = d[s.columnIndex], s.cell = r.nextElementSibling, t.handleSelected(s, i), t.handleChecked(Ze(n, ge(u.nextElementSibling), ge(o))), t.handleHeaderChecked([l[0].querySelectorAll(".tiny-grid-header__column:not(.col__index)")]), t.handleIndexChecked(Ze(n, ge(u), ge(r)));
  }
}
function oM(e) {
  var t = e._vm, n = e.cell, r = e.column, o = e.event, i = e.headerList, l = e.isIndex, a = e.params;
  if (!l) {
    var s = n.parentNode.firstElementChild;
    t.handleSelected(a, o), t.handleHeaderChecked([[i[0].querySelector("." + r.id)]]), t.handleIndexChecked([[s]]);
  }
}
function iM(e) {
  var t = e.$el, n = e._vm, r = e.bodyList, o = e.cell, i = e.headerList, l = e.startCell, a = document.onmousemove, s = document.onmouseup, d = function(f) {
    f.preventDefault();
    var h = On(f, t, "tiny-grid-header__column"), p = h.flag, v = h.targetElem;
    if (!p) {
      var g = On(f, t, "tiny-grid-body__column");
      p = g.flag, v = g.targetElem;
    }
    if (p && !Lr(v, "col__index")) {
      var m = [].concat(v.parentNode.children).indexOf(v), b = r[r.length - 1].children[m], y = i[0].children[m];
      n.handleHeaderChecked(Ze(i, ge(y), ge(o))), n.handleChecked(Ze(r, ge(l), ge(b)));
    }
  }, u = si(80, !1, d, !0);
  Ee(t, "tiny-grid-cell__checked"), document.onmousemove = u, document.onmouseup = function() {
    _e(t, "tiny-grid-cell__checked"), document.onmousemove = a, document.onmouseup = s;
  };
}
var Bl = function(t, n) {
  return Ce(t.$el.querySelectorAll("." + n), function(r) {
    return _e(r, n);
  });
}, lM = function(t) {
  var n = t.cell, r = t.bodyList, o = n.parentNode, i = Qn(o.children, n), l = Qn(r, o);
  return {
    rIndex: l,
    cIndex: i
  };
}, jl = function(t) {
  var n = t.offsetTop, r = t.offsetLeft, o = t.cWidth, i = t.cHeight, l = function(s, d) {
    return s && Object.assign(s.style, d);
  };
  return function(a, s, d, u) {
    l(a, {
      top: n + "px",
      left: r + "px",
      width: o + "px"
    }), l(s, {
      top: n + "px",
      left: r + o + "px",
      height: i + "px"
    }), l(d, {
      top: n + i + "px",
      left: r + "px",
      width: o + "px"
    }), l(u, {
      top: n + "px",
      left: r + "px",
      height: i + "px"
    });
  };
}, aM = function(t) {
  var n = t.$table, r = t.columns, o = t.rows, i = t.rowNodes, l = n.keyboardConfig, a = l === void 0 ? {} : l, s = a.clipboard, d = s === void 0 ? {} : s, u = d.writeMethod, c = d.cellSplit, f = c === void 0 ? "," : c, h = d.rowSplit, p = h === void 0 ? ";" : h;
  if (d) {
    var v;
    if (typeof u == "function")
      v = u({
        $table: n,
        columns: r,
        rows: o
      });
    else {
      var g = [];
      i.forEach(function(b) {
        var y = [];
        b.forEach(function(S) {
          y.push(S && S.innerText);
        }), g.push(y.join(f));
      }), v = g.join(p);
    }
    var m = function() {
      var y = document.createElement("input");
      y.value = v, document.body.appendChild(y), y.select(), document.execCommand("Copy"), document.body.removeChild(y);
    };
    isSecureContext && navigator.clipboard ? navigator.clipboard.writeText(v).catch(function(b) {
      bt("ui.grid.error.clipboardWriteError", b), m();
    }) : m();
  }
}, sM = {
  // Tab键移动处理
  moveTabSelected: function(t, n, r, o) {
    var i = this.editConfig, l = this.hasIndexColumn, a = this.tableData, s = this.visibleColumn, d = Q({}, t), u = s.indexOf(d.column), c = a.indexOf(d.row), f = {}, h = f.targetColumn, p = f.targetColumnIndex, v = f.targetRow, g = f.targetRowIndex;
    r.preventDefault();
    var m = function(w) {
      return !l(w) && (o ? w.editor : !0);
    }, b = {
      columnIndex: u,
      checkColumn: m,
      isLeft: n,
      tableData: a,
      rowIndex: c,
      targetColumn: h
    };
    Object.assign(b, {
      targetRowIndex: g,
      targetColumnIndex: p,
      targetRow: v,
      visibleColumn: s
    });
    var y = YO(b);
    h = y.targetColumn, p = y.targetColumnIndex, v = y.targetRow, g = y.targetRowIndex, b = {
      checkColumn: m,
      columnIndex: u,
      isLeft: n,
      rowIndex: c,
      tableData: a,
      targetColumn: h
    }, Object.assign(b, {
      targetColumnIndex: p,
      targetRow: v,
      targetRowIndex: g,
      visibleColumn: s
    }), y = XO(b), h = y.targetColumn, p = y.targetColumnIndex, v = y.targetRow, g = y.targetRowIndex, b = {
      _vm: this,
      args: t,
      edit: o,
      editConfig: i,
      event: r,
      isLeft: n,
      params: d,
      rowIndex: c
    }, Object.assign(b, {
      targetColumn: h,
      targetColumnIndex: p,
      targetRow: v,
      targetRowIndex: g
    }), QO(b);
  },
  // 当前行方向键移动处理
  moveCurrentRow: function(t, n, r) {
    var o = this, i = this.afterFullData, l = this.currentRow, a = this.treeConfig, s;
    if (r.preventDefault(), a) {
      var d = rt(i, function(h) {
        return h === l;
      }, a), u = d.index, c = d.items;
      t && u > 0 ? s = c[u - 1] : n && u < c.length - 1 && (s = c[u + 1]);
    } else {
      var f = i.indexOf(l);
      t && f > 0 ? s = i[f - 1] : n && f < i.length - 1 && (s = i[f + 1]);
    }
    s && this.scrollToRow(s).then(function() {
      return o.triggerCurrentRowEvent(r, {
        $table: o,
        row: s
      });
    });
  },
  // 可编辑方向键移动处理
  moveSelected: function(t) {
    var n = this, r = t.args, o = t.isLeftArrow, i = t.isUpArrow, l = t.isRightArrow, a = t.isDownArrow, s = t.event, d = this.hasIndexColumn, u = this.tableColumn, c = this.tableFullData, f = Q({}, r), h = f.column, p = u.indexOf(h);
    if (s.preventDefault(), i && f.rowIndex)
      f.row = c[--f.rowIndex];
    else if (a && f.rowIndex < c.length - 1)
      f.row = c[++f.rowIndex];
    else if (o && p) {
      for (var v = p - 1; v >= 0; v--)
        if (!d(u[v])) {
          f.columnIndex = v, f.column = u[v];
          break;
        }
    } else if (l) {
      for (var g = p + 1; g < u.length; g++)
        if (!d(u[g])) {
          f.columnIndex = g, f.column = u[g];
          break;
        }
    }
    zt(this, f).then(function(m) {
      f.cell = m, n.handleSelected(f, s, !0), n.scrollToRow(f.row, f.column, !1, {
        isLeftArrow: o,
        isRightArrow: l,
        from: h
      });
    });
  },
  // 表头按下事件
  triggerHeaderCellMousedownEvent: function(t, n) {
    var r = this, o = this.$el, i = this.elemStore, l = this.mouseConfig, a = l === void 0 ? {} : l, s = this.tableData, d = i["main-body-headerList"].children, u = i["main-body-list"].children, c = n.cell, f = n.column, h = f.type === "index", p = u[0].querySelector("." + f.id), v = t.button, g = v === 0;
    if (!(!g || !a.checked)) {
      if (h) {
        this.handleAllChecked(t), this.closeMenu();
        return;
      }
      if (t.preventDefault(), t.stopPropagation(), this.clearSelected(t), this.clearHeaderChecked(), this.clearIndexChecked(), iM({
        $el: o,
        _vm: this,
        bodyList: u,
        cell: c,
        headerList: d,
        startCell: p
      }), this.handleHeaderChecked([[c]]), !u.length) {
        this.closeMenu();
        return;
      }
      var m = u[0], b = u[u.length - 1], y = m.querySelector(".col__index"), S = b.querySelector("." + f.id);
      n.rowIndex = 0, n.row = s[0], zt(this, n).then(function(w) {
        n.cell = w, r.handleSelected(n, t);
        var _ = Ze(u, ge(y), ge(b.querySelector(".col__index")));
        r.handleIndexChecked(_), r.handleChecked(Ze(u, ge(p), ge(S)));
      }), this.closeMenu();
    }
  },
  // 单元格按下事件
  triggerCellMousedownEvent: function(t, n) {
    var r = this.$el, o = this.editConfig, i = this.editStore, l = this.elemStore, a = this.mouseConfig, s = a === void 0 ? {} : a, d = this.visibleColumn, u = i.actived, c = i.checked, f = s.excludes, h = f === void 0 ? [] : f, p = t.button, v = n.cell, g = n.column, m = n.row, b = p === 0, y;
    if (!h.includes(g.type || g.property)) {
      if (o && (u.row !== m || !(o.mode === "cell" && u.column === g)) && b && s.checked) {
        t.preventDefault(), t.stopPropagation(), this.clearHeaderChecked(), this.clearIndexChecked();
        var S = g.type === "index", w = ge(v), _ = l["main-body-headerList"].children, $ = l["main-body-list"].children, I = v.parentNode.firstElementChild, A = v.parentNode.lastElementChild, x = Array.from(v.parentNode.children).indexOf(v), D = _ == null ? void 0 : _[0].children[x];
        y = {
          $el: r,
          _vm: this,
          bodyList: $,
          cell: v,
          cellFirstElementChild: I
        }, Object.assign(y, {
          cellLastElementChild: A,
          headStart: D,
          headerList: _,
          isIndex: S,
          startCellNode: w
        }), eM(y), y = {
          _vm: this,
          bodyList: $,
          cell: v,
          cellLastElementChild: A
        }, Object.assign(y, {
          event: t,
          headerList: _,
          isIndex: S,
          params: n,
          visibleColumn: d
        }), rM(y), oM({
          _vm: this,
          cell: v,
          column: g,
          event: t,
          headerList: _,
          isIndex: S,
          params: n
        }), this.closeFilter(), this.closeMenu();
      }
      y = {
        _vm: this,
        actived: u,
        cell: v,
        checked: c,
        column: g,
        editConfig: o
      }, Object.assign(y, {
        event: t,
        isLeftBtn: b,
        mouseConfig: s,
        params: n,
        row: m
      }), tM(y), nM({
        _vm: this,
        editConfig: o,
        event: t,
        mouseConfig: s,
        params: n
      });
    }
  },
  // 清除所选中源状态
  _clearSelected: function(t) {
    var n = this.editStore.selected, r = this.elemStore;
    t || (n.row = null, n.column = null);
    var o = r["main-body-list"], i = r["main-body-headerList"];
    if (o) {
      var l = o.querySelector(".col__selected");
      _e(l, "col__selected");
    }
    return i && Ce(i.querySelectorAll(".col__title-selected"), function(a) {
      return _e(a, "col__title-selected");
    }), this.$nextTick();
  },
  // 清除所有选中状态
  _clearChecked: function() {
    var t = this.$refs, n = this.editStore, r = this.mouseConfig, o = n.checked;
    if (!r || !r.checked)
      return this.$nextTick();
    Object.assign(o, {
      columns: [],
      rows: [],
      tColumns: [],
      tRows: [],
      rowNodes: []
    });
    var i = t.tableBody;
    return i.$refs.checkBorders.style.display = "none", Bl(i, "col__checked"), this.$nextTick();
  },
  _getMouseCheckeds: function() {
    var t = this, n = this.editStore.checked.rowNodes, r = n === void 0 ? [] : n, o = {}, i = o.rows, l = i === void 0 ? [] : i, a = o.columns, s = a === void 0 ? [] : a, d = {
      rows: l,
      columns: s,
      rowNodes: r
    };
    return r && r.length && (d.rows = r.map(function(u) {
      return t.getRowNode(u[0].parentNode).item;
    }), d.columns = r[0].map(function(u) {
      return t.getColumnNode(u).item;
    })), d;
  },
  _getMouseSelecteds: function() {
    var t = this.editStore.selected, n = t.args, r = t.column;
    return !n || !r ? null : Ae(!0, {}, n);
  },
  // 处理所有选中
  handleChecked: function(t) {
    var n = this.$refs, r = this.mouseConfig;
    if (!(!r || !r.checked)) {
      var o = {}, i = o.cHeight, l = o.cWidth, a = o.offsetLeft, s = o.offsetTop;
      l = i = -2, s = a = 0, this.clearChecked(), Ce(t, function(m, b) {
        Ce(m, function(y, S) {
          var w = b === 0, _ = S === 0;
          w && (_ && (s = y.offsetTop, a = y.offsetLeft), l += y.offsetWidth), _ && (i += y.offsetHeight), Ee(y, "col__checked");
        });
      });
      var d = jl({
        offsetTop: s,
        offsetLeft: a,
        cWidth: l,
        cHeight: i
      }), u = n.tableBody, c = u.$refs, f = c.checkBorders, h = c.checkTop, p = c.checkRight, v = c.checkBottom, g = c.checkLeft;
      f.style.display = "none", d(h, p, v, g), f.style.display = "block", this.editStore.checked.rowNodes = t;
    }
  },
  handleAllChecked: function(t) {
    var n = this, r = this.elemStore, o = this.mouseConfig, i = o === void 0 ? {} : o, l = this.tableData, a = this.visibleColumn;
    if (i.checked) {
      t.preventDefault();
      var s = Le(a, function(b) {
        return b.type === "index";
      }) || a[0], d = "." + s.id, u = r["main-body-headerList"], c = u == null ? void 0 : u.children, f = u == null ? void 0 : u.querySelector(d), h = r["main-body-list"].children, p = h[0], v = p.querySelector(d), g = h[h.length - 1], m = {
        $table: this,
        rowIndex: 0,
        row: l[0]
      };
      m.column = Le(a, function(b) {
        return b.property;
      }), m.columnIndex = this.getColumnIndex(m.column), zt(this, m).then(function(b) {
        m.cell = b, n.handleSelected(m, t, !0), n.handleHeaderChecked(Ze(c, ge(f.nextElementSibling), ge(f.parentNode.lastElementChild))), n.handleIndexChecked(Ze(h, ge(v), ge(g.querySelector(d)))), n.handleChecked(Ze(h, ge(v.nextElementSibling), ge(g.lastElementChild)));
      });
    }
  },
  handleIndexChecked: function(t) {
    this.clearIndexChecked(), Ce(t, function(n) {
      Ce(n, function(r) {
        Ee(r, "col__index-checked");
      });
    }), this.editStore.indexs.rowNodes = t;
  },
  _clearIndexChecked: function() {
    var t = this.elemStore["main-body-list"];
    if (t) {
      var n = t.querySelectorAll(".col__index-checked"), r = function(i) {
        return _e(i, "col__index-checked");
      };
      Ce(n, r);
    }
    return Object.assign(this.editStore.indexs, {
      rowNodes: []
    }), this.$nextTick();
  },
  handleHeaderChecked: function(t) {
    this.clearHeaderChecked(), Ce(t, function(n) {
      Ce(n, function(r) {
        Ee(r, "col__title-checked");
      });
    }), this.editStore.titles.rowNodes = t;
  },
  _clearHeaderChecked: function() {
    var t = this.elemStore["main-body-headerList"];
    if (t) {
      var n = function(o) {
        return _e(o, "col__title-checked");
      };
      Ce(t.querySelectorAll(".col__title-checked"), n);
    }
    return this.$nextTick();
  },
  // 清空已复制的内容
  _clearCopyed: function() {
    var t = this.$refs, n = this.editStore, r = this.keyboardConfig, o = n.copyed;
    if (!r || !r.isCut) return this.$nextTick();
    var i = t.tableBody;
    return o.cut = !1, o.rows = [], o.columns = [], i.$refs.copyBorders.style.display = "none", Bl(i, "col__copyed"), this.$nextTick();
  },
  // 处理复制
  handleCopyed: function(t) {
    var n = this.editStore, r = this.tableColumn, o = this.tableData, i = n.copyed, l = n.checked.rowNodes, a = {}, s = a.cHeight, d = a.cWidth, u = a.offsetLeft, c = a.offsetTop, f = a.rows, h = f === void 0 ? [] : f, p = a.columns, v = p === void 0 ? [] : p;
    if (d = s = -3, c = u = 0, this.clearCopyed(), !!l) {
      if (l.length) {
        var g = l[0], m = g[0], b = g.length, y = ge(m), S = y.rowIndex, w = y.columnIndex;
        v = r.slice(w, w + b), h = o.slice(S, S + l.length), aM({
          $table: this,
          columns: v,
          rows: h,
          rowNodes: l
        });
      }
      Ce(l, function(L, M) {
        Ce(L, function(V, B) {
          var H = M === 0, Y = B === 0;
          H && (Y && (c = V.offsetTop, u = V.offsetLeft), d += V.offsetWidth), Y && (s += V.offsetHeight), Ee(V, "col__copyed");
        });
      });
      var _ = jl({
        offsetTop: c,
        offsetLeft: u,
        cWidth: d,
        cHeight: s
      }), $ = this.$refs.tableBody, I = $.$refs, A = I.copyBorders, x = I.copyTop, D = I.copyRight, R = I.copyBottom, O = I.copyLeft;
      _(x, D, R, O), A.style.display = "block", i.cut = t, i.columns = v, i.rows = h, i.rowNodes = l;
    }
  },
  // 处理粘贴
  handlePaste: function() {
    var t = this.editStore, n = this.elemStore, r = this.tableData, o = this.visibleColumn, i = t.copyed, l = t.selected, a = i.columns, s = i.cut, d = i.rows;
    if (!(!d.length || !a.length || !l.row || !l.column)) {
      var u = l.args, c = u.columnIndex, f = u.rowIndex;
      Ce(d, function(A, x) {
        var D = r[f + x];
        D && Ce(a, function(R, O) {
          var L = o[c + O];
          L && un(D, L, Ln(A, R)), s && un(A, R, null);
        });
      }), s && this.clearCopyed();
      var h = l.args.cell, p = n["main-body-list"].children, v = lM({
        cell: h,
        bodyList: p
      }), g = v.rIndex, m = v.cIndex, b = p.length - 1, y = g + d.length - 1, S = p[y > b ? b : y];
      b = S.children.length - 1, y = m + a.length - 1;
      var w = S.children[y > b ? b : y], _ = ge(w), $ = ge(h), I = Ze(p, $, _);
      this.handleChecked(I);
    }
  },
  handleClearMouseChecked: function(t) {
    var n = this.$grid, r = this.$refs, o = this.autoClearMouseChecked, i = this.autoClearKeyboardCopy, l = r.tableWrapper, a = r.tooltip, s = r.validTip, d = function(c, f) {
      return c && (c === f || c.contains(f));
    };
    !d(n.$el, t.target) && !d(l, t.target) && !d(a && a.state.popperElm, t.target) && !d(s && s.state.popperElm, t.target) && (o && (this.clearChecked(), this.clearSelected()), i && this.clearCopyed());
  }
}, dM = {
  install: function(t) {
    Re._keyboard = 1, Object.assign(t.methods, sM);
  }
};
function uM(e, t, n) {
  return e && (Je(e) ? t = e : n = je(e) ? e : [e]), {
    cb: t,
    vaildDatas: n
  };
}
var cM = function(t) {
  var n = t._vm, r = t.colValidPromiseArr, o = t.editRules, i = t.isAll, l = t.row, a = t.validRest;
  return function(s, d) {
    ls(o, s.property) && r.push(new Promise(function(u, c) {
      n.validCellRules("all", l, s).then(u).catch(function(f) {
        var h = f.rule, p = f.rules, v = n.getRowIndex(l), g = {
          rule: h,
          rules: p,
          rowIndex: v,
          row: l,
          columnIndex: d,
          column: s,
          $table: n
        };
        i && (a[s.property] || (a[s.property] = []), a[s.property].push(g), u()), c(g);
      });
    }));
  };
};
function fM(e) {
  var t = e.treeConfig, n = e.handleVaild, r = e.hasTreeExpand, o = e.vaildDatas, i = e.treeOpts;
  if (t.validHidden === !1) {
    var l = function(s) {
      var d = s[t.children || "children"];
      n(s), r(s) && d && d.length && d.forEach(l);
    };
    o.forEach(l);
  } else
    yt(o, n, i);
}
var hM = function(t) {
  var n = t._vm, r = t.editRules, o = t.isAll, i = t.validRest, l = t.treeConfig, a = t.hasTreeExpand, s = t.vaildDatas, d = t.treeOpts, u = [], c = n.getColumns(), f = function(p) {
    var v = [];
    c.forEach(cM({
      _vm: n,
      colValidPromiseArr: v,
      editRules: r,
      isAll: o,
      row: p,
      validRest: i
    })), u.push(Promise.all(v));
  };
  return l ? fM({
    treeConfig: l,
    handleVaild: f,
    hasTreeExpand: a,
    vaildDatas: s,
    treeOpts: d
  }) : s.forEach(f), u;
}, pM = /* @__PURE__ */ function() {
  function e(t) {
    Object.assign(this, {
      $options: t,
      max: t.min,
      maxWidth: t.maxWidth,
      min: t.min,
      pattern: t.pattern,
      required: t.required,
      trigger: t.trigger,
      type: t.type,
      validator: t.validator
    });
  }
  return s6(e, [{
    key: "message",
    get: function() {
      return vt(this.$options.message);
    }
  }]);
}(), vM = function(t, n) {
  var r = t.isAll, o = t.validRest, i = t.cb, l = t.afterFullData, a = t.treeConfig;
  return function(s) {
    var d, u = r ? o : (d = {}, d[s.column.property] = s, d), c = function(v, g, m) {
      return function() {
        t.status = !1, i && i(t.status, v), i ? m() : g(v);
      };
    }, f = function(v, g) {
      return /* @__PURE__ */ Os(/* @__PURE__ */ nr().m(function m() {
        return nr().w(function(b) {
          for (; ; ) switch (b.n) {
            case 0:
              if (!n.scrollXLoad) {
                b.n = 1;
                break;
              }
              return b.n = 1, n.scrollToColumn(v.column, !0);
            case 1:
              return b.a(2, zt(n, v).then(function(y) {
                v.cell = y, n.handleValidError(v), g();
              }));
          }
        }, m);
      }));
    }, h = function(v) {
      var g = v.row, m = l.indexOf(g);
      return m > 0 ? l[m - 1] : g;
    };
    return new Promise(function(p, v) {
      var g = c(u, v, p), m = f(s, g), b = h(s), y = n.validOpts.autoPos === !1;
      y && g(), !y && a && n.scrollToTreeRow(b).then(m), !y && !a && n.scrollToRow(b, s.column, !0).then(m);
    });
  };
}, gM = {
  // 对表格数据进行校验
  _validate: function(t, n) {
    return this.beginValidate(t, n);
  },
  // 与validate一致行为，区别就是会校验所有并返回所有不通过的列
  _fullValidate: function(t, n) {
    return this.beginValidate(t, n, !0);
  },
  // 聚焦到校验通过的单元格并弹出校验错误提示
  handleValidError: function(t) {
    var n = this, r = {
      type: "valid-error",
      trigger: "call"
    };
    this.handleActived(t, r).then(function() {
      return n.showValidTooltip(t);
    });
  },
  validatePromise: function(t, n, r, o, i) {
    var l = this;
    function a(s) {
      var d = s._vm, u = s.reject, c = s.resolve;
      return function(f) {
        var h = f.rule, p = f.rules, v = {
          $table: d,
          column: n,
          columnIndex: r,
          row: t,
          rule: h,
          rules: p
        };
        return v.rowIndex = d.getRowIndex(t), o ? (i[n.property] = i[n.property] || [], i[n.property].push(v), c()) : u(v);
      };
    }
    return new Promise(function(s, d) {
      l.validCellRules("all", t, n).then(s).catch(a({
        _vm: l,
        reject: d,
        resolve: s
      }));
    });
  },
  /**
   * 对表格数据进行校验
   * 如果传 row 指定行记录，则只验证传入的行
   * 如果传 rows 为多行记录，则只验证传入的行
   * 如果只传 callback 否则默认验证整个表格数据
   * isAll: 是否全量校验，如果为true会校验所有并返回所有不通过的列
   * 返回 Promise 对象，或者使用回调方式
   */
  beginValidate: function(t, n, r) {
    var o = this.afterFullData, i = this.editRules, l = this.hasTreeExpand, a = this.treeConfig, s = this.treeOpts, d = {}, u = d.status, c = u === void 0 ? !0 : u, f = d.validRest, h = f === void 0 ? {} : f, p = uM(t, n, o), v = p.vaildDatas, g = p.cb, m = {
      isAll: r,
      validRest: h,
      cb: g,
      afterFullData: o,
      treeConfig: a,
      status: c
    };
    if (this.lastCallTime = Date.now(), this.clearValidate(), !i)
      return g && g(m.status), Promise.resolve(m.status);
    var b = {
      _vm: this,
      editRules: i,
      isAll: r,
      validRest: h,
      treeConfig: a,
      hasTreeExpand: l,
      vaildDatas: v,
      treeOpts: s
    }, y = hM(b), S = function() {
      var _ = Object.keys(h);
      return _.length ? Promise.reject(h[_[0]][0]) : (g && g(m.status), m.status);
    };
    return Promise.all(y).then(S).catch(vM(m, this));
  },
  hasCellRules: function(t, n, r) {
    var o = r.property;
    if (!o || !this.editRules)
      return !1;
    var i = fe(this.editRules, o), l = function(s) {
      return t === "all" || !s.trigger || t === s.trigger;
    };
    return i = !Array.isArray(i) && (Fr(i) || Je(i)) ? [i] : i, i && Le(i, l);
  },
  /**
   * 校验数据：
   * 按表格行顺序、列顺序依次校验（同步或异步）；
   * 根据校验规则的索引顺序依次校验，如果是异步则会等待校验完成才会继续校验下一列；
   * 如果校验失败，则触发回调或者Promise，结果返回一个Boolean值；
   * 如果是传回调方式这返回一个Boolean值和校验不通过列的错误消息；
   *
   * rule 配置：
   *  required为Boolean表示是否必填；
   *  max为Number表示最大长度；
   *  min为Number表示最小长度；
   *  validator为Function(rule, value, callback, {rules, row, column, rowIndex, columnIndex})进行自定义校验；
   *  trigger为blur|change表示触发方式（默认为空就行，除非特殊场景）；
   *  @param {'change' | 'all'} type 校验单元格的触发方式
   *  @param { IRow }  row 表格的行数据
   *  @param { IColumnConfig }  column 表格的行数据
   *  @param { any }  defaultValue 需要校验的默认值
   */
  validCellRules: function(t, n, r, o) {
    var i = this, l = this.editRules, a = this.rowId, s = r.property, d = {}, u = d.descriptor, c = u === void 0 ? {} : u, f = d.model, h = f === void 0 ? {} : f;
    if (s && l) {
      var p = fe(l, s), v = gt(o) ? fe(n, s) : o;
      Array.isArray(p) ? p.forEach(function(w, _) {
        h[s + _] = v, c[s + _] = w;
      }) : (h[s] = v, c[s] = p);
    }
    var g = Ae(!0, {}, c), m = new Vd(g, lt), b = function(_, $) {
      var I = {
        firstFields: !0,
        first: !0,
        custom: {
          row: n,
          column: r
        }
      }, A = function(D) {
        var R = D.fields, O = Object.keys(R).map(function(L) {
          var M = g[L];
          return g[L] = M.message ? M : Object.assign(M, {
            message: R[L][0].message
          }), new pM(g[L]);
        });
        $({
          rules: O,
          rule: O[0]
        });
      };
      m.validate(h, I).then(_).catch(A);
    }, y = function() {
      return i.validatedMap[r.id + "-" + n[a]] = !1, Promise.resolve();
    }, S = function(_) {
      return i.validatedMap[r.id + "-" + n[a]] = !0, Promise.reject(_);
    };
    return new Promise(b).then(y).catch(S);
  },
  _clearValidate: function() {
    return Object.assign(this.validStore, {
      column: null,
      content: "",
      isArrow: !1,
      row: null,
      rule: null,
      visible: !1
    }), this.clostValidTooltip(void 0), this.$nextTick();
  },
  // 触发校验
  triggerValidate: function(t) {
    var n = this, r = this.editConfig, o = this.editRules, i = this.editStore, l = this.validStore, a = i.actived;
    if (!a.row || !o)
      return Promise.resolve();
    var s = a.args, d = s.cell, u = s.column, c = s.row;
    if (!this.hasCellRules(t, c, u))
      return Promise.resolve();
    var f = function() {
      r.mode === "row" && l.visible && l.row === c && l.column === u && n.clearValidate();
    }, h = function(v) {
      var g = v.rule;
      if (g.trigger && t !== g.trigger)
        return Promise.resolve();
      var m = {
        cell: d,
        column: u,
        row: c,
        rule: g
      };
      return n.showValidTooltip(m), Promise.reject(m);
    };
    return this.validCellRules(t, c, u).then(f).catch(h);
  },
  // 弹出校验错误提示
  showValidTooltip: function(t) {
    var n = this, r = this.$refs, o = this.height, i = this.tableData, l = this.validOpts, a = t.cell, s = t.column, d = t.row, u = t.rule, c = u.message, f = r.validTip, h = l.isMessageTooltip, p = l.isMessageDefault, v = l.isMessageInline, g = h || p && !o && i.length < 2;
    this.$nextTick(function() {
      Object.assign(n.validStore, {
        row: d,
        column: s,
        rule: u,
        content: c,
        visible: !0
      }), f && g ? (n.clostValidTooltip(), n.validTipContent = c, f.state.referenceElm = a, f.$refs.popper && (f.$refs.popper.style.display = "none"), f.doDestroy(), f.setExpectedState(!0), n.activateTooltipValid(f)) : v && n.$nextTick(function() {
        return n.recalculate();
      }), pe(n, "valid-error", [t]);
    });
  },
  // 关闭 validTip
  clostValidTooltip: function() {
    var t = this.$refs.validTip;
    return t && (t.setExpectedState(!1), t.handleClosePopper()), this.$nextTick();
  }
}, mM = {
  install: function(t) {
    Re._valid = 1, Object.assign(t.methods, gM);
  }
}, yM = {
  bindResize: function() {
    var t = this, n = this.getParentElem();
    (n == null ? void 0 : n.nodeType) === Node.ELEMENT_NODE && (this.$resize = new W$(function() {
      t.updateParentHeight(), t.recalculate();
    }, Z.resizeInterval)).observe(n);
  },
  unbindResize: function() {
    var t;
    (t = this.$resize) == null || t.disconnect();
  }
}, bM = {
  install: function(t) {
    Re._resize = 1, Object.assign(t.methods, yM);
  }
}, CM = {
  /**
   * 初始化fetch-data配置项
   * @returns {object}
   */
  initFetchOption: function() {
    var t = this.fetchData, n = t === void 0 ? {} : t, r = this.dataset, o = r === void 0 ? {} : r;
    if (n.api || o.source || o.value || o.api) {
      var i = n || o.source || o.api || {}, l = i.loading, a = i.fields, s = i.api, d = i.reloadConfig, u = !1, c = !1;
      return d && (u = !!d.filter, c = !!d.scroll), {
        api: s,
        dataset: o,
        fields: a,
        loading: l,
        isReloadFilter: u,
        isReloadScroll: c
      };
    }
  },
  /* 第二个参数sortArg参数可以移除，fetchData.args可以传递更加灵活的参数
     但为避免破坏性变更，暂保留
  */
  handleFetch: function(t, n) {
    var r = this, o = this.pager, i = this.sortData, l = this.filterData, a = this.pagerConfig, s = this.fetchOption, d = this.fetchData, u = this.dataset, c = d.reloadConfig, f = c === void 0 ? {} : c, h = f.scroll, p = h === void 0 ? !1 : h;
    if (this.isInitialLoading ? this.isInitialLoading = !1 : this.columnAnchor && this.clearActiveAnchor(), t !== "prefetch" && (this.clearRadioRow(), !p && this.resetScrollTop()), !s)
      return tt("ui.grid.error.notQuery"), this.$nextTick();
    var v = d || u.source || u.api || {}, g = v.args, m = v.loading, b = i.field, y = i.order, S = i.prop, w = i.property, _ = {
      field: b,
      order: y,
      prop: S,
      property: w
    }, $ = Q({
      $grid: this,
      sort: i,
      sortBy: _,
      filters: l
    }, g), I, A = s.isReloadFilter, x = A === void 0 ? !1 : A;
    return this.tableLoading = m, a && ($.page = a), t === "reload" && ((o || g.page) && (a.currentPage = 1), this.sortData = $.sort = {}, x || ($.filters = [], this.filterData = $.filters), this.pendingRecords = [], this.clearAll()), n && n.length > 0 && ($.sortBy = n), d && d.api ? I = d.api($) : I = or({
      dataset: u,
      service: this.$service
    }, $), I.then(this.loadFetchData).catch(function(D) {
      throw r.tableLoading = !1, D;
    });
  },
  clearActiveAnchor: function() {
    var t = this.columnAnchor, n = this.columnAnchorParams, r = n === void 0 ? {} : n, o = r.anchors, i = o === void 0 ? [] : o;
    !t || i.length <= 0 || i.forEach(function(l) {
      return l.active = !1;
    });
  },
  loadFetchData: function(t) {
    if (!t) {
      this.tableData = [], this.tableLoading = !1;
      return;
    }
    var n = this.fetchOption.fields, r = n === void 0 ? {} : n, o = this.pagerConfig, i = this.pagerSlot;
    if (o && !Array.isArray(t)) {
      var l, a = xe(t, r.total || "page.total") || (t == null || (l = t.result) == null ? void 0 : l.length) || 0, s = xe(t, r.result || r.data || "result") || [];
      this.tableData = s, o.total = a;
      var d = i && i.componentInstance.setTotal;
      d && d(a);
    } else
      this.tableData = (r.list ? xe(t, r.list) : t) || [];
    this.tableLoading = !1;
  }
}, wM = {
  host: "grid",
  install: function(t) {
    Object.assign(t.methods, CM);
  }
}, SM = {
  // 初始化表格分页配置
  initPagerConfig: function() {
    var t = this.$slots, n = this.fetchOption, r = this.scrollLoad, o = r === void 0 ? {} : r, i = {};
    if (n) {
      var l = t.pager && t.pager[0];
      if (l) {
        var a = l.componentOptions, s = l.children;
        a && !s && (this.pagerSlot = l, i = a.propsData);
      } else this.pager && (i = this.pager.attrs);
      return this.pager || t.pager || this.scrollLoad ? Object.assign(this.tablePage, {
        pageSize: o.pageSize
      }, i) : n.args && n.args.page;
    }
  },
  // 表格内置分页渲染器
  renderPager: function(t) {
    var n = t.$slots, r = t._vm, o = t.loading, i = t.pager, l = t.pagerConfig, a = t.tableLoading, s = t.vSize, d = null, u = r.fetchData;
    return n.pager ? d = n.pager() : i && (i.component = i.component || (u && u.api ? Kn : null), d = F(N.toRaw(i.component), {
      props: Q({
        // tiny-grid 的 size 为 small/mini 时，pager 传 mini；为 medium 时，pager 传空字符串
        size: s === "medium" ? "" : ["small", "mini"].includes(s) ? "mini" : "",
        // 兼容 grid 的 size 传递
        loading: o || a,
        isBeforePageChange: r.isBeforePageChange || r.showSaveMsg,
        accurateJumper: r.autoLoad
      }, l),
      on: {
        "size-change": r.pageSizeChange,
        "current-change": r.pageCurrentChange,
        "before-page-change": r.beforePageChangeHandler
      },
      ref: "pager"
    })), d;
  },
  pageChangeEvent: function(t) {
    var n = this;
    this.tablePageLoading = !0, this.tasks.updatePage || (this.tasks.updatePage = Ve(200, function() {
      var r = Q({
        $grid: n
      }, t), o = n.getVm("toolbar");
      pe(n, "page-change", r), n.emitter.emit("page-change", r), n.handleFetch("query").then(function() {
        n.realTimeTablePage = Q({}, n.tablePage), n.tablePageLoading = !1;
      }), o && o.orderSetting();
    })), this.tasks.updatePage();
  },
  // size为页大小，load为false则触发change事件与查询，在个性化初始化时根据autoload控制是否加载数据
  pageSizeChange: function(t, n) {
    this.tablePage.pageSize = t, this.tablePage.currentPage = 1, n || this.pageChangeEvent(this.tablePage);
  },
  pageCurrentChange: function(t) {
    this.tablePage.currentPage !== t && (this.tablePage.currentPage = t, this.pageChangeEvent(this.tablePage));
  },
  beforePageChangeHandler: function(t) {
    var n = this;
    if (!this.showSaveMsg) {
      var r = Ae(!1, {
        $grid: this
      }, t);
      pe(this, "before-page-change", r), this.emitter.emit("before-page-change", r);
      return;
    }
    var o = t.callback, i = t.rollback, l = this.getRecordset(), a = l.insertRecords, s = l.removeRecords, d = l.updateRecords;
    if (a.length || s.length || d.length) {
      var u = function(f) {
        f === "confirm" ? (i && i(), pe(n, "cancel-page-change", n), n.emitter.emit("cancel-page-change", n)) : o && o();
      };
      Me.confirm(Z.i18n("ui.grid.isSaveMsg")).then(u);
    } else
      o && o();
  }
}, $M = {
  host: "grid",
  install: function(t) {
    Object.assign(t.methods, SM);
  }
};
function kM(e) {
  var t = e.body, n = e.insertRecords, r = e.pendingRecords;
  n.length && (t.pendingRecords = r.filter(function(o) {
    return !n.includes(o);
  })), r.length && (t.insertRecords = n.filter(function(o) {
    return !r.includes(o);
  }));
}
function TM(e, t, n) {
  return e.insertRecords.length || t.length || n.length || e.pendingRecords.length;
}
function _M(e) {
  var t = e._vm, n = e.canInvoke, r = e.code, o = e.isMsg, i = e.pendingRecords, l = e.resolve, a = e.valid;
  a && !n && (o && (i.length ? t.remove(i) : Me.message({
    id: r,
    message: Z.i18n("ui.grid.dataUnchanged"),
    status: "info"
  })), l());
}
function IM(e) {
  var t = e._vm, n = e.args, r = e.body, o = e.code, i = e.removeRecords, l = e.resolve, a = e.saveData, s = e.updateRecords, d = e.valid, u = !1;
  return d && (u = TM(r, i, s)), d && u && (t.tableLoading = !0, l(a.api.apply(t, [{
    $grid: t,
    changeRecords: r
  }].concat(n)).then(function() {
    Me.message({
      id: o,
      message: Z.i18n("ui.grid.saveSuccess"),
      status: "success"
    }), t.tableLoading = !1;
  }).catch(function() {
    t.tableLoading = !1;
  }).then(function() {
    return t.commitProxy("reload");
  }))), u;
}
var EM = {
  // 表格工具栏渲染器
  getRenderedToolbar: function(t) {
    var n = t.$slots, r = t._vm, o = t.loading, i = t.tableLoading, l = t.toolbar;
    return r.renderedToolbar = function() {
      var a = null;
      return n.toolbar ? a = n.toolbar() : l && (a = F(N.toRaw(l.component), {
        ref: "toolbar",
        props: Q({
          loading: o || i
        }, l),
        class: r.viewCls("toolbar"),
        scopedSlots: l.slots || {}
      })), a;
    }();
  },
  handleSave: function(t, n) {
    var r = this, o = this.saveData, i = this.isMsg;
    if (!o) {
      tt("ui.grid.error.notSave");
      return;
    }
    var l = Ae(!0, {
      pendingRecords: this.pendingRecords
    }, this.getRecordset()), a = l.insertRecords, s = l.removeRecords, d = l.updateRecords, u = l.pendingRecords, c = a.concat(d), f = function(p) {
      return function(v) {
        if (!v) {
          p(v);
          return;
        }
        var g = IM({
          _vm: r,
          args: n,
          body: l,
          code: t,
          removeRecords: s,
          resolve: p,
          saveData: o,
          updateRecords: d,
          valid: v
        });
        _M({
          _vm: r,
          canInvoke: g,
          code: t,
          isMsg: i,
          pendingRecords: u,
          resolve: p,
          valid: v
        });
      };
    };
    return kM({
      body: l,
      insertRecords: a,
      pendingRecords: u
    }), new Promise(function(h) {
      r.validate(c, f(h));
    });
  },
  handleDelete: function(t, n) {
    var r = this, o = this.deleteData, i = this.isMsg;
    if (!o) {
      tt("ui.grid.error.notDelete");
      return;
    }
    var l = this.getSelectRecords(!0), a = function() {
      var d = r.getRemoveRecords();
      if (!d.length && i && !l.length && Me.message({
        id: t,
        message: Z.i18n("ui.grid.selectOneRecord"),
        status: "warning"
      }), d.length) {
        var u = [{
          $grid: r,
          changeRecords: {
            removeRecords: d
          }
        }].concat(n), c = function() {
          r.tableLoading = !1;
        };
        return r.tableLoading = !0, o.api.apply(r, u).then(c).catch(c).then(function() {
          return r.commitProxy("reload");
        });
      }
    };
    this.remove(l).then(a);
  },
  handleFullScreen: function(t) {
    var n = this, r = t[0];
    this.fullScreenClass = r ? "tiny-fullscreen-full" : "", this.$nextTick(function() {
      n.recalculate(), pe(n, "fullscreen", r), n.emitter.emit("fullscreen", r);
    });
  },
  commitProxy: function(t) {
    for (var n = this, r = arguments.length, o = new Array(r > 1 ? r - 1 : 0), i = 1; i < r; i++)
      o[i - 1] = arguments[i];
    var l = Vs.get(t);
    return t === "insert" ? this.insert() : t === "insert_actived" ? this.insert().then(function(a) {
      var s = a.row;
      return n.setActiveRow(s);
    }) : t === "mark_cancel" ? this.triggerPendingEvent(t) : t === "delete_selection" ? this.handleDeleteRow(t, "ui.grid.deleteSelectRecord", function() {
      return n.commitProxy(["delete"].concat(o));
    }) : t === "remove_selection" ? this.handleDeleteRow(t, "ui.grid.removeSelectRecord", function() {
      return n.removeSelecteds();
    }) : t === "export" ? this.exportCsv() : t === "reset_custom" ? this.resetAll() : ~["reload", "query", "prefetch"].indexOf(t) ? this.handleFetch(t, o) : t === "delete" ? this.handleDelete(t, o) : t === "save" ? this.handleSave() : t === "fullscreen" ? this.handleFullScreen(o) : l && l.call.apply(l, [this, {
      code: t,
      $grid: this
    }].concat(o)), this.$nextTick();
  },
  handleDeleteRow: function(t, n, r) {
    var o = this.getSelectRecords();
    this.isMsg && o.length && Me.confirm(Z.i18n(n)).then(function(i) {
      i === "confirm" && r();
    }), this.isMsg && !o.length && Me.message({
      id: t,
      message: Z.i18n("ui.grid.selectOneRecord"),
      status: "warning"
    }), !this.isMsg && o.length && r();
  },
  getPendingRecords: function() {
    return this.pendingRecords;
  },
  triggerToolbarBtnEvent: function(t, n) {
    var r = this.events, o = r === void 0 ? {} : r, i = this.tableListeners, l = t.code;
    !o.toolbarButtonClick && !i["toolbar-button-click"] && this.commitProxy(l, n), pe(this, "toolbar-button-click", [{
      code: l,
      button: t,
      $grid: this
    }, n]), this.emitter.emit("toolbar-button-click", {
      code: l,
      button: t,
      $grid: this
    }, n);
  },
  triggerPendingEvent: function(t) {
    var n = this.isMsg, r = this.pendingRecords, o = this.getColumns().filter(function(p) {
      return ~["selection", "radio"].indexOf(p.type);
    }), i = o.length && o[0].type === "selection", l = o.length && o[0].type === "radio", a = i ? this.getSelectRecords(!0) : l ? [this.getRadioRow()] : [];
    if (!a.length && n && Me.message({
      id: t,
      message: Z.i18n("ui.grid.selectOneRecord"),
      status: "warning"
    }), a.length) {
      var s = {}, d = s.plus, u = d === void 0 ? [] : d, c = s.minus, f = c === void 0 ? [] : c, h = s.tmp;
      a.forEach(function(p) {
        var v = r.includes(p);
        h = v ? f : u, h.push(p);
      }), h = f.length ? r.filter(function(p) {
        return !~f.indexOf(p);
      }) : r, this.pendingRecords = h.concat(u), i && this.clearSelection(), l && this.clearRadioRow();
    }
  }
}, OM = {
  host: "grid",
  install: function(t) {
    Object.assign(t.methods, EM);
  }
}, MM = {
  renderColumnAnchor: function(t, n) {
    var r = t || {}, o = r.anchors, i = o === void 0 ? [] : o, l = r.action, a = l === void 0 ? function() {
    } : l, s = n.viewType;
    return F("div", {
      class: ["tiny-grid__column-anchor", n.viewCls("columnAnchor")],
      style: s === "default" ? "display:flex" : "",
      key: n.columnAnchorKey,
      ref: "tinyGridColumnAnchor"
    }, i.map(function(d) {
      var u = d.active, c = u === void 0 ? !1 : u, f = d.label, h = f === void 0 ? "" : f, p = d.field, v = p === void 0 ? "" : p, g = d.render;
      if (typeof g == "function")
        return g({
          h: F,
          anchor: d,
          action: a
        });
      var m = {
        "tiny-grid__column-anchor-item": !0,
        "tiny-grid__column-anchor-item--active": c
      }, b = {
        click: function(_) {
          return a(v, _);
        }
      }, y = c ? F(Ma(), {
        class: "tiny-grid__column-anchor-item-icon"
      }) : null, S = F("span", h);
      return F("div", {
        class: m,
        on: b
      }, [y, S]);
    }));
  },
  buildColumnAnchor: function(t) {
    var n = t.property, r = t.label, o = t.anchors, i = t.activeAnchor, l = this.getColumns(), a = l.find(function(u) {
      return !u.type && u.property === n;
    }), s = "", d = null;
    typeof r < "u" && (typeof r == "string" ? s = r : Array.isArray(r) ? r.length > 1 && (s = String(r[0]), d = r[1]) : r && typeof r == "object" && (s = r.label, d = r.render, r.active && (i.field = n, r.delay && (i.delay = r.delay)))), a && o.push({
      label: s || (typeof a.title == "string" ? a.title : ""),
      field: n,
      active: !1,
      render: d
    });
  },
  buildColumnAnchorParams: function() {
    var t = this, n = this.columnAnchor, r = [], o = {
      field: "",
      delay: 30
    };
    Array.isArray(n) && n.length && n.forEach(function(i) {
      if (typeof i == "string")
        t.buildColumnAnchor({
          property: i,
          anchors: r
        });
      else if (Array.isArray(i))
        i.length > 1 && t.buildColumnAnchor({
          property: i[0],
          label: i[1],
          anchors: r
        });
      else if (i && typeof i == "object") {
        var l = i.field, a = Ms(i, l6);
        t.buildColumnAnchor({
          property: l,
          label: a,
          anchors: r,
          activeAnchor: o
        });
      }
    }), !o.field && r.length && (o.field = r[0].field), this.columnAnchorParams = {
      anchors: r,
      activeAnchor: o,
      action: function(l, a) {
        return t.anchorAction({
          field: l,
          anchors: r,
          _vm: t,
          e: a
        });
      }
    }, this._delayActivateAnchor = function() {
      t._delayActivateAnchor = void 0, setTimeout(function() {
        return t.anchorAction({
          field: o.field,
          anchors: r,
          _vm: t
        });
      }, o.delay);
    };
  },
  anchorAction: function(t) {
    var n = t.field, r = t.anchors, o = t._vm, i = r.find(function(a) {
      return a.active;
    }), l = r.find(function(a) {
      return a.field === n;
    });
    l && i !== l && (i && i.active && (i.active = !1), l.active || (l.active = !0, o.columnAnchorKey = n, o.$nextTick(function(a) {
      a === void 0 && (a = !1);
      var s = o.getColumns(), d = s.find(function(c) {
        return !c.type && c.property === n;
      }), u = s.filter(function(c) {
        return !c.fixed;
      }).map(function(c) {
        return c === d && (a = !0), a ? 0 : c.renderWidth;
      }).reduce(function(c, f) {
        return c + f;
      }, 0);
      d && o.scrollTo(u);
    })));
  }
}, xM = {
  host: "grid",
  install: function(t) {
    Object.assign(t.methods, MM);
  }
}, DM = function(t) {
  var n = t._vm, r = t.refresh;
  return function(o) {
    var i = n.getInsertRecords();
    if (i.length)
      return !1;
    var l = {
      children: (n.treeConfig || {}).children || "children"
    }, a = o.item, s = a.parentNode, d = a.previousElementSibling, u = a.nextElementSibling, c = d && d.classList.contains("tiny-grid-body__row") ? d : d && d.previousElementSibling, f = n.data || n.tableData, h = n.getRowNode(a).item, p = rt(f, function(S) {
      return S === h;
    }, l);
    if (h._isDraging = !0, c) {
      var v = n.getRowNode(c).item, g = rt(f, function(S) {
        return S === v;
      }, l);
      if (rt(h[l.children], function(S) {
        return v === S;
      }, l)) {
        var m = s.children[o.oldIndex];
        return s.insertBefore(a, m), Me.message({
          message: Z.i18n("ui.grid.error.notAllowDragSelf"),
          status: "error"
        });
      }
      var b = p.items.splice(p.index, 1)[0];
      n.hasTreeExpand(v) ? v[l.children].splice(0, 0, b) : (g.items.splice(g.index + (p.index < g.index ? 0 : 1), 0, b), g.items = [].concat(g.items));
    } else if (u && u.classList.contains("tiny-grid-body__row")) {
      var y = p.items.splice(p.index, 1)[0];
      f.unshift(y), n.tableFullData = [].concat(f);
    }
    n.$emit("row-drop-end", o, n, n.scrollYLoad ? f : n.tableFullData), r && n.data && !ui && n.refreshData(n.data);
  };
}, AM = function(t) {
  var n = [], r = [], o = [];
  return t.forEach(function(i) {
    var l = i.fixed;
    l === "left" ? n.push(i) : l === "right" ? r.push(i) : o.push(i);
  }), n.concat(o).concat(r);
}, LM = {
  // 处理列拖拽
  columnDrop: function(t) {
    var n = this, r = this.dropConfig || {}, o = r.plugin, i = r.onBeforeMove, l = r.filter, a = t.querySelector(".tiny-grid-header__row"), s = Q({}, this.dropConfig, {
      handle: ".tiny-grid-header__column:not(.col__fixed)",
      filter: l,
      onEnd: function(u) {
        var c = u.item, f = u.newIndex, h = u.oldIndex, p = n.getTableColumn(), v = p.fullColumn, g = p.tableColumn, m = AM(g), b = c, y = b.parentNode, S = m[f];
        if (S.fixed) {
          if (f > h)
            for (var w = f; w >= h; w--)
              y.insertBefore(b, y.children[w]);
          else {
            for (var _ = f; _ <= h; _++)
              y.insertBefore(b, y.children[_]);
            y.insertBefore(y.children[h], b);
          }
          return Me.message({
            message: Z.i18n("ui.grid.error.notAllowDragFixed"),
            status: "error"
          });
        }
        var $ = n.getColumnIndex(m[h]), I = n.getColumnIndex(m[f]), A = v.splice($, 1)[0];
        v.splice(I, 0, A), n.loadColumn(v), n.$emit("column-drop-end", u, n);
        var x = n.getVm("toolbar");
        n.isDragHeaderSorting && x && x.updateSetting();
      },
      onStart: function(u) {
        n.$emit("column-drop-start", u, n);
      },
      onMove: function(u) {
        var c = typeof i == "function" ? i("column", null, u, n) : !0;
        return n.$emit("column-drop-move", u, n), c === void 0 || c;
      }
    });
    return o.create(a, s);
  },
  // 处理行拖拽
  rowDrop: function(t) {
    var n = this, r = this.dropConfig, o = r.plugin, i = r.onBeforeMove, l = r.filter, a = r.refresh, s = a === void 0 ? !0 : a, d = r.rowHandle, u = r.trigger, c = t.querySelector(".tiny-grid__body tbody"), f = u || ".tiny-grid-body__row";
    d === "index" && (f = ".tiny-grid-body__row>td.col__index>.row__drop-handle");
    var h = Q({}, this.dropConfig, {
      handle: f,
      filter: l,
      onEnd: DM({
        _vm: this,
        refresh: s
      }),
      onStart: function(v) {
        n.$emit("row-drop-start", v, n);
      },
      onMove: function(v) {
        var g = n.getInsertRecords();
        if (g.length) return !1;
        var m = v.dragged, b = n.getRowNode(m).item, y = typeof i == "function" ? i("row", b, v, n) : !0;
        return n.$emit("row-drop-move", v, n), y === void 0 || y;
      }
    });
    return o.create(c, h);
  }
}, RM = {
  host: "table",
  install: function(t) {
    Object.assign(t.methods, LM);
  }
}, VM = {}, NM = {
  host: "table",
  install: function(t) {
    Object.assign(t.methods, VM);
  }
};
function PM(e) {
  var t = e._vm, n = e.cell, r = e.column, o = e.isHeader, i = document.createRange(), l;
  return i.setStart(n, 0), t.headerSuffixIconAbsolute ? r.sortable && r.filter && o ? l = n.childNodes.length - 2 : (r.sortable || r.filter) && o ? l = n.childNodes.length - 1 : l = n.childNodes.length : l = r.sortable && o ? n.childNodes.length - 1 : n.childNodes.length, i.setEnd(n, l), i;
}
function FM(e) {
  var t = e._vm, n = e.column, r = e.content, o = e.contentMethod, i = e.event, l = e.isHeader, a = e.row, s = e.showTip;
  o ? t.tooltipContent = o({
    event: i,
    column: n,
    row: a,
    showTip: s,
    isHeader: l,
    content: r
  }, F) : t.tooltipContent = r;
}
var go = null, zM = {
  // 显示 tooltip 依赖的 popper 组件
  activateTooltip: function(t, n) {
    this.tasks.activateTooltip || (this.tasks.activateTooltip = Ve(300, function() {
      var r = n !== void 0 ? n : go;
      r && (t.state.popperElm && (t.state.popperElm.style.display = "none"), t.doDestroy(), t.show(), setTimeout(t.updatePopper));
    })), this.tasks.activateTooltip();
  },
  // 显示 tooltip 依赖的 popper 组件
  activateTooltipValid: function(t) {
    this.tasks.activateTooltipValid || (this.tasks.activateTooltipValid = Ve(50, function() {
      t.handleShowPopper(), setTimeout(function() {
        return t.updatePopper();
      });
    })), this.tasks.activateTooltipValid();
  },
  // 显示 tooltip
  handleTooltip: function(t, n, r, o, i) {
    var l = this.hoverText;
    if (l) {
      var a = this.$refs.tooltip, s = l, d = l.innerText.trim(), u = this.tooltipConfig.contentMethod, c = PM({
        _vm: this,
        cell: l,
        column: n,
        isHeader: i
      }), f = c.getBoundingClientRect().width, h = (parseInt(nt(l, "paddingLeft"), 10) || 0) + (parseInt(nt(l, "paddingRight"), 10) || 0), p = (
        // 浏览器缩放情况下，会存在细微的像素无法，因此设置0.1像素作为误差量
        f + h > l.getBoundingClientRect().width + 0.1 || s.scrollWidth > s.clientWidth
      );
      return (u || d) && (o || p) && (Object.assign(this.tooltipStore, {
        row: r,
        column: n,
        visible: !0
      }), a && (FM({
        _vm: this,
        column: n,
        content: d,
        contentMethod: u,
        event: t,
        isHeader: i,
        row: r,
        showTip: o
      }), a.state.referenceElm = l, a.state.popperElm && (a.state.popperElm.style.display = "none"), go = !0, this.activateTooltip(a))), this.$nextTick();
    }
  },
  // 提供关闭tips提示的方法
  clostTooltip: function() {
    var t = this.$refs.tooltip;
    return Object.assign(this.tooltipStore, {
      content: null,
      row: null,
      visible: !1,
      column: null
    }), go = !1, t && typeof t.setExpectedState == "function" && (t.setExpectedState(!1), this.debounceClose(t)), this.$nextTick();
  },
  // 添加代码让用户代码可以划入popper
  debounceClose: function(t) {
    this.tasks.debounceClose || (this.tasks.debounceClose = Ve(50, function() {
      t.handleClosePopper();
    })), this.tasks.debounceClose();
  },
  // 触发表头 tooltip 事件
  triggerHeaderTooltipEvent: function(t, n) {
    var r = this.tooltipStore, o = n.column, i = n.showHeaderTip;
    (r.column !== o || !r.visible) && this.handleTooltip(t, o, null, i, !0);
  },
  // 触发表尾 tooltip 事件
  triggerFooterTooltipEvent: function(t, n) {
    var r = n.column, o = this.tooltipStore;
    (o.column !== r || !o.visible) && this.handleTooltip(t, r);
  },
  // 触发 tooltip 事件
  triggerTooltipEvent: function(t, n) {
    var r = this.editConfig, o = this.editStore, i = this.tooltipStore, l = o.actived, a = n.row, s = n.column, d = n.showTip;
    r && (r.mode === "row" && l.row === a && s.editor || l.row === a && l.column === s) || (i.column !== s || i.row !== a || !i.visible) && this.handleTooltip(t, s, a, d);
  }
}, HM = {
  host: "table",
  install: function(t) {
    Object.assign(t.methods, zM);
  }
};
function BM(e) {
  var t = e.checkStrictly, n = e.property, r = e.row, o = e.treeConfig, i = e.treeIndeterminates, l = e.value;
  n && o && !t && l === -1 && (i.push(r), Ge(r, n, !1));
}
function jM(e) {
  var t = e.checkMethod, n = e.checkStrictly, r = e.property, o = e.row, i = e.treeConfig, l = e.treeIndeterminates, a = e.value;
  r && i && !n && a !== -1 && yt([o], function(s, d) {
    (o === s || !t || t({
      row: s,
      $rowIndex: d
    })) && (Ge(s, r, a), Ye(l, function(u) {
      return u === s;
    }));
  }, i);
}
function WM(e) {
  var t = e.checkMethod, n = e.matchObj, r;
  return t ? r = n.items.filter(function(o, i) {
    return t({
      row: o,
      $rowIndex: i
    });
  }) : r = n.items, r;
}
function KM(e) {
  var t = e.indeterminatesItem, n = e.matchObj, r = e.property, o = e.vItems, i = e.value, l;
  if (t)
    l = -1;
  else {
    var a = n.items.filter(function(d) {
      return fe(d, r);
    }), s = a.filter(function(d) {
      return ~o.indexOf(d);
    }).length === o.length;
    l = s ? !0 : a.length || i === -1 ? -1 : !1;
  }
  return l;
}
function qM(e) {
  var t = e.checkStrictly, n = e.property, r = e.row, o = e.selection, i = e.treeConfig, l = e.treeIndeterminates, a = e.value;
  !n && i && !t && a === -1 && (l.push(r), Ye(o, function(s) {
    return s === r;
  }));
}
var ed = function(t, n) {
  return !t.includes(n) && t.push(n);
};
function GM(e) {
  var t = e.checkMethod, n = e.checkStrictly, r = e.property, o = e.row, i = e.selection, l = e.treeConfig, a = e.treeIndeterminates, s = e.value;
  !r && l && !n && s !== -1 && yt([o], function(d, u) {
    (o === d || !t || t({
      row: d,
      $rowIndex: u
    })) && (s ? ed(i, d) : Ye(i, function(c) {
      return c === d;
    }), Ye(a, function(c) {
      return c === d;
    }));
  }, l);
}
function UM(e) {
  var t = e.indeterminatesItem, n = e.matchObj, r = e.selection, o = e.vItems, i = e.value, l;
  if (t)
    l = -1;
  else {
    var a = n.items.filter(function(d) {
      return r.includes(d);
    }), s = a.length === o.length;
    l = s ? !0 : a.length || i === -1 ? -1 : !1;
  }
  return l;
}
function ZM(e, t, n) {
  var r = e.row, o = n.tableFullData, i = n.selectConfig, l = i === void 0 ? {} : i, a = n.treeConfig, s = n.treeIndeterminates, d = l.checkField, u = l.checkStrictly, c = l.checkMethod;
  if (BM({
    checkStrictly: u,
    property: d,
    row: r,
    treeConfig: a,
    treeIndeterminates: s,
    value: t
  }), jM({
    checkMethod: c,
    checkStrictly: u,
    property: d,
    row: r,
    treeConfig: a,
    treeIndeterminates: s,
    value: t
  }), d && a && !u) {
    var f = rt(o, function(g) {
      return g === r;
    }, a);
    if (f && f.parent) {
      var h = WM({
        checkMethod: c,
        matchObj: f
      }), p = Le(f.items, function(g) {
        return s.includes(g);
      }), v = KM({
        indeterminatesItem: p,
        matchObj: f,
        property: d,
        vItems: h,
        value: t
      });
      return n.handleSelectRow({
        row: f.parent
      }, v);
    }
  }
  d && !(a && !u) && Ge(r, d, t);
}
function YM(e, t, n) {
  var r = e.row, o = n.selection, i = n.tableFullData, l = n.selectConfig, a = l === void 0 ? {} : l, s = n.treeConfig, d = n.treeIndeterminates, u = a.checkField, c = a.checkStrictly, f = a.checkMethod;
  if (qM({
    checkStrictly: c,
    property: u,
    row: r,
    selection: o,
    treeConfig: s,
    treeIndeterminates: d,
    value: t
  }), GM({
    checkMethod: f,
    checkStrictly: c,
    property: u,
    row: r,
    selection: o,
    treeConfig: s,
    treeIndeterminates: d,
    value: t
  }), !u && s && !c) {
    var h = rt(i, function(m) {
      return m === r;
    }, s);
    if (h && h.parent) {
      var p = h.items, v = Le(h.items, function(m) {
        return d.includes(m);
      }), g = UM({
        indeterminatesItem: v,
        matchObj: h,
        selection: o,
        vItems: p,
        value: t
      });
      return n.handleSelectRow({
        row: h.parent
      }, g);
    }
  }
}
function XM(e, t, n) {
  var r = e.row, o = n.selection, i = n.selectConfig, l = i === void 0 ? {} : i, a = n.treeConfig, s = l.checkField, d = l.checkStrictly;
  !s && !(a && !d) && (t ? ed(o, r) : Ye(o, function(u) {
    return u === r;
  }));
}
function QM(e, t, n) {
  var r = e.row;
  YM({
    row: r
  }, t, n), XM({
    row: r
  }, t, n);
}
function JM(e) {
  var t = e.afterFullData, n = e.checkMethod, r = e.checkStrictly, o = e.selectRows, i = e.selection, l = e.treeConfig, a = e.value;
  !r && a && yt(t, function(s, d) {
    (!n || n({
      row: s,
      $rowIndex: d
    })) && o.push(s);
  }, l), !r && !a && n && yt(t, function(s, d) {
    !n({
      row: s,
      $rowIndex: d
    }) && i.includes(s) && o.push(s);
  }, l);
}
function ex(e) {
  var t = e.afterFullData, n = e.checkMethod, r = e.checkStrictly, o = e.property, i = e.selection, l = e.treeConfig, a = e.value;
  if (!r && o) {
    var s = (l ? "$" : "") + "rowIndex", d = function(f, h) {
      var p;
      (!n || n((p = {
        row: f
      }, p[s] = h, p))) && Ge(f, o, a);
    }, u = function(f, h) {
      var p;
      (!n || n((p = {
        row: f
      }, p[s] = h, p)) && i.includes(f)) && Ge(f, o, a);
    };
    l ? yt(t, a ? d : u, l) : t.forEach(a ? d : u);
  }
}
function tx(e) {
  var t = e.afterFullData, n = e.checkMethod, r = e.checkStrictly, o = e.selectRows, i = e.selection, l = e.value;
  return !r && l && n && (o = t.filter(function(a, s) {
    return i.includes(a) || n({
      row: a,
      rowIndex: s
    });
  })), !r && l && !n && (o = t.slice(0)), !r && !l && n && (o = t.filter(function(a, s) {
    return n({
      row: a,
      rowIndex: s
    }) ? 0 : i.includes(a);
  })), o;
}
function nx(e) {
  var t = e.afterFullData, n = e.checkMethod, r = e.checkStrictly, o = e.selection, i = e.treeConfig, l = e.value, a = [];
  return i ? JM({
    afterFullData: t,
    checkMethod: n,
    checkStrictly: r,
    selectRows: a,
    selection: o,
    treeConfig: i,
    value: l
  }) : a = tx({
    afterFullData: t,
    checkMethod: n,
    checkStrictly: r,
    selectRows: a,
    selection: o,
    value: l
  }), a;
}
function rx(e) {
  var t = e._vm, n = e.checkStrictly, r = e.reserve, o = e.selectRows, i = e.selection, l = e.value, a = e.afterFullData;
  if (!n)
    if (r) {
      var s = a.filter(function(d) {
        return !o.includes(d);
      });
      t.selection = l ? i.concat(o.filter(function(d) {
        return !i.includes(d);
      })) : i.filter(function(d) {
        return !s.includes(d);
      });
    } else
      t.selection = o;
}
var ox = {
  // 处理默认勾选
  handleSelectionDefChecked: function() {
    var t = this.fullDataRowIdData, n = this.selectConfig || {}, r = n.checkAll, o = n.checkRowKeys;
    if (r) {
      this.setAllSelection(!0);
      return;
    }
    if (o) {
      var i = o.map(function(a) {
        return encodeURIComponent(a);
      }), l = [];
      i.forEach(function(a) {
        var s = t[a];
        s && l.push(s.row);
      }), this.setSelection(l, !0);
    }
  },
  setSelection: function(t, n) {
    var r = this;
    return t && (je(t) || (t = [t]), t.forEach(function(o) {
      return r.handleSelectRow({
        row: o
      }, !!n);
    })), this.$nextTick();
  },
  // 多选，行选中事件。value：选中true、不选false、不确定-1
  handleSelectRow: function(t, n) {
    var r = t.row;
    ZM({
      row: r
    }, n, this), QM({
      row: r
    }, n, this), this.checkSelectionStatus();
  },
  handleToggleCheckRowEvent: function(t, n) {
    var r = this.selection, o = this.selectConfig || {}, i = o.checkField, l = t.row, a = i ? !fe(l, i) : !~r.indexOf(l);
    n ? this.triggerCheckRowEvent(n, t, a) : this.handleSelectRow(t, a);
  },
  triggerCheckRowEvent: function(t, n, r) {
    var o = this.selectConfig, i = o === void 0 ? {} : o, l = i.checkMethod;
    if (!l || l(n)) {
      var a;
      this.handleSelectRow(n, r);
      var s = [Q({
        selection: this.getSelectRecords(),
        checked: r,
        $table: this
      }, n), t];
      pe(this, "select-change", s), (a = this.$grid) == null || a.emitter.emit("select-change", s);
    }
  },
  // 多选，切换某一行的选中状态
  toggleRowSelection: function(t) {
    return this.handleToggleCheckRowEvent({
      row: t
    }), this.$nextTick();
  },
  setAllSelection: function(t) {
    var n = this.afterFullData, r = this.selectConfig, o = r === void 0 ? {} : r, i = this.treeConfig, l = this.selection, a = o.checkField, s = o.reserve, d = o.checkStrictly, u = o.checkMethod;
    d = !1, ex({
      afterFullData: n,
      checkMethod: u,
      checkStrictly: d,
      property: a,
      selection: l,
      treeConfig: i,
      value: t
    });
    var c = nx({
      afterFullData: n,
      checkMethod: u,
      checkStrictly: d,
      selection: l,
      treeConfig: i,
      value: t
    });
    rx({
      _vm: this,
      checkStrictly: d,
      reserve: s,
      selectRows: c,
      selection: l,
      value: t,
      afterFullData: n
    }), this.treeIndeterminates = [], this.checkSelectionStatus();
  },
  // 根据表格选中状态，给头部复现框赋值状态（全选，半选，未选）
  checkSelectionStatus: function() {
    var t = this.afterFullData, n = this.selection, r = this.treeIndeterminates, o = this.selectConfig || {}, i = o.checkField, l = o.checkMethod, a = {}, s = a.everyHandler, d = a.someHandler;
    i ? (s = l ? function(u, c) {
      return !l({
        row: u,
        rowIndex: c
      }) || fe(u, i);
    } : function(u) {
      return fe(u, i);
    }, d = function(c) {
      return fe(c, i) || ~r.indexOf(c);
    }, this.isAllSelected = !1, this.headerCheckDisabled = l && t.length && t.every(function(u, c) {
      return !l({
        row: u,
        rowIndex: c
      });
    }), t.length && (this.isAllSelected = t.every(s)), this.isIndeterminate = !this.isAllSelected && t.some(d)) : (s = function(c, f) {
      return !l({
        row: c,
        rowIndex: f
      });
    }, this.headerCheckDisabled = l && t.length && t.every(s), s = l ? function(u, c) {
      return !l({
        row: u,
        rowIndex: c
      }) || ~n.indexOf(u);
    } : function(u) {
      return ~n.indexOf(u);
    }, d = function(c) {
      return ~r.indexOf(c) || ~n.indexOf(c);
    }, this.isAllSelected = !1, t.length && (this.isAllSelected = t.every(s)), this.isIndeterminate = !this.isAllSelected && t.some(d));
  },
  // 保留选中状态
  reserveCheckSelection: function() {
    var t = this.fullDataRowIdData, n = this.selection, r = this.selectConfig || {}, o = r.reserve, i = Ft(this);
    o && n.length && (this.selection = n.map(function(l) {
      var a = t["" + fe(l, i)];
      return a ? a.row : l;
    }));
  },
  // 多选，选中所有事件
  triggerCheckAllEvent: function(t, n) {
    var r;
    this.setAllSelection(n);
    var o = {
      selection: this.getSelectRecords(),
      checked: n,
      $table: this
    };
    pe(this, "select-all", [o, t]), (r = this.$grid) == null || r.emitter.emit("select-all", [o, t]);
  },
  // 多选，切换所有行的选中状态
  toggleAllSelection: function() {
    return this.triggerCheckAllEvent(null, !this.isAllSelected), this.$nextTick();
  },
  clearSelection: function() {
    var t = this.tableFullData, n = this.treeConfig, r = this.selectConfig || {}, o = r.checkField;
    return o && (n ? yt(t, function(i) {
      return Ge(i, o, !1);
    }, n) : t.forEach(function(i) {
      return Ge(i, o, !1);
    })), Object.assign(this, {
      isAllSelected: !1,
      isIndeterminate: !1,
      selection: [],
      treeIndeterminates: []
    }), this.$nextTick();
  },
  initMultipleHistory: function() {
    var t = this.$grid.isMultipleHistory, n = this.getVm("toolbar"), r = n.settingOpts.storageKey, o = n.id, i = n.setting.multipleHistory.remoteSelectedMethod, l;
    t && n && n.setting && n.setting.multipleHistory && i && typeof i == "function" && (l = i(), typeof l.then == "function" && l.then(function(a) {
      var s = cS(a);
      s = s && s[r] || null, s = (s || {})[o] || {};
      var d = s, u = d.columns, c = d.pageSize;
      n.applySettings({
        columns: u,
        pageSize: c
      });
    }));
  },
  // 显示多选工具栏
  showSelectToolbar: function() {
    var t = this.$grid, n = t.selectToolbar, r = t.showHeader, o = this.selectToolbarStore;
    if (n && r) {
      o.visible = !1;
      var i = Le(this.visibleColumn, function(w) {
        return w.type === "selection";
      }), l = this.getSelectRecords(), a = typeof n == "object" ? n.position : "";
      if (i && l && l.length) {
        var s, d = this.tinyTheme, u = this.vSize, c = this.$el, f = ((s = GlobalConfig.rowHeight[d]) == null ? void 0 : s[u || "default"]) || 40, h = c.querySelector("th.tiny-grid-header__column.col__selection"), p = h.parentNode, v = Ua(p.childNodes), g = document.createRange(), m, b = {
          width: c.getBoundingClientRect().width,
          height: f
        }, y = {
          width: 0,
          height: 0,
          left: 0,
          top: 0,
          zIndex: 20
        }, S = 1;
        return i.fixed === "right" ? (g.setStart(p, v.indexOf(h)), g.setEnd(p, v.length), m = g.getBoundingClientRect(), y.left = S + "px") : (g.setStart(p, 0), g.setEnd(p, v.indexOf(h) + 1), m = g.getBoundingClientRect(), y.left = m.width + S + "px"), y.width = b.width - m.width - 2 * S + "px", !i.fixed && a === "left" && (g = document.createRange(), g.setStart(p, 0), g.setEnd(p, v.indexOf(h)), m = g.getBoundingClientRect(), y.left = S + "px", y.width = m.width - 2 * S + "px"), y.top = b.height - m.height + S + "px", y.height = m.height - 2 * S + "px", this.$nextTick().then(function() {
          o.layout = y, o.visible = !0;
        });
      }
    }
    return this.$nextTick();
  },
  // 切换多选工具栏的显示
  toggleSelectToolbarVisible: function() {
    return this.selectToolbarStore.visible = !this.selectToolbarStore.visible, this.$nextTick();
  },
  // 在空数据时Selection列表头复选框禁用，headerAutoDisabled设置为false就会和旧版本兼容
  handleSelectionHeader: function() {
    var t = this.tableFullData, n = this.visibleColumn, r = this.selectConfig, o = r === void 0 ? {} : r, i = o.headerAutoDisabled, l = n.find(function(a) {
      return a.type === "selection";
    });
    (typeof i > "u" || typeof i == "boolean" && i) && !t.length && l && (this.headerCheckDisabled = !0);
  }
}, ix = {
  host: "table",
  install: function(t) {
    Object.assign(t.methods, ox);
  }
}, lx = {
  // 展开树节点事件
  triggerTreeExpandEvent: function(t, n) {
    var r = this, o = n.row, i = this.currentColumn, l = this.currentRow, a = this.toggleTreeExpansion(o), s = {
      $table: this,
      row: o,
      rowIndex: this.getRowIndex(o)
    };
    return pe(this, "toggle-tree-change", [s, t]), this.$nextTick(function() {
      l ? r.setCurrentRow(l) : i && r.setCurrentColumn(i);
    }), a;
  },
  // 切换/展开树节点
  toggleTreeExpansion: function(t) {
    return this.setTreeExpansion(t);
  },
  // 处理默认展开树节点
  handleDefaultTreeExpand: function() {
    var t = this, n = this.tableFullData, r = this.treeConfig;
    if (r) {
      var o = r.children, i = r.expandAll, l = r.expandRowKeys, a = [], s = Ft(this), d = function(h) {
        return je(h) && h.length;
      }, u = function() {
        Ir(n, function(h) {
          return d(h[o]) && a.push(h);
        }, r), t.treeExpandeds = a;
      }, c = function() {
        l.forEach(function(h) {
          var p = rt(n, function(v) {
            return h === fe(v, s);
          }, r);
          p && d(p.item[o]) && a.push(p.item);
        }), t.treeExpandeds = a;
      };
      return i ? u() : l && c(), zn(this), this.handleTableData();
    }
  },
  setAllTreeExpansion: function(t) {
    var n = this.tableFullData, r = this.treeConfig, o = r.children, i = [];
    if (t) {
      var l = function(s) {
        s[o] && s[o].length && i.push(s);
      };
      yt(n, l, r);
    }
    return this.treeExpandeds = i, zn(this), this.handleTableData().then(this.recalculate);
  },
  // 设置展开树形节点，二个参数设置这一行展开与否：支持单行，支持多行
  setTreeExpansion: function(t, n) {
    var r = this.treeConfig, o = this.treeExpandeds, i = this.tableFullData, l = r.accordion, a = r.children, s = arguments.length === 1;
    if (!t)
      return this.$nextTick().then(this.recalculate);
    je(t) || (t = [t]), l && (t = t.slice(t.length - 1, t.length));
    var d = [].concat(o);
    return t.forEach(function(u) {
      if (u[a] && u[a].length) {
        var c = d.indexOf(u);
        if (l) {
          var f = rt(i, function(h) {
            return h === u;
          }, r);
          Ye(d, function(h) {
            return ~f.items.indexOf(h);
          });
        }
        if (~c && (s || !n)) {
          d.splice(c, 1);
          return;
        }
        !~c && (s || n) && d.push(u);
      }
    }), this.treeExpandeds = d, zn(this), this.handleTableData().then(this.recalculate);
  },
  hasTreeExpand: function(t) {
    return ~this.treeExpandeds.indexOf(t);
  },
  clearTreeExpand: function() {
    var t = this, n = this.treeExpandeds.length;
    return this.treeExpandeds = [], zn(this), this.handleTableData().then(function() {
      return n ? t.recalculate() : 0;
    });
  },
  getTreeExpandeds: function() {
    return this.treeExpandeds;
  }
}, ax = {
  host: "table",
  install: function(t) {
    Object.assign(t.methods, lx);
  }
}, sx = "3.undefined", dx = [_i, UO, ZO, dM, mM, bM, Ti, wM, $M, OM, xM, RM, NM, HM, ix, ax];
Re.setup({
  i18n: lt
});
Re.t = lt;
dx.map(function(e) {
  return e.install(e.host === "grid" ? ct : St);
});
var ux = function(t) {
  return function() {
    var n = this.$refs.tinyTable;
    if (n) {
      for (var r, o = arguments.length, i = new Array(o), l = 0; l < o; l++)
        i[l] = arguments[l];
      return (r = n[t]) == null ? void 0 : r.apply(n, i);
    }
  };
};
Object.keys(St.methods).forEach(function(e) {
  ct.methods[e] || (ct.methods[e] = ux(e));
});
ct.version = sx;
ct.install = function(e) {
  e.component(ct.name, ct);
};
const cx = (e) => (t) => e.data = t, fx = () => (e) => e.data, hx = () => (e, t) => Array.prototype.slice.call(t.treeItems), px = ({ constants: e, t }) => (n) => n.emptyText || t(e.EMPTY_TEXT_LOCAL), vx = () => (e, t) => {
  const { childNodes: n } = t.root;
  return !n || n.length === 0 || n.every(({ visible: r }) => !r) || e.viewType === "plain" && t.plainNodeStore.filteredNodes.length === 0;
}, gx = (e) => (t) => {
  e.store.setDefaultCheckedKey(t);
}, mx = ({ state: e, api: t, nextTick: n }) => (r) => {
  t.expandAllNodes(!1), n(() => {
    e.store.defaultExpandedKeys = r, e.store.setDefaultExpandedKeys(r), t.initIsCurrent();
  });
}, yx = ({ state: e }) => (t) => {
  e.store.setData(t);
}, bx = () => (e) => {
  Array.prototype.forEach.call(e, (t) => {
    t.setAttribute("tabindex", -1);
  });
}, Cx = (e) => (t) => {
  e.store.checkStrictly = t;
}, wx = ({ props: e, state: t, emit: n }) => (r, o) => {
  if (typeof e.allowDrag == "function" && !e.allowDrag(o.node))
    return r.preventDefault(), !1;
  if (!r.dataTransfer)
    return !1;
  r.dataTransfer.effectAllowed = "copy";
  try {
    r.dataTransfer.setData("text/plain", "");
  } catch {
  }
  t.dragState.draggingNode = o, n("node-drag-start", o.node, r);
}, Sx = (e, t, n, r) => {
  let o;
  const i = r.$el.getBoundingClientRect(), l = e ? t ? 0.25 : n ? 0.45 : 1 : -1, a = n ? t ? 0.75 : e ? 0.55 : 0 : 1, s = event.clientY - i.top;
  return s < i.height * l ? o = "before" : s > i.height * a ? o = "after" : t ? o = "inner" : o = "none", o;
}, $x = (e, t, n) => {
  const r = e.$el.querySelector(".tiny-tree-node"), o = t.$refs.dropIndicator;
  if (r) {
    const i = t.$el.getBoundingClientRect(), l = r.getBoundingClientRect();
    let a = -9999;
    n === "before" ? a = l.top - i.top : n === "after" && (a = l.bottom - i.top), o.style.top = a + "px";
  }
  n === "inner" ? Ee(e.$el, "is-drop-inner") : _e(e.$el, "is-drop-inner");
}, kx = ({ draggingNode: e, dropNode: t, allowDrop: n, emit: r, dragState: o, event: i }) => {
  let l = !0, a = !0, s = !0, d = !0;
  const u = o.dropNode;
  return typeof n == "function" && (l = n(e.node, t.node, "prev"), d = a = n(e.node, t.node, "inner"), s = n(e.node, t.node, "next")), i.dataTransfer.dropEffect = a ? "copy" : "none", (l || a || s) && u !== t && (u && r("node-drag-leave", e.node, u.node, i), r("node-drag-enter", e.node, t.node, i)), (l || a || s) && (o.dropNode = t), t.node.previousSibling === e.node && (l = !1), t.node.nextSibling === e.node && (s = !1), t.node.contains(e.node, !1) && (a = !1), (e.node === t.node || e.node.contains(t.node)) && (l = !1, a = !1, s = !1), { dropPrev: l, dropInner: a, dropNext: s, userAllowDropInner: d };
}, Tx = ({ state: e, emit: t, props: n, vm: r }) => (o, i) => {
  const l = e.dragState, a = l.dropNode;
  a && a !== i && _e(a.$el, "is-drop-inner");
  const s = l.draggingNode;
  if (!s || !i)
    return;
  const { dropPrev: d, dropInner: u, dropNext: c, userAllowDropInner: f } = kx({
    draggingNode: s,
    dropNode: i,
    allowDrop: n.allowDrop,
    emit: t,
    dragState: l,
    event: o
  }), h = Sx(d, u, c, i);
  $x(i, r, h), l.showDropIndicator = h === "before" || h === "after", l.allowDrop = l.showDropIndicator || f, l.dropType = h, t("node-drag-over", s.node, i.node, o);
}, _x = ({ state: e, emit: t }) => (n) => {
  const r = e.dragState, { draggingNode: o, dropType: i, dropNode: l } = r;
  if (n.preventDefault(), !!n.dataTransfer) {
    if (n.dataTransfer.dropEffect = "copy", o && l) {
      const a = { data: o.node.data }, s = i !== "none";
      s && o.node.remove(), i === "before" ? l.node.parent.insertBefore(a, l.node) : i === "after" ? l.node.parent.insertAfter(a, l.node) : i === "inner" && l.node.insertChild(a), s && e.store.registerNode(a), _e(l.$el, "is-drop-inner"), t("node-drag-end", o.node, l.node, i, n), s && t("node-drop", o.node, l.node, i, n);
    }
    o && !l && t("node-drag-end", o.node, null, i, n), r.draggingNode = null, r.dropNode = null, r.allowDrop = !0, r.showDropIndicator = !1;
  }
}, Ix = ({ state: e, emit: t, props: n, api: r }) => (o) => {
  const { lazy: i, afterLoad: l, showRadio: a } = n;
  e.loaded = !0, i && (e.root && (e.root.childNodes = [...e.root.childNodes]), a && r.setCurrentRadio()), t("load-data", o), typeof l == "function" && l(o);
}, Ex = ({ api: e, props: t, state: n, emit: r }) => () => {
  const { nodeKey: o, data: i, lazy: l, load: a, currentNodeKey: s, checkStrictly: d, checkDescendants: u } = t, { defaultCheckedKeys: c, defaultExpandedKeys: f, autoExpandParent: h, defaultExpandAll: p, filterNodeMethod: v } = t;
  n.store = new Nd({
    key: o,
    data: i,
    lazy: l,
    props: t.props,
    load: a,
    afterLoad: Ix({ api: e, emit: r, props: t, state: n }),
    currentNodeKey: s,
    checkStrictly: d,
    checkDescendants: u,
    defaultCheckedKeys: c,
    defaultExpandedKeys: f,
    autoExpandParent: h,
    defaultExpandAll: p,
    filterNodeMethod: v
  }), n.root = n.store.root, e.initIsCurrent(), t.willChangeView && e.initPlainNodeStore();
}, Ox = ({ api: e, state: t }) => () => {
  t.isTree = !0, e.initTreeStore(), t.emitter.on("tree-node-drag-start", e.dragStart), t.emitter.on("tree-node-drag-over", e.dragOver), t.emitter.on("tree-node-drag-end", e.dragEnd), t.emitter.on("tree-node-save", e.saveNode), t.emitter.on("tree-node-edit", e.editNode), t.emitter.on("tree-node-delete", e.deleteConfirm), t.emitter.on("tree-node-add", e.addNode);
}, td = (e) => {
  e.currentStore.node && (e.currentStore.node.isCurrent = !1), e.currentStore.node = null, e.currentStore.flag = !1;
}, nd = (e, t, n, r, o = "id") => {
  if (!(r.flag || !Array.isArray(e.childNodes)))
    for (let i = 0; i < e.childNodes.length; i++) {
      const l = e.childNodes[i];
      if (l.data && l.data[o] && l.data[o] === n) {
        l.isCurrent = !0, r.flag = !0, r.node = l;
        break;
      }
      nd(l, t, n, r, o);
    }
}, Mx = ({ props: e, state: t }) => () => {
  t.currentStore.flag && td(t), t.store.getCurrentNode() && e.defaultExpandedKeysHighlight && t.store.setCurrentNode(null), e.defaultExpandedKeysHighlight && Array.isArray(e.defaultExpandedKeys) && (~e.defaultExpandedKeys.indexOf(e.defaultExpandedKeysHighlight) || e.lazyCurrent) && nd(
    t.root,
    e.defaultExpandedKeys,
    e.defaultExpandedKeysHighlight,
    t.currentStore,
    e.nodeKey
  );
}, xx = ({ api: e, vm: t }) => () => {
  e.initTabIndex(), ee(t.$el, "keydown", e.handleKeydown);
}, Dx = ({ api: e, vm: t, state: n }) => () => {
  n.action.popoverVisible = !1, oe(t.$el, "keydown", e.handleKeydown);
}, Ax = ({ api: e, props: t, service: n }) => () => {
  const { data: r, nodeKey: o, parentKey: i } = t;
  if (!r && t.dataset) {
    const l = {
      service: n,
      dataset: t.dataset,
      tree: { key: o, parentKey: i }
    };
    or(l).then(e.watchData);
  }
  e.mounted();
}, Lx = ({ vm: e, state: t }) => () => {
  t.treeItems = e.$el.querySelectorAll("[role=treeitem]"), t.checkboxItems = e.$el.querySelectorAll("input[type=checkbox]");
}, Rx = ({ props: e, state: t, api: n }) => (r) => {
  if (!e.filterNodeMethod)
    throw new Error("[Tree] filterNodeMethod is required when filter");
  t.store.filter(r), t.filterText = r, e.willChangeView && n.initPlainNodeStore();
}, Vx = (e) => (t) => Ca(e.nodekey, t.data), Nx = ({ props: e, state: t }) => (n) => {
  if (!e.nodeKey)
    throw new Error("[Tree] nodeKey is required in getNodePath");
  const r = t.store.getNode(n);
  if (!r)
    return [];
  const o = [r.data];
  let i = r.parent;
  for (; i && i !== t.root; )
    o.push(i.data), i = i.parent;
  return o.reverse();
}, Px = (e) => (t, n) => e.store.getCheckedNodes(t, n), Fx = (e) => (t) => e.store.getCheckedKeys(t), zx = (e) => () => {
  const t = e.store.getCurrentNode();
  return t ? t.data : null;
}, Hx = ({ api: e, props: t }) => () => {
  if (!t.nodeKey)
    throw new Error("[Tree] nodeKey is required in getCurrentKey");
  const n = e.getCurrentNode();
  return n ? n[t.nodeKey] : null;
}, Bx = ({ props: e, state: t }) => (n, r) => {
  if (!e.nodeKey)
    throw new Error("[Tree] nodeKey is required in setCheckedNodes");
  t.store.setCheckedNodes(n, r);
}, jx = ({ props: e, state: t, api: n }) => (r, o) => {
  if (!e.nodeKey)
    throw new Error("[Tree] nodeKey is required in setCheckedKeys");
  e.showRadio ? n.setCurrentRadio(r) : t.store.setCheckedKeys(r, o);
}, Wx = (e) => (t, n, r) => {
  e.store.setChecked(t, n, r);
}, Kx = (e) => () => e.store.getHalfCheckedNodes(), qx = (e) => () => e.store.getHalfCheckedKeys(), Gx = ({ props: e, state: t }) => (n) => {
  if (!e.nodeKey)
    throw new Error("[Tree] nodeKey is required in setCurrentNode");
  t.store.setUserCurrentNode(n);
}, Ux = ({ props: e, state: t }) => (n) => {
  if (!e.nodeKey)
    throw new Error("[Tree] nodeKey is required in setCurrentKey");
  t.store.setCurrentNodeKey(n);
}, Zx = (e) => (t) => e.store.getNode(t), Yx = (e) => (t, n, r) => {
  e.store.remove(t, n, r);
}, Xx = (e) => (t, n) => {
  e.store.append(t, n, 0);
}, Qx = (e) => (t, n) => {
  e.store.insertBefore(t, n);
}, Jx = (e) => (t, n) => {
  e.store.insertAfter(t, n);
}, eD = (e) => (t, n, r) => {
  e("node-expand", t, n, r);
}, tD = ({ props: e, state: t }) => (n, r) => {
  if (!e.nodeKey)
    throw new Error("[Tree] nodeKey is required in updateKeyChild");
  t.store.updateChildren(n, r);
}, nD = ({ vm: e, state: t }) => () => {
  t.treeItems = e.$el.querySelectorAll(".is-focusable[role=treeitem]"), t.checkboxItems = e.$el.querySelectorAll("input[type=checkbox]");
  const n = e.$el.querySelectorAll(".is-checked[role=treeitem]");
  if (n.length) {
    n[0].setAttribute("tabindex", 0);
    return;
  }
  t.treeItems[0] && t.treeItems[0].setAttribute("tabindex", 0);
}, rD = ({ vm: e, state: t, TreeAdapter: n }) => (r) => {
  const o = r.target;
  if (!JSON.stringify(o.className).includes("tiny-tree-node"))
    return;
  const i = r.keyCode;
  if (t.treeItems = e.$el.querySelectorAll(".is-focusable[role=treeitem]"), [be.ArrowUp, be.ArrowDown].includes(i)) {
    let l;
    const a = t.treeItemArray.indexOf(o);
    r.preventDefault(), i === be.ArrowUp ? l = a !== 0 ? a - 1 : 0 : l = a < t.treeItemArray.length - 1 ? a + 1 : 0;
    const s = t.treeItemArray[l];
    if (n) {
      const d = s.querySelector("div.tiny-tree-node__content");
      s.focus({ preventScroll: !0 }), d && d.scrollIntoView && d.scrollIntoView({ behavior: "instant", block: "nearest", inline: "nearest" });
    } else
      s.focus();
  } else if ([be.ArrowLeft, be.ArrowRight].includes(i))
    r.preventDefault(), o.click();
  else if ([be.NumpadEnter, be.Space].includes(i)) {
    const l = o.querySelector('[type="checkbox"]');
    l && (r.preventDefault(), l.click());
  }
}, rd = ({ node: e, nodeKey: t, checkedKey: n, state: r }) => {
  let o = !1;
  if (e.data[t] === n)
    return r.currentRadio.value = e.id, o = !0, o;
  if (e.childNodes && e.childNodes.length) {
    const i = e.childNodes;
    for (let l = 0; l < i.length && (o = rd({ node: i[l], nodeKey: t, checkedKey: n, state: r }), !o); l++)
      ;
  }
  return o;
}, oD = ({ state: e, nodeKey: t, checkedKey: n }) => {
  let r = !1;
  if (e.root && e.root.childNodes && e.root.childNodes.length) {
    const o = e.root.childNodes;
    for (let i = 0; i < o.length && (r = rd({
      node: o[i],
      nodeKey: t,
      checkedKey: n,
      state: e
    }), !r); i++)
      ;
  }
}, iD = ({ props: e, state: t }) => (n) => {
  if (!e.showRadio)
    return;
  if (!e.nodeKey)
    throw new Error("[Tree] nodeKey is required in setCurrentRadio");
  const r = e.nodeKey, o = e.defaultCheckedKeys || n || [], i = o.length ? o[0] : null;
  i && oD({ state: t, nodeKey: r, checkedKey: i });
}, lD = (e) => () => e.emitter.emit("closeMenu"), aD = (e) => (t) => {
  e.currentStore.flag && e.currentStore.node && e.currentStore.node.id !== t.id && td(e);
}, od = (e, t) => {
  e.forEach((n) => {
    t ? n.childNodes.length && n.level > 1 && n.expand() : n.collapse(), od(n.childNodes, t);
  });
}, sD = ({ state: e }) => (t) => {
  const n = e.root.childNodes;
  Array.isArray(n) && n.length && (od(n, t), n.forEach((r) => {
    t && r.childNodes.length && r.expand();
  }));
}, dD = ({ state: e }) => (t) => {
  e.checkEasily = t;
}, id = (e, t, n = "$treeNodeId") => {
  let r = -1;
  return e.forEach((o, i) => {
    o[n] === t[n] && (r = i);
  }), r;
}, uD = ({ state: e }) => (t) => {
  e.action.type = "edit", e.action.label = t && t.data.label || "", e.action.node = t, e.action.popoverVisible = !1;
}, cD = ({ state: e, emit: t, api: n }) => () => {
  const r = e.action.node;
  if (r)
    if (e.action.label)
      if (r.data.label = e.action.label, r.data._isNewNode) {
        const o = n.getSameDataIndex(e.treeEdit.addData, r.data);
        o === -1 ? e.treeEdit.addData.push(r.data) : e.treeEdit.addData.splice(o, 1, r.data), t("add-node", r);
      } else {
        const o = n.getSameDataIndex(e.treeEdit.editData, r.data);
        o === -1 ? e.treeEdit.editData.push(r.data) : e.treeEdit.editData.splice(o, 1, r.data), t("edit-node", r);
      }
    else r && r.data && r.data._isNewNode && n.remove(r, !1, !0);
  else return;
  e.action.node = null;
}, fD = ({ api: e, props: t, state: n }) => (r) => {
  let o = 0;
  typeof t.editConfig.initNodeIdMethod == "function" ? o = t.editConfig.initNodeIdMethod(r) : (o = n.newNodeId, n.newNodeId++), n.allNodeKeys.includes(o) && !t.editConfig.noWarning && ya.warn(`the ${t.nodeKey || "id"} ${o} is already exists. Please check.`), n.allNodeKeys.push(o);
  const i = { label: "", [t.nodeKey || "id"]: o }, l = r.store && r.store.props.isLeaf;
  l && (i[l] = !0), Object.defineProperty(i, "_isNewNode", {
    value: !0,
    enumerable: !1,
    configurable: !1,
    writable: !1
  }), e.append(i, r.data), setTimeout(() => {
    const s = r.childNodes[0];
    e.editNode(s);
  }, 100);
}, hD = ({ state: e }) => () => {
  e.action.referenceElm = null, e.action.popoverVisible = !1;
}, Ei = (e = [], t = [], n = "childNodes") => (t.forEach((r) => {
  id(e, r.data) === -1 && e.push(r.data), r[n] && r[n].length && (e = Ei(e, r[n]));
}), e), pD = ({ state: e, api: t, emit: n }) => () => {
  const { node: r, isSaveChildNode: o } = e.action;
  e.action.referenceElm = null, e.action.popoverVisible = !1, r.data._isNewNode || (e.treeEdit.deleteData.push(r.data), o || (e.treeEdit.deleteData = Ei(e.treeEdit.deleteData, r.childNodes))), n("delete-node", r), t.remove(e.action.node, o, !0);
}, vD = ({ state: e, props: t, api: n }) => (r, o) => {
  if (e.action.type = "delete", e.action.node = o, e.action.isLeaf = !o.childNodes || !o.childNodes.length, e.action.referenceElm = r.currentTarget, e.action.popoverVisible = !1, e.action.isSaveChildNode = !1, typeof t.deleteNodeMethod == "function") {
    const i = t.deleteNodeMethod({ event: r, node: o });
    i && typeof i.then == "function" ? i.then((l) => l && n.deleteAction()) : i && n.deleteAction();
    return;
  }
  setTimeout(() => {
    e.action.popoverVisible = !0;
  }, 300);
}, gD = ({ props: e, state: t, api: n, emit: r }) => () => {
  t.action.show = !0, t.action.data = wa(e.data), t.allNodeKeys.length || ld(t.action.data, t.allNodeKeys, e.nodeKey || "id", e.props.children || "children"), n.watchData(t.action.data), r("open-edit");
}, ld = (e, t, n, r) => {
  Array.isArray(e) && e.forEach((o) => {
    (o[n] || o[n] !== 0) && t.push(o[n]), o[r] && ld(o[r], t, n, r);
  });
}, mD = ({ props: e, state: t, api: n, emit: r }) => () => {
  t.action.show = !1, t.action.popoverVisible = !1, n.watchData(e.data), r("close-edit"), t.treeEdit = { addData: [], deleteData: [], editData: [] };
}, yD = ({ state: e, emit: t, props: n }) => () => {
  const r = wa(e.action.show ? e.action.data : n.data);
  return e.action.show = !1, e.action.popoverVisible = !1, t("save-edit", e.treeEdit, r), e.treeEdit = { addData: [], deleteData: [], editData: [] }, r;
}, bD = ({ state: e }) => (t) => {
  e.action.addDisabled = t || [];
}, CD = ({ state: e }) => (t) => {
  e.action.editDisabled = t || [];
}, wD = ({ state: e }) => (t) => {
  e.action.deleteDisabled = t || [];
}, SD = ({ props: e, state: t }) => () => {
  const { nodeKey: n, pathSplit: r, filterPlainMethod: o } = e, i = new RegExp(`^\\${r}+`), l = { nodes: [], filteredNodes: [] }, a = (d, u, c) => {
    if (d && d.data && (u += `${r}${d.data.label || ""}`, c += `${r}${d.data[n] || ""}`, u = u.replace(i, ""), c = c.replace(i, ""), u)) {
      const f = { labelPath: u, nodeKeyPath: c, node: d }, h = u.split(r), p = typeof d.data[n], v = c.split(r).map(p === "number" ? Number : String);
      f.title = h[h.length - 1], f.auxi = h.slice(0, h.length - 1).join(r), f.nodeKeyType = p, f.nodeKey = d.data[n], f.nodeKeys = v, f.parentNodeKeys = v.slice(0, v.length - 1), l.nodes.push(f);
    }
    d.childNodes && d.childNodes.length && d.childNodes.forEach((f) => a(f, u, c));
  };
  a(t.root, "", "");
  const s = (d) => !o || typeof o == "function" && o(d);
  l.filteredNodes = l.nodes.filter(
    (d) => d.node.visible && s(d.node.data)
  ), t.plainNodeStore = l;
}, $D = ({ props: e, emit: t }) => (n, r) => {
  e.showCheckbox && r.node.setChecked(n, !e.checkStrictly), t("check-plain", r, n);
}, kD = (e) => (t, n) => {
  e("leave-plain-view", n, t);
}, TD = ({ props: e, state: t }) => (n, r) => {
  const { nodeKey: o, checkStrictly: i } = e, { nodes: l } = t.plainNodeStore, a = l.find((s) => s.node.data[o] === n);
  a && a.node.setChecked(r, !i);
}, _D = [
  "state",
  "closeMenu",
  "filter",
  "getNodeKey",
  "getNodePath",
  "getCheckedNodes",
  "getCheckedKeys",
  "getCurrentNode",
  "getCurrentKey",
  "setCheckedNodes",
  "setCheckedKeys",
  "setChecked",
  "getHalfCheckedNodes",
  "getHalfCheckedKeys",
  "setCurrentNode",
  "setCurrentKey",
  "getNode",
  "remove",
  "append",
  "insertBefore",
  "insertAfter",
  "handleNodeExpand",
  "updateKeyChildren",
  "initTabIndex",
  "handleKeydown",
  "setCurrentRadio",
  "expandAllNodes",
  "clearCurrentStore",
  "switchToggle",
  "initTreeStore",
  "getSameDataIndex",
  "loopGetTreeData",
  "cancelDelete",
  "deleteAction",
  "deleteConfirm",
  "openEdit",
  "saveNode",
  "addNode",
  "editNode",
  "closeEdit",
  "saveEdit",
  "setAddDisabledKeys",
  "setEditDisabledKeys",
  "setDeleteDisabledKeys",
  "handleCheckPlainNode",
  "handleClickPlainNode",
  "setCheckedByNodeKey"
], ID = ({ reactive: e, emitter: t, props: n, computed: r, api: o, TreeAdapter: i }) => {
  const l = e({
    loaded: !n.lazy,
    checkEasily: !1,
    root: null,
    store: null,
    treeItems: null,
    currentNode: null,
    checkboxItems: [],
    isEmpty: r(() => o.computedIsEmpty(n, l)),
    emitter: t(),
    expandIcon: n.expandIcon,
    shrinkIcon: n.shrinkIcon,
    expandIconColor: n.expandIconColor,
    shrinkIconColor: n.shrinkIconColor,
    dragState: { showDropIndicator: !1, draggingNode: null, dropNode: null, allowDrop: !0 },
    currentRadio: { value: null },
    children: r({
      get: () => o.getChildren(n, l),
      set: (a) => o.setChildren(a)
    }),
    treeItemArray: r(() => o.computedTreeItemArray(n, l)),
    showEmptyText: r(() => o.computedShowEmptyText(n, l)),
    currentStore: { flag: !1, node: null },
    action: {
      deleteDisabled: [],
      editDisabled: [],
      addDisabled: [],
      show: !1,
      node: null,
      data: [],
      label: "",
      type: "",
      isLeaf: !1,
      isSaveChildNode: !1,
      referenceElm: null,
      popoverVisible: !1
    },
    treeEdit: {
      addData: [],
      deleteData: [],
      editData: []
    },
    newNodeId: Math.floor(Cr() * 1e4),
    plainNodeStore: {},
    allNodeKeys: [],
    renderedChildNodes: r(() => l.root.childNodes.filter((a) => i ? i.shouldRender(a) : !0)),
    // tiny 新增
    filterText: ""
    // 记录当前过滤的内容
  });
  return l;
}, ED = ({ state: e, dispatch: t, broadcast: n, props: r, vm: o, constants: i, t: l, emit: a, api: s, TreeAdapter: d }) => ({
  state: e,
  dispatch: t,
  broadcast: n,
  setChildren: cx(r),
  getChildren: fx(),
  computedTreeItemArray: hx(),
  computedIsEmpty: vx(),
  watchDefaultCheckedKeys: gx(e),
  watchData: yx({ state: e }),
  watchCheckboxItems: bx(),
  watchCheckStrictly: Cx(e),
  updated: Lx({ vm: o, state: e }),
  filter: Rx({ props: r, state: e, api: s }),
  getNodeKey: Vx(r),
  getNodePath: Nx({ props: r, state: e }),
  getCheckedNodes: Px(e),
  getCheckedKeys: Fx(e),
  getCurrentNode: zx(e),
  setCheckedNodes: Bx({ props: r, state: e }),
  setCheckedKeys: jx({ props: r, state: e, api: s }),
  setChecked: Wx(e),
  getHalfCheckedNodes: Kx(e),
  getHalfCheckedKeys: qx(e),
  setCurrentNode: Gx({ props: r, state: e }),
  setCurrentKey: Ux({ props: r, state: e }),
  getNode: Zx(e),
  remove: Yx(e),
  append: Xx(e),
  insertBefore: Qx(e),
  insertAfter: Jx(e),
  updateKeyChildren: tD({ props: r, state: e }),
  initTabIndex: nD({ vm: o, state: e }),
  handleKeydown: rD({ vm: o, state: e, TreeAdapter: d }),
  computedShowEmptyText: px({ constants: i, t: l }),
  setCurrentRadio: iD({ props: r, state: e }),
  expandAllNodes: sD({ state: e }),
  dragStart: wx({ props: r, state: e, emit: a }),
  dragOver: Tx({ props: r, state: e, emit: a, vm: o }),
  dragEnd: _x({ state: e, emit: a }),
  clearCurrentStore: aD(e),
  initIsCurrent: Ve(20, Mx({ props: r, state: e })),
  setCheckedByNodeKey: TD({ props: r, state: e })
}), OD = ({ watch: e, props: t, api: n, state: r, isVue2: o }) => {
  e(() => t.defaultCheckedKeys, n.watchDefaultCheckedKeys), e(() => t.defaultExpandedKeys, n.watchDefaultExpandedKeys), e(() => t.defaultExpandedKeysHighlight, n.initIsCurrent), e(() => t.data, n.watchData, { deep: !o }), e(() => t.checkboxItems, n.watchCheckboxItems), e(() => t.checkStrictly, n.watchCheckStrictly), e(() => t.defaultCheckedKeys, n.setCurrentRadio, { immediate: !0 }), e(
    () => t.deleteDisabledKeys,
    (i) => r.action.deleteDisabled = i || [],
    { immediate: !0 }
  ), e(
    () => t.editDisabledKeys,
    (i) => r.action.editDisabled = i || [],
    { immediate: !0 }
  ), e(
    () => t.addDisabledKeys,
    (i) => r.action.addDisabled = i || [],
    { immediate: !0 }
  );
}, MD = (e, { computed: t, onMounted: n, onUpdated: r, reactive: o, watch: i, provide: l, onBeforeUnmount: a, inject: s }, { vm: d, t: u, emit: c, constants: f, broadcast: h, dispatch: p, service: v, emitter: g, nextTick: m }, { isVue2: b }) => {
  const y = {}, S = s("TreeAdapter", null), w = ID({ reactive: o, emitter: g, props: e, computed: t, api: y, TreeAdapter: S });
  return l("parentEmitter", w.emitter), Object.assign(y, ED({ state: w, dispatch: p, broadcast: h, props: e, vm: d, constants: f, t: u, emit: c, api: y, TreeAdapter: S }), {
    closeMenu: lD(w),
    mounted: xx({ api: y, vm: d }),
    created: Ox({ api: y, state: w }),
    getCurrentKey: Hx({ api: y, props: e }),
    handleNodeExpand: eD(c),
    beforeUnmount: Dx({ api: y, vm: d, state: w }),
    wrapMounted: Ax({ api: y, props: e, service: v }),
    initTreeStore: Ex({ api: y, props: e, state: w, emit: c }),
    deleteAction: pD({ state: w, api: y, emit: c }),
    deleteConfirm: vD({ state: w, props: e, api: y }),
    getSameDataIndex: id,
    loopGetTreeData: Ei,
    cancelDelete: hD({ state: w }),
    openEdit: gD({ props: e, state: w, api: y, emit: c }),
    saveNode: cD({ state: w, emit: c, api: y }),
    addNode: fD({ api: y, props: e, state: w }),
    editNode: uD({ state: w }),
    closeEdit: mD({ props: e, state: w, api: y, emit: c }),
    saveEdit: yD({ props: e, state: w, emit: c }),
    setAddDisabledKeys: bD({ state: w }),
    setEditDisabledKeys: CD({ state: w }),
    setDeleteDisabledKeys: wD({ state: w }),
    watchDefaultExpandedKeys: mx({ state: w, api: y, nextTick: m }),
    switchToggle: dD({ state: w }),
    initPlainNodeStore: SD({ props: e, state: w }),
    handleCheckPlainNode: $D({ props: e, emit: c }),
    handleClickPlainNode: kD(c)
  }), y.created(), OD({ watch: i, props: e, api: y, state: w, isVue2: b }), n(y.wrapMounted), r(y.updated), a(y.beforeUnmount), y;
}, xD = ({ emit: e, props: t, state: n }) => (r) => {
  if (r.preventDefault(), n.disabled || t.types === "loading")
    return;
  const o = () => {
    n.currentValue = n.currentValue === t.trueValue ? t.falseValue : t.trueValue, e("update:modelValue", n.currentValue), e("change", n.currentValue);
  };
  t.beforeChange ? t.beforeChange(o) : o();
}, DD = ({ prefixCls: e, props: t, state: n }) => () => [
  {
    [e]: !0,
    [`${e}-checked`]: n.currentValue === t.trueValue,
    [`${e}-disabled`]: n.disabled,
    mini: t.mini,
    disabled: n.disabled
  }
], AD = ({ prefixCls: e }) => () => `${e}-inner`, LD = ({ props: e, state: t }) => () => ({
  backgroundColor: e.trueValue === t.currentValue ? e.trueColor : e.falseColor
}), RD = ["toggle", "state"], VD = (e, { computed: t, watch: n, reactive: r, inject: o }, { parent: i, constants: l, mode: a, emit: s, designConfig: d }) => {
  const u = l.prefixcls(a);
  i.tinyForm = i.tinyForm || o("form", null);
  const c = r({
    currentValue: e.modelValue,
    innerClasses: t(() => f.computedInnerClasses()),
    wrapClasses: t(() => f.computedWarpClasses()),
    style: t(() => f.computedStyle()),
    formDisabled: t(() => (i.tinyForm || {}).disabled),
    disabled: t(() => e.disabled || c.formDisabled || c.isDisplayOnly || e.loading),
    isDisplayOnly: t(() => e.displayOnly || (i.tinyForm || {}).displayOnly),
    showText: t(() => e.showText === void 0 ? (d == null ? void 0 : d.showText) || !1 : e.showText)
  }), f = {
    state: c,
    computedInnerClasses: AD({ prefixCls: u }),
    computedStyle: LD({ props: e, state: c }),
    computedWarpClasses: DD({ prefixCls: u, props: e, state: c }),
    toggle: xD({ emit: s, props: e, state: c })
  };
  return n(
    () => e.modelValue,
    (h) => {
      c.currentValue = typeof e.falseValue != "boolean" || typeof e.trueValue != "boolean" ? h : !!h;
    },
    { immediate: !0 }
  ), f;
};
function ND(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = PD(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function PD(e, t) {
  if (e) {
    if (typeof e == "string") return Wl(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Wl(e, t) : void 0;
  }
}
function Wl(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var FD = function(t, n) {
  for (var r = t.__vccOpts || t, o = ND(n), i; !(i = o()).done; ) {
    var l = i.value, a = l[0], s = l[1];
    r[a] = s;
  }
  return r;
}, zD = U({
  emits: ["change", "update:modelValue"],
  props: [].concat(Ne, ["modelValue", "trueValue", "falseValue", "disabled", "mini", "tabindex", "showText", "beforeChange", "displayOnly", "loading"]),
  components: {
    IconLoading: An()
  },
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: VD,
      api: RD
    });
  }
}), HD = ["tabindex"], BD = {
  key: 0
}, jD = {
  class: "tiny-switch__button"
}, WD = {
  key: 1
};
function KD(e, t, n, r, o, i) {
  var l = K("icon-loading");
  return e.state.isDisplayOnly ? (C(), k("span", WD, [e.state.currentValue === e.trueValue ? G(e.$slots, "open", {
    key: 0
  }, function() {
    return [de(
      j(e.t("yes")),
      1
      /* TEXT */
    )];
  }) : P("v-if", !0), e.state.currentValue === e.falseValue ? G(e.$slots, "close", {
    key: 1
  }, function() {
    return [de(
      j(e.t("no")),
      1
      /* TEXT */
    )];
  }) : P("v-if", !0)])) : (C(), k("span", {
    key: 0,
    class: W([e.state.wrapClasses, e.state.showText ? "tiny-switch__text" : ""]),
    tabindex: e.tabindex,
    onClick: t[0] || (t[0] = function() {
      return e.toggle && e.toggle.apply(e, arguments);
    }),
    onKeydown: [t[1] || (t[1] = Se(function() {
      return e.toggle && e.toggle.apply(e, arguments);
    }, ["space"])), t[2] || (t[2] = Se(function() {
      return e.toggle && e.toggle.apply(e, arguments);
    }, ["enter"]))]
  }, [T(
    "span",
    {
      class: W(e.state.innerClasses)
    },
    [!e.mini && e.state.showText && !e.loading ? (C(), k("div", BD, [e.state.currentValue === e.trueValue ? G(e.$slots, "open", {
      key: 0
    }, function() {
      return [de("ON")];
    }) : P("v-if", !0), e.state.currentValue === e.falseValue ? G(e.$slots, "close", {
      key: 1
    }, function() {
      return [de("OFF")];
    }) : P("v-if", !0)])) : P("v-if", !0)],
    2
    /* CLASS */
  ), T("span", jD, [e.loading ? (C(), z(l, {
    key: 0,
    class: W([e.state.currentValue === e.trueValue ? "tiny-switch__on-loading" : "tiny-switch__off-loading", e.mini ? "tiny-switch__loading-size" : ""])
  }, null, 8, ["class"])) : P("v-if", !0), e.state.currentValue === e.trueValue && !e.loading ? G(e.$slots, "active-icon", {
    key: 1
  }) : P("v-if", !0), e.state.currentValue === e.falseValue && !e.loading ? G(e.$slots, "inactive-icon", {
    key: 2
  }) : P("v-if", !0)])], 42, HD));
}
var mo = /* @__PURE__ */ FD(zD, [["render", KD]]);
function Xo() {
  return Xo = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, Xo.apply(null, arguments);
}
var qD = function(t) {
  var n, r = typeof process == "object" ? (n = process.env) == null ? void 0 : n.TINY_MODE : null;
  return mo;
}, GD = {
  PC_PREFIXCLS: "tiny-switch",
  MOBILE_PREFIXCLS: "tiny-mobile-switch",
  Mode: "pc",
  prefixcls: function(t) {
    return t === this.Mode ? this.PC_PREFIXCLS : this.MOBILE_PREFIXCLS;
  }
}, UD = Xo({}, le, {
  _constants: {
    type: Object,
    default: function() {
      return GD;
    }
  },
  disabled: {
    type: Boolean,
    default: !1
  },
  showText: {
    type: Boolean || void 0,
    default: void 0
  },
  types: {
    type: String
  },
  falseColor: String,
  falseValue: {
    type: [String, Number, Boolean],
    default: !1
  },
  mini: {
    type: Boolean,
    default: !1
  },
  modelValue: {
    type: [String, Number, Boolean],
    default: !1
  },
  size: [Number, String],
  tabindex: {
    type: String,
    default: "1"
  },
  trueColor: String,
  trueValue: {
    type: [String, Number, Boolean],
    default: !0
  },
  beforeChange: Function,
  displayOnly: {
    type: Boolean,
    default: !1
  },
  loading: {
    type: Boolean,
    default: !1
  }
}), jt = U({
  name: te + "Switch",
  props: UD,
  setup: function(t, n) {
    return Ie({
      props: t,
      context: n,
      template: qD
    });
  }
}), ZD = "3.undefined";
jt.model = {
  prop: "modelValue",
  event: "update:modelValue"
};
jt.install = function(e) {
  e.component(jt.name, jt);
};
jt.version = ZD;
const YD = ({ api: e, props: t }) => (n) => e.handleSelectChange(t.node.checked, n), XD = ({ api: e, props: t }) => (n) => e.handleSelectChange(n, t.node.indeterminate), QD = ({ state: e }) => (t) => {
  e.expanded = t, t && (e.childNodeRendered = !0);
}, JD = (e) => (t) => Ca(e.tree.nodeKey, t.data), ad = (e, t) => {
  if (e.visible) {
    const n = e.childNodes;
    Object.assign(
      t,
      {
        checked: e.checked,
        expanded: e.expanded,
        level: e.level,
        isLeaf: e.isLeaf
      },
      e.data,
      { children: [] }
    ), n.forEach((r) => {
      if (r.visible) {
        const o = {};
        ad(r, o), t.children.push(o);
      }
    }), t.children.length || delete t.children;
  }
}, e7 = ({ props: e, state: t }) => (n, r) => {
  if (t.tree.state.store.setCurrentNode(e.node), t.oldChecked !== n && t.oldIndeterminate !== r) {
    const o = {};
    ad(e.node, o), t.tree.$emit("check-change", o, n, r);
  }
  t.oldChecked = n, t.indeterminate = r;
}, t7 = ({ api: e, vm: t, props: n, state: r }) => (o) => {
  const i = t.$refs.content;
  if (i && !i.contains(o == null ? void 0 : o.target))
    return;
  const l = r.tree.state.store;
  r.tree.onlyCheckChildren ? n.node.isLeaf && !n.node.disabled && (r.tree.clearCurrentStore(n.node), l.setCurrentNode(n.node), r.tree.$emit("current-change", l.currentNode ? l.currentNode.data : null, l.currentNode, o)) : (r.tree.clearCurrentStore(n.node), l.setCurrentNode(n.node), !n.node.disabled && r.tree.$emit("current-change", l.currentNode ? l.currentNode.data : null, l.currentNode, o)), r.tree.currentNode = t, r.tree.checkOnClickNode && !n.node.disabled && (o.target.checked = !n.node.checked, e.handleCheckChange(null, o));
  const a = n.showCheckbox ? t.$refs.checkbox && !t.$refs.checkbox.$el.contains(o.target) : !0;
  if (r.tree.onlyCheckChildren) {
    if (n.node.isLeaf && !n.node.disabled) {
      r.tree.$emit("node-click", n.node.data, n.node, t);
      return;
    }
    e.handleExpandClick(!1);
  } else {
    if (!r.tree.collapsible || !r.tree.expandOnClickNode) {
      !n.node.disabled && r.tree.$emit("node-click", n.node.data, n.node, t);
      return;
    }
    r.tree.expandOnClickNode && a && e.handleExpandClick(a);
  }
}, n7 = (e) => () => {
  e.showMenu = !1;
}, r7 = ({ treeRoot: e, vm: t, props: n, state: r, nextTick: o }) => (i) => {
  const l = e.vm.$listeners;
  (e.showContextmenu || l["node-contextmenu"]) && (i.stopPropagation(), i.preventDefault()), r.tree.$parent.$emit("node-contextmenu", i, n.node.data, n.node, t), e.showContextmenu && (r.showMenu = !0, r.tree.$parent.menuInstance = t, o(() => {
    const a = t.$refs.menuContext.offsetWidth, s = r.tree.$parent.$el.offsetWidth;
    i.clientY > -10 && (r.menuposition.top = `${t.$refs.node.offsetTop + t.$refs.content.offsetHeight / 2}px`), i.clientX > -10 && (a > s ? r.menuposition.left = 0 : r.menuposition.left = i.offsetX + a > s ? `${s - a}px` : `${i.offsetX}px`);
  }));
}, o7 = ({ api: e, state: t }) => (n, r) => {
  r.isLeaf || (t.tree.iconTriggerClickNode ? e.handleExpandClick(!0) : e.handleExpandClick(!1), n.stopPropagation());
}, i7 = ({ emit: e, vm: t, props: n, state: r }) => (o) => {
  o && r.tree.$parent.$emit("node-click", n.node.data, n.node, t), !n.node.isLeaf && (r.expanded ? (r.tree.$parent.$emit("node-collapse", n.node.data, n.node, t), n.node.collapse()) : (n.node.expand(), e("node-expand", n.node.data, n.node, t)));
}, l7 = ({ nextTick: e, props: t, state: n }) => (r, o = {}) => {
  (o.type === "click" || o.type === "mousedown") && t.node.setChecked(o.target.checked, !n.tree.checkStrictly), t.checkEasily && n.tree.checkStrictly ? !n.tree.checkOnClickNode && t.node.setChecked(o.target.checked, !0, !1, !1, !0) : !n.tree.checkOnClickNode && t.node.setChecked(o.target.checked, !n.tree.checkStrictly), e(() => {
    const i = n.tree.state.store;
    n.tree.$emit("check", t.node.data, {
      checkedNodes: i.getCheckedNodes(),
      checkedKeys: i.getCheckedKeys(),
      halfCheckedNodes: i.getHalfCheckedNodes(),
      halfCheckedKeys: i.getHalfCheckedKeys()
    });
  });
}, a7 = ({ nextTick: e, props: t, state: n, emit: r }) => (o, i) => {
  t.showRadio && !o.disabled && i.value !== o.id && (r("radio-change", o.id), e(() => {
    const l = Ue({}, o.data);
    n.tree.$emit("check-change", l);
  }));
}, s7 = (e) => (t, n, r) => {
  e.tree.$emit("node-expand", t, n, r);
}, d7 = ({ state: e, vm: t }) => (n) => {
  e.tree.draggable && e.tree.state.emitter.emit("tree-node-drag-start", n, t);
}, u7 = ({ state: e, vm: t }) => (n) => {
  e.tree.draggable && (e.tree.state.emitter.emit("tree-node-drag-over", n, t), n.preventDefault());
}, c7 = () => (e) => e.preventDefault(), f7 = ({ state: e, vm: t }) => (n) => {
  e.tree.draggable && e.tree.state.emitter.emit("tree-node-drag-end", n, t);
}, h7 = ({ props: e, state: t }) => (n) => {
  const i = (t.tree.props || {}).children || "children";
  n(i), e.node.expanded && (t.expanded = !0, t.childNodeRendered = !0);
}, p7 = ({ state: e, props: t }) => ({ isExpand: n, sibling: r }) => {
  e.tree.accordion && n && t.node && r && t.node.id !== r.id && t.node.collapse();
}, v7 = ({ state: e, props: t }) => () => {
  e.tree.accordion && e.parentEmitter.emit("sibling-node-toggle-expand", {
    isExpand: t.node.expanded,
    sibling: t.node
  });
}, g7 = ({ state: e, vm: t }) => (n) => {
  e.tree.state.emitter.emit("tree-node-edit", n), setTimeout(() => {
    const r = t.$refs.editInput || t.$el.querySelector("input");
    r && r.focus();
  }, 300);
}, m7 = ({ state: e }) => (t) => {
  t.stopPropagation(), e.tree.state.emitter.emit("tree-node-save");
}, y7 = ({ state: e }) => (t, n) => {
  e.tree.state.emitter.emit("tree-node-delete", t, n);
}, b7 = ({ state: e, props: t, api: n }) => (r, o) => {
  t.node.expand(), n.openEdit(), e.tree.state.emitter.emit("tree-node-add", r, o);
}, C7 = ({ designConfig: e }) => (t, n) => {
  var r, o;
  if (n.tree.icon)
    return n.tree.icon;
  if (t.showLine) {
    const i = ((r = e == null ? void 0 : e.icons) == null ? void 0 : r.expanded) || "icon-expand", l = ((o = e == null ? void 0 : e.icons) == null ? void 0 : o.collapse) || "icon-put-away";
    return n.expanded ? i : l;
  }
  return "icon-chevron-right";
}, w7 = () => ({ node: e, showLine: t }, { tree: n }) => (e.level > 1 ? 1 : 0) * (parseInt(n.indent) + (t ? 8 : 0)) + parseInt(n.baseIndent) + "px", S7 = [
  "state",
  "getNodeKey",
  "handleClick",
  "handleContentClick",
  "closeMenu",
  "handleDragEnd",
  "handleDrop",
  "handleDragOver",
  "handleDragStart",
  "handleChildNodeExpand",
  "handleSelectChange",
  "handleContextMenu",
  "handleExpandIconClick",
  "openEdit",
  "addNode",
  "saveEdit",
  "deleteNode",
  "handleCheckChange"
], $7 = ({ reactive: e, treeRoot: t, props: n, emitter: r, $parentEmitter: o, vm: i, api: l, TreeAdapter: a, computed: s }) => {
  const d = e({
    tree: t,
    expanded: !1,
    oldChecked: null,
    indeterminate: null,
    oldIndeterminate: null,
    expandIcon: n.expandIcon,
    childNodeRendered: !1,
    showMenu: !1,
    menuposition: { position: "absolute", top: 0, left: 0 },
    shrinkIcon: n.shrinkIcon,
    expandIconColor: n.expandIconColor,
    shrinkIconColor: n.shrinkIconColor,
    emitter: r(),
    parentEmitter: o,
    isSaaSTheme: (n.theme || i.theme) === "saas",
    props: t.props,
    renderedChildNodes: s(() => n.node.childNodes.filter((u) => a ? a.shouldRender(u) : !0)),
    computedExpandIcon: s(() => l.computedExpandIcon(t, d)),
    computedIndent: s(() => l.computedIndent(n, d))
  });
  return d;
}, k7 = ({ api: e, state: t, dispatch: n, broadcast: r, vm: o, props: i, treeRoot: l, nextTick: a, emit: s, designConfig: d }) => {
  Object.assign(e, {
    state: t,
    dispatch: n,
    broadcast: r,
    watchExpanded: Ve(20, QD({ state: t })),
    created: h7({ props: i, state: t }),
    getNodeKey: JD(t),
    closeMenu: n7(t),
    handleSelectChange: e7({ props: i, state: t }),
    handleContextMenu: r7({ vm: o, treeRoot: l, props: i, state: t, nextTick: a }),
    handleExpandClick: i7({ emit: s, vm: o, props: i, state: t }),
    handleCheckChange: l7({ nextTick: a, props: i, state: t }),
    handleDragStart: d7({ state: t, vm: o }),
    handleDragOver: u7({ state: t, vm: o }),
    handleDrop: c7(),
    handleDragEnd: f7({ state: t, vm: o }),
    handleContentClick: a7({ nextTick: a, props: i, state: t, emit: s }),
    onSiblingToggleExpand: p7({ state: t, props: i }),
    watchExpandedChange: v7({ state: t, props: i }),
    handleClick: t7({ api: e, vm: o, props: i, state: t }),
    watchIndeterminate: YD({ api: e, props: i }),
    watchChecked: XD({ api: e, props: i }),
    openEdit: g7({ state: t, vm: o }),
    addNode: Ve(500, !0, b7({ state: t, props: i, api: e })),
    saveEdit: m7({ state: t }),
    deleteNode: y7({ state: t }),
    handleChildNodeExpand: s7(t),
    handleExpandIconClick: o7({ api: e, state: t }),
    computedExpandIcon: C7({ designConfig: d }),
    computedIndent: w7()
  });
}, T7 = ({ watch: e, state: t, api: n, props: r }) => {
  e(() => t.expanded, n.watchExpandedChange), e(() => r.node.indeterminate, n.watchIndeterminate, { deep: !0 }), e(() => r.node.checked, n.watchChecked, { deep: !0 }), e(() => r.node.expanded, n.watchExpanded, { deep: !0 });
}, _7 = (e, { reactive: t, watch: n, inject: r, provide: o, computed: i }, { vm: l, nextTick: a, emit: s, broadcast: d, dispatch: u, emitter: c, designConfig: f }, { isVue2: h }) => {
  const p = {}, v = r("TreeRoot"), g = r("parentEmitter"), m = r("TreeAdapter", null), b = $7({ reactive: t, treeRoot: v, props: e, emitter: c, $parentEmitter: g, vm: l, api: p, TreeAdapter: m, computed: i });
  return b.tree.accordion && b.parentEmitter.on("sibling-node-toggle-expand", (y) => p.onSiblingToggleExpand(y)), o("parentEmitter", b.emitter), k7({ api: p, state: b, dispatch: u, broadcast: d, vm: l, props: e, treeRoot: v, nextTick: a, emit: s, designConfig: f }), T7({ watch: n, state: b, api: p, props: e }), p.created((y) => {
    n(
      () => e.node.data[y],
      () => {
        e.node.updateChildren();
      }
    ), h || (e.node.updateMethod = (S, w) => {
      w === "expanded" && p.watchExpanded(S[w]);
    });
  }), b.parentEmitter.on("closeMenu", () => {
    p.closeMenu(), b.emitter.emit("closeMenu");
  }), p;
};
function I7(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = E7(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function E7(e, t) {
  if (e) {
    if (typeof e == "string") return Kl(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Kl(e, t) : void 0;
  }
}
function Kl(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var O7 = function(t, n) {
  for (var r = t.__vccOpts || t, o = I7(n), i; !(i = o()).done; ) {
    var l = i.value, a = l[0], s = l[1];
    r[a] = s;
  }
  return r;
}, M7 = U({
  name: te + "CollapseTransition",
  setup: function() {
    return {
      on: {
        beforeEnter: function(n) {
          Ee(n, "collapse-transition"), n.dataset || (n.dataset = {}), n.dataset.oldPaddingBottom = n.style.paddingBottom, n.dataset.oldPaddingTop = n.style.paddingTop, n.style.height = "0", n.style.paddingTop = 0, n.style.paddingBottom = 0;
        },
        enter: function(n) {
          n.dataset.oldOverflow = n.style.overflow, n.scrollHeight === 0 ? (n.style.height = "", n.style.paddingBottom = n.dataset.oldPaddingBottom, n.style.paddingTop = n.dataset.oldPaddingTop) : (n.style.height = n.scrollHeight + "px", n.style.paddingBottom = n.dataset.oldPaddingBottom, n.style.paddingTop = n.dataset.oldPaddingTop), n.style.overflow = "hidden";
        },
        afterEnter: function(n) {
          _e(n, "collapse-transition"), n.style.height = "", n.style.overflow = n.dataset.oldOverflow;
        },
        beforeLeave: function(n) {
          n.dataset || (n.dataset = {}), n.dataset.oldOverflow = n.style.overflow, n.dataset.oldPaddingBottom = n.style.paddingBottom, n.dataset.oldPaddingTop = n.style.paddingTop, n.style.height = n.scrollHeight + "px", n.style.overflow = "hidden";
        },
        leave: function(n) {
          n.scrollHeight !== 0 && (Ee(n, "collapse-transition"), n.style.transitionProperty = "height", n.style.height = 0, n.style.paddingTop = 0, n.style.paddingBottom = 0);
        },
        afterLeave: function(n) {
          _e(n, "collapse-transition"), n.style.height = "", n.style.overflow = n.dataset.oldOverflow, n.style.paddingBottom = n.dataset.oldPaddingBottom, n.style.paddingTop = n.dataset.oldPaddingTop;
        }
      }
    };
  }
});
function x7(e, t, n, r, o, i) {
  return C(), z(
    Ot,
    na(e.on),
    {
      default: q(function() {
        return [G(e.$slots, "default")];
      }),
      _: 3
      /* FORWARDED */
    },
    16
    /* FULL_PROPS */
  );
}
var Gn = /* @__PURE__ */ O7(M7, [["render", x7]]), D7 = "3.undefined";
Gn.install = function(e) {
  e.component(Gn.name, Gn);
};
Gn.version = D7;
const A7 = ({
  constants: e,
  dispatch: t,
  emit: n,
  state: r,
  nextTick: o
}) => () => {
  o(() => {
    n("change", r.model), r.isGroup && t(e.RADIO_GROUP, "handleChange", [r.model]);
  });
}, L7 = ({ constants: e, parent: t, state: n }) => () => {
  let r = t.$parent.$parent;
  for (; r; )
    if (r.$options.componentName !== e.RADIO_GROUP)
      r = r.$parent;
    else
      return n.radioGroup = r, !0;
  return !1;
}, R7 = ({ props: e, state: t }) => () => {
  var n, r;
  return t.isGroup && ((r = (n = t.radioGroup) == null ? void 0 : n.state) != null && r.radioGroupSize) ? t.radioGroup.state.radioGroupSize : e.size;
}, V7 = ({ props: e, state: t }) => () => {
  var n;
  return e.disabled || ((n = t.radioGroup) == null ? void 0 : n.disabled) || t.formDisabled;
}, N7 = ({ props: e }) => () => e.displayOnly, P7 = ({ props: e, state: t }) => () => t.isDisabled || t.isGroup && t.model !== e.label ? -1 : 0, F7 = ({ props: e, state: t }) => () => t.isGroup && t.radioGroup ? t.radioGroup.modelValue : e.modelValue, z7 = ({
  constants: e,
  dispatch: t,
  emit: n,
  props: r,
  vm: o,
  state: i
}) => (l) => {
  i.isGroup ? t(e.RADIO_GROUP, "update:modelValue", [l]) : n("update:modelValue", l), o.$refs.radio && (o.$refs.radio.checked = i.model === r.label);
}, ql = ({ props: e, vm: t, type: n }) => {
  const r = t.$refs.radio;
  r && Object.keys(e.events).forEach((o) => {
    r[n + "EventListener"](o, e.events[o]);
  });
}, H7 = ["state", "handleChange"], B7 = (e, { onMounted: t, onBeforeUnmount: n, computed: r, reactive: o, inject: i }, { vm: l, parent: a, emit: s, constants: d, nextTick: u, dispatch: c }) => {
  a.tinyForm = a.tinyForm || i("form", null);
  const f = {}, h = o({
    vertical: i("radioVertical", !1),
    size: r(() => e.size || i("size", null) || (a.tinyForm || {}).size),
    focus: !1,
    radioGroup: null,
    isGroup: r(() => f.isGroup()),
    radioSize: r(() => f.radioSize()),
    isDisabled: r(() => f.isDisabled()),
    isDisplayOnly: r(() => f.isDisplayOnly() || (a.tinyForm || {}).displayOnly),
    tabIndex: r(() => f.tabIndex()),
    formDisabled: r(() => (a.tinyForm || {}).disabled),
    model: r({
      get: () => f.getModel(),
      set: (p) => f.setModel(p)
    })
  });
  return Object.assign(f, {
    state: h,
    radioSize: R7({ props: e, state: h }),
    getModel: F7({ props: e, state: h }),
    isGroup: L7({ constants: d, parent: a, state: h }),
    tabIndex: P7({ props: e, state: h }),
    isDisabled: V7({ props: e, state: h }),
    isDisplayOnly: N7({ props: e }),
    setModel: z7({ constants: d, dispatch: c, emit: s, props: e, vm: l, state: h }),
    handleChange: A7({ constants: d, dispatch: c, emit: s, state: h, nextTick: u })
  }), t(() => {
    c("Tooltip", "tooltip-update"), ql({ props: e, vm: l, type: "add" });
  }), n(() => {
    ql({ props: e, vm: l, type: "remove" });
  }), f;
};
function j7(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = W7(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function W7(e, t) {
  if (e) {
    if (typeof e == "string") return Gl(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Gl(e, t) : void 0;
  }
}
function Gl(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var K7 = function(t, n) {
  for (var r = t.__vccOpts || t, o = j7(n), i; !(i = o()).done; ) {
    var l = i.value, a = l[0], s = l[1];
    r[a] = s;
  }
  return r;
}, q7 = U({
  emits: ["change", "update:modelValue"],
  props: [].concat(Ne, ["modelValue", "events", "label", "text", "disabled", "name", "border", "size", "tabindex", "displayOnly"]),
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: B7,
      api: H7
    });
  }
}), G7 = ["aria-checked", "aria-disabled"], U7 = ["tabindex"], Z7 = ["value", "name", "disabled"];
function Y7(e, t, n, r, o, i) {
  return !e.state.isDisplayOnly || e.state.model === e.label ? (C(), k("label", it({
    key: 0,
    class: ["tiny-radio", [e.border && e.state.radioSize ? "tiny-radio--" + e.state.radioSize : "", {
      "is-disabled": e.state.isDisabled
    }, {
      "is-focus": e.state.focus
    }, {
      "is-bordered": e.border
    }, {
      "is-checked": e.state.model === e.label
    }, {
      "is-display-only": e.state.isDisplayOnly
    }]],
    role: "radio",
    "aria-checked": e.state.model === e.label,
    "aria-disabled": e.state.isDisabled,
    tabindex: "-1",
    onKeydown: t[6] || (t[6] = Se(X(function(l) {
      return e.state.model = e.state.isDisabled ? e.state.model : e.label;
    }, ["stop", "prevent"]), ["space"]))
  }, e.a(e.$attrs, ["class", "style"], !0)), [T(
    "span",
    {
      class: W(["tiny-radio__input", {
        "is-disabled": e.state.isDisabled,
        "is-checked": e.state.model === e.label
      }])
    },
    [T("span", {
      class: "tiny-radio__inner",
      tabindex: e.tabindex
    }, null, 8, U7), ae(T("input", {
      ref: "radio",
      class: "tiny-radio__original",
      value: e.label,
      type: "radio",
      "onUpdate:modelValue": t[0] || (t[0] = function(l) {
        return e.state.model = l;
      }),
      onFocus: t[1] || (t[1] = function(l) {
        return e.state.focus = !0;
      }),
      onBlur: t[2] || (t[2] = function(l) {
        return e.state.focus = !1;
      }),
      onChange: t[3] || (t[3] = function() {
        return e.handleChange && e.handleChange.apply(e, arguments);
      }),
      name: e.name,
      disabled: e.state.isDisabled,
      onClick: t[4] || (t[4] = X(function() {
      }, ["stop"]))
    }, null, 40, Z7), [[ra, e.state.model]])],
    2
    /* CLASS */
  ), T(
    "span",
    {
      class: "tiny-radio__label",
      onKeydown: t[5] || (t[5] = X(function() {
      }, ["stop"]))
    },
    [G(e.$slots, "default", {}, function() {
      return [de(
        j(e.text || e.label),
        1
        /* TEXT */
      )];
    })],
    32
    /* NEED_HYDRATION */
  )], 16, G7)) : P("v-if", !0);
}
var yo = /* @__PURE__ */ K7(q7, [["render", Y7]]);
function Qo() {
  return Qo = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, Qo.apply(null, arguments);
}
var X7 = function(t) {
  var n, r = typeof process == "object" ? (n = process.env) == null ? void 0 : n.TINY_MODE : null;
  return yo;
}, Q7 = {
  RADIO_GROUP: "RadioGroup"
}, J7 = Qo({}, le, {
  _constants: {
    type: Object,
    default: function() {
      return Q7;
    }
  },
  modelValue: {},
  label: {},
  disabled: Boolean,
  name: String,
  border: Boolean,
  size: {
    type: String,
    default: ""
  },
  text: String,
  events: {
    type: Object,
    default: function() {
      return {};
    }
  },
  tabindex: {
    type: String,
    default: "1"
  },
  displayOnly: {
    type: Boolean,
    default: !1
  }
}), Wt = U({
  name: te + "Radio",
  props: J7,
  setup: function(t, n) {
    return Ie({
      props: t,
      context: n,
      template: X7
    });
  }
}), eA = "3.undefined";
Wt.model = {
  prop: "modelValue",
  event: "update:modelValue"
};
Wt.install = function(e) {
  e.component(Wt.name, Wt);
};
Wt.version = eA;
function tA(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = nA(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function nA(e, t) {
  if (e) {
    if (typeof e == "string") return Ul(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Ul(e, t) : void 0;
  }
}
function Ul(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var sd = function(t, n) {
  for (var r = t.__vccOpts || t, o = tA(n), i; !(i = o()).done; ) {
    var l = i.value, a = l[0], s = l[1];
    r[a] = s;
  }
  return r;
};
function Jo() {
  return Jo = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, Jo.apply(null, arguments);
}
var rA = U({
  name: "TreeNode",
  componentName: "TreeNode",
  directives: Dn({
    Clickoutside: sr
  }),
  inject: ["TreeRoot"],
  provide: function() {
    return {
      parentTree: this
    };
  },
  emits: ["update:modelValue", "node-expand", "radio-change", "tree-node-expand", "closeMenu"],
  props: {
    node: {
      default: function() {
        return {};
      }
    },
    props: {},
    expandIcon: Object,
    shrinkIcon: Object,
    expandIconColor: String,
    shrinkIconColor: String,
    renderContent: Function,
    renderAfterExpand: {
      type: Boolean,
      default: !0
    },
    showCheckbox: {
      type: Boolean,
      default: !1
    },
    showRadio: {
      type: Boolean,
      default: !1
    },
    currentRadio: {
      type: Object,
      default: function() {
        return {
          value: null
        };
      }
    },
    showNumber: {
      type: Boolean,
      default: !1
    },
    collapsible: {
      type: Boolean,
      default: !0
    },
    nodeHeight: Number,
    checkEasily: {
      type: Boolean,
      default: !1
    },
    action: Object,
    nodeKey: String,
    theme: String,
    showCheckedMark: Boolean,
    showLine: Boolean,
    // tiny 新增，是否显示树节点聚焦时的背景颜色
    isShowFocusBg: {
      type: Boolean,
      default: !0
    }
  },
  components: {
    CollapseTransition: Gn,
    TinyCheckbox: Ht,
    TinyRadio: Wt,
    TinyInput: Yn,
    IconChevronRight: Rr(),
    IconLoading: An(),
    IconArrowBottom: $a(),
    IconEdit: Ea(),
    IconDel: Yu(),
    IconPlusSquare: Ef(),
    IconFinish: Pa(),
    IconExpand: Ra(),
    IconPutAway: Va(),
    MenuContext: {
      props: {
        node: {
          required: !0
        }
      },
      render: function() {
        var t = this.$parent.state.tree, n = this.node.data;
        return t && t.scopedSlots && t.scopedSlots.contextmenu && t.scopedSlots.contextmenu({
          data: n,
          node: this.node
        });
      }
    },
    NodeContent: {
      props: {
        node: {
          required: !0
        },
        renderContent: Function
      },
      inject: ["TreeRoot", "parentTree"],
      render: function() {
        var t = this.$parent, n = t.state.tree, r = this.node, o = r.data, i = r.store;
        return this.renderContent ? this.renderContent(F, {
          _self: this,
          node: r,
          data: o,
          store: i
        }) : n.scopedSlots.default && n.scopedSlots.default({
          node: r,
          data: o
        }) || F("span", {
          class: "tiny-tree-node__label"
        }, r.label);
      }
    }
  },
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: _7,
      api: S7,
      mono: !0,
      extendOptions: {
        isVue2: ui
      }
    });
  }
}), oA = {
  class: "tiny-tree-node__wrapper"
}, iA = ["aria-expanded", "aria-disabled", "aria-checked", "draggable"], lA = {
  class: "tiny-tree-node__content-left"
}, aA = {
  key: 0,
  class: "tree-node-number"
}, sA = {
  key: 0,
  class: "tiny-tree-node__checked-mark"
}, dA = ["title"], uA = ["title"], cA = ["title"], fA = ["aria-expanded"];
function hA(e, t, n, r, o, i) {
  var l = K("tiny-checkbox"), a = K("tiny-radio"), s = K("icon-loading"), d = K("tiny-input"), u = K("node-content"), c = K("icon-finish"), f = K("icon-edit"), h = K("icon-del"), p = K("icon-plus-square"), v = K("tree-node", !0), g = K("collapse-transition"), m = K("menu-context"), b = Qe("clickoutside");
  return C(), k("div", oA, [ae(T("div", {
    class: W(["tiny-tree-node", {
      "is-indeterminate": !e.node.disabled && e.node.indeterminate,
      "is-current": e.node.isCurrent,
      "is-hidden": !e.node.visible,
      "is-checked": !e.node.disabled && e.node.checked,
      "is-focusable": !e.node.disabled,
      "is-expanded": e.state.expanded,
      "is-loading": e.node.loading,
      "is-disabled": e.node.disabled,
      "is-leaf": e.node.isLeaf,
      "is-root": e.node.level === 1,
      "is-show-focus-bg": e.isShowFocusBg,
      "show-line": e.showLine,
      "show-checkbox": e.showCheckbox
    }]),
    role: "treeitem",
    tabindex: "-1",
    "aria-expanded": e.state.expanded,
    "aria-disabled": e.node.disabled,
    "aria-checked": e.node.checked,
    draggable: e.state.tree.draggable,
    onClick: t[11] || (t[11] = X(function() {
      return e.handleClick && e.handleClick.apply(e, arguments);
    }, ["stop"])),
    onContextmenu: t[12] || (t[12] = X(function(y) {
      return e.handleContextMenu(y);
    }, ["stop"])),
    onDragstart: t[13] || (t[13] = X(function() {
      return e.handleDragStart && e.handleDragStart.apply(e, arguments);
    }, ["stop"])),
    onDragover: t[14] || (t[14] = X(function() {
      return e.handleDragOver && e.handleDragOver.apply(e, arguments);
    }, ["stop"])),
    onDragend: t[15] || (t[15] = X(function() {
      return e.handleDragEnd && e.handleDragEnd.apply(e, arguments);
    }, ["stop"])),
    onDrop: t[16] || (t[16] = X(function() {
      return e.handleDrop && e.handleDrop.apply(e, arguments);
    }, ["stop"])),
    ref: "node"
  }, [T(
    "div",
    {
      ref: "content",
      class: W({
        "tiny-tree-node__content": !0,
        "tiny-tree-node__content-number": e.showNumber
      }),
      style: ke({
        height: e.nodeHeight ? e.nodeHeight + "px" : void 0,
        "line-height": e.nodeHeight ? e.nodeHeight + "px" : void 0
      }),
      onClick: t[9] || (t[9] = function(y) {
        return e.handleContentClick(e.node, e.currentRadio);
      })
    },
    [(C(!0), k(
      ie,
      null,
      $e(e.showLine ? 1 : e.node.level - 1, function(y) {
        return C(), k(
          "span",
          {
            class: "tiny-tree-node__content-indent",
            key: y,
            style: ke({
              width: e.state.computedIndent,
              flexShrink: 0
            })
          },
          null,
          4
          /* STYLE */
        );
      }),
      128
      /* KEYED_FRAGMENT */
    )), T("div", lA, [e.showNumber ? (C(), k(
      "span",
      aA,
      j(e.node.data.number),
      1
      /* TEXT */
    )) : (C(), k(
      "span",
      {
        key: 1,
        class: W(["tree-node-icon", {
          "is-disabled": e.node.disabled
        }]),
        onClick: t[0] || (t[0] = function(y) {
          return e.handleExpandIconClick(y, e.node);
        })
      },
      [e.state.expandIcon !== void 0 && e.state.shrinkIcon !== void 0 ? (C(), z(Te(e.state.expanded ? e.state.shrinkIcon : e.state.expandIcon), {
        key: 0,
        fill: e.state.expanded ? e.state.shrinkIconColor : e.state.expandIconColor,
        class: W(["tiny-tree-node__expand-icon", {
          "is-leaf": e.node.isLeaf
        }])
      }, null, 8, ["fill", "class"])) : (C(), z(Te(e.state.computedExpandIcon), {
        key: 1,
        class: W(["tiny-tree-node__expand-icon", {
          "is-leaf": e.node.isLeaf,
          expanded: !e.node.isLeaf && e.state.expanded,
          "is-saas-theme": e.state.isSaaSTheme
        }])
      }, null, 8, ["class"]))],
      2
      /* CLASS */
    )), e.showCheckbox ? (C(), z(l, {
      key: 2,
      "model-value": e.node.checked,
      ref: "checkbox",
      indeterminate: e.node.indeterminate,
      disabled: !!e.node.disabled,
      "validate-event": !1,
      onChange: e.handleCheckChange
    }, null, 8, ["model-value", "indeterminate", "disabled", "onChange"])) : P("v-if", !0), e.showRadio ? (C(), z(a, {
      key: 3,
      "model-value": e.currentRadio.value,
      "onUpdate:modelValue": t[1] || (t[1] = function(y) {
        return e.$emit("radio-change", y);
      }),
      "validate-event": !1,
      label: e.node.id,
      disabled: !!e.node.disabled,
      class: "tiny-tree-node__content-left__radio"
    }, null, 8, ["model-value", "label", "disabled"])) : P("v-if", !0), e.node.loading ? (C(), z(s, {
      key: 4,
      class: "tiny-tree-node__loading"
    })) : P("v-if", !0), G(e.$slots, "prefix", {
      node: e.node
    }), e.action.type === "edit" && e.action.node && e.action.node === e.node ? (C(), z(d, {
      key: 5,
      modelValue: e.action.label,
      "onUpdate:modelValue": t[2] || (t[2] = function(y) {
        return e.action.label = y;
      }),
      class: "tiny-tree-node__edit-input",
      ref: "editInput",
      autofocus: !0,
      clearable: "",
      onKeyup: t[3] || (t[3] = Se(function(y) {
        return e.saveEdit(y);
      }, ["enter"])),
      onBlur: t[4] || (t[4] = function(y) {
        return e.saveEdit(y);
      }),
      onClick: t[5] || (t[5] = X(function(y) {
        return y.stopPropagation();
      }, ["stop"]))
    }, null, 8, ["modelValue"])) : (C(), z(u, {
      key: 6,
      node: e.node,
      "render-content": e.renderContent
    }, null, 8, ["node", "render-content"])), G(e.$slots, "suffix", {
      node: e.node
    })]), T(
      "div",
      {
        class: W(["tiny-tree-node__content-right", {
          "is-disabled": e.node.disabled
        }])
      },
      [e.showCheckedMark && !e.showCheckbox && !e.node.disabled && e.node.isCurrent ? (C(), k("span", sA, [E(c)])) : P("v-if", !0), G(e.$slots, "operation", {
        node: e.node
      }), e.action.show ? (C(), k(
        ie,
        {
          key: 1
        },
        [T("span", {
          title: e.t("ui.tree.edit")
        }, [e.action.editDisabled.includes(e.node.data[e.nodeKey]) ? P("v-if", !0) : (C(), z(f, {
          key: 0,
          onClick: t[6] || (t[6] = X(function(y) {
            return e.openEdit(e.node);
          }, ["stop"]))
        }))], 8, dA), T("span", {
          title: e.t("ui.tree.delete")
        }, [e.action.deleteDisabled.includes(e.node.data[e.nodeKey]) ? P("v-if", !0) : (C(), z(h, {
          key: 0,
          onClick: t[7] || (t[7] = X(function(y) {
            return e.deleteNode(y, e.node);
          }, ["stop"]))
        }))], 8, uA), T("span", {
          title: e.t("ui.tree.newNodeTitle")
        }, [!e.action.addDisabled.includes(e.node.data[e.nodeKey]) && e.node.data[e.state.props.label || "label"] ? (C(), z(p, {
          key: 0,
          onClick: t[8] || (t[8] = X(function(y) {
            return e.addNode(e.node);
          }, ["stop"]))
        })) : P("v-if", !0)], 8, cA)],
        64
        /* STABLE_FRAGMENT */
      )) : P("v-if", !0)],
      2
      /* CLASS */
    )],
    6
    /* CLASS, STYLE */
  ), e.node.childNodes.length ? (C(), z(g, {
    key: 0
  }, {
    default: q(function() {
      return [!e.renderAfterExpand || e.state.childNodeRendered ? ae((C(), k("div", {
        key: 0,
        class: "tiny-tree-node__children",
        role: "group",
        "aria-expanded": e.state.expanded,
        style: ke({
          "margin-left": e.showLine ? e.state.computedIndent : 0
        })
      }, [e.showLine ? (C(), k(
        "span",
        {
          key: 0,
          class: "tiny-tree-node__children-indent",
          style: ke({
            width: e.state.computedIndent,
            left: "-" + e.state.computedIndent
          })
        },
        null,
        4
        /* STYLE */
      )) : P("v-if", !0), (C(!0), k(
        ie,
        null,
        $e(e.state.renderedChildNodes, function(y) {
          return C(), z(v, {
            action: e.action,
            "show-radio": e.showRadio,
            theme: e.theme,
            "is-show-focus-bg": e.isShowFocusBg,
            "current-radio": e.currentRadio,
            "render-content": e.renderContent,
            "expand-icon": e.state.expandIcon,
            "shrink-icon": e.state.shrinkIcon,
            "expand-icon-color": e.state.expandIconColor,
            "shrink-icon-color": e.state.shrinkIconColor,
            "render-after-expand": e.renderAfterExpand,
            "show-checkbox": e.showCheckbox,
            "show-number": e.showNumber,
            "node-height": e.nodeHeight,
            "show-checked-mark": e.showCheckedMark,
            key: e.getNodeKey(y),
            "node-key": e.nodeKey,
            "check-easily": e.checkEasily,
            node: y,
            "show-line": e.showLine,
            onNodeExpand: e.handleChildNodeExpand,
            onRadioChange: t[10] || (t[10] = function(S) {
              return e.$emit("radio-change", S);
            })
          }, {
            prefix: q(function(S) {
              return [G(e.$slots, "prefix", {
                node: S.node
              })];
            }),
            suffix: q(function(S) {
              return [G(e.$slots, "suffix", {
                node: S.node
              })];
            }),
            operation: q(function(S) {
              return [G(e.$slots, "operation", {
                node: S.node
              })];
            }),
            _: 2
            /* DYNAMIC */
          }, 1032, ["action", "show-radio", "theme", "is-show-focus-bg", "current-radio", "render-content", "expand-icon", "shrink-icon", "expand-icon-color", "shrink-icon-color", "render-after-expand", "show-checkbox", "show-number", "node-height", "show-checked-mark", "node-key", "check-easily", "node", "show-line", "onNodeExpand"]);
        }),
        128
        /* KEYED_FRAGMENT */
      ))], 12, fA)), [[De, e.state.expanded]]) : P("v-if", !0)];
    }),
    _: 3
    /* FORWARDED */
  })) : P("v-if", !0)], 42, iA), [[De, e.node.visible]]), e.state.showMenu && e.TreeRoot.showContextmenu ? ae((C(), k(
    "div",
    {
      key: 0,
      ref: "menuContext",
      class: "tiny-tree-node__menu",
      style: ke(e.state.menuposition),
      onContextmenu: t[17] || (t[17] = X(function() {
      }, ["stop"])),
      onClick: t[18] || (t[18] = X(function() {
      }, ["stop"]))
    },
    [E(m, {
      node: e.node
    }, null, 8, ["node"])],
    36
    /* STYLE, NEED_HYDRATION */
  )), [[b, e.closeMenu]]) : P("v-if", !0)]);
}
var pA = /* @__PURE__ */ sd(rA, [["render", hA]]), vA = /* @__PURE__ */ U({
  directives: Jo({}, Dn({
    Clickoutside: sr
  }), {
    HighlightQuery: Hd
  }),
  props: [].concat(Ne, ["data", "dataset", "parentKey", "expandIcon", "shrinkIcon", "expandIconColor", "shrinkIconColor", "emptyText", "renderAfterExpand", "nodeKey", "checkStrictly", "defaultExpandAll", "expandOnClickNode", "checkOnClickNode", "checkDescendants", "autoExpandParent", "defaultCheckedKeys", "defaultExpandedKeys", "defaultExpandedKeysHighlight", "currentNodeKey", "renderContent", "showCheckbox", "draggable", "allowDrag", "allowDrop", "props", "lazy", "highlightCurrent", "load", "filterNodeMethod", "accordion", "indent", "icon", "iconTriggerClickNode", "showRadio", "showContextmenu", "showNumber", "collapsible", "nodeHeight", "showCheckEasily", "size", "deleteDisabledKeys", "editDisabledKeys", "addDisabledKeys", "theme", "viewType", "showAuxi", "pathSplit", "filterPlainMethod", "afterLoad", "lazyCurrent", "baseIndent", "showLine", "onlyCheckChildren", "deleteNodeMethod", "showCheckedMark", "willChangeView", "editConfig", "isShowFocusBg", "highlightQuery"]),
  components: {
    TreeNode: pA,
    IconWarning: La(),
    IconMarkOn: Ma(),
    TinyPopover: kt,
    TinyCheckbox: Ht,
    TinyButton: Be,
    TinySwitch: jt,
    TinyRadio: Wt
  },
  emits: ["node-expand", "check-change", "check", "node-drag-over", "node-drag-enter", "node-drag-leave", "node-drag-start", "node-drag-end", "node-drop", "current-change", "node-click", "leave-plain-view", "check-plain", "load-data", "open-edit", "close-edit", "save-edit", "add-node", "edit-node", "delete-node", "closeMenu"],
  provide: function() {
    return {
      parentTree: this,
      TreeRoot: this
    };
  },
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: MD,
      api: _D,
      extendOptions: {
        isVue2: ui
      }
    });
  }
}), gA = {
  class: "tiny-tree__plain-node-title"
}, mA = {
  class: "tiny-tree__plain-node-title-txt"
}, yA = {
  class: "tiny-tree__plain-node-title-loc"
}, bA = {
  key: 0,
  class: "tiny-tree__plain-node-auxi"
}, CA = {
  key: 2,
  class: "tiny-tree__empty-block"
}, wA = {
  class: "tiny-tree__empty-text"
}, SA = {
  class: "tiny-tree__drop-indicator",
  ref: "dropIndicator"
}, $A = {
  key: 3,
  class: "tiny-tree__strict-bottom"
}, kA = {
  class: "tiny-tree__strict-bottom-content"
}, TA = {
  class: "tiny-tree__bottom-text"
}, _A = {
  class: "tiny-tree__del-body"
}, IA = {
  class: "tiny-tree__del-icon"
}, EA = {
  class: "tiny-tree__del-content"
}, OA = {
  key: 0
}, MA = {
  class: "tiny-tree__del-checkbox"
}, xA = {
  class: "tiny-tree__del-footer"
};
function DA(e, t, n, r, o, i) {
  var l = K("tree-node"), a = K("tiny-checkbox"), s = K("tiny-radio"), d = K("icon-mark-on"), u = K("tiny-switch"), c = K("icon-warning"), f = K("tiny-button"), h = K("tiny-popover"), p = Qe("highlight-query"), v = Qe("clickoutside");
  return C(), k(
    "div",
    {
      class: W(["tiny-tree", {
        "tiny-tree--highlight-current": e.highlightCurrent,
        "is-dragging": !!e.state.dragState.draggingNode,
        "is-drop-not-allow": !e.state.dragState.allowDrop,
        "is-drop-inner": e.state.dragState.dropType === "inner",
        "tiny-tree--small": e.size === "small"
      }]),
      role: "tree"
    },
    [e.viewType === "tree" ? (C(!0), k(
      ie,
      {
        key: 0
      },
      $e(e.state.renderedChildNodes, function(g) {
        return ae((C(), z(l, {
          action: e.state.action,
          "show-radio": e.showRadio,
          theme: e.theme,
          "show-number": e.showNumber,
          "is-show-focus-bg": e.isShowFocusBg,
          collapsible: e.collapsible,
          "node-height": e.nodeHeight,
          "current-radio": e.state.currentRadio,
          onRadioChange: t[0] || (t[0] = function(m) {
            return e.state.currentRadio.value = m;
          }),
          "expand-icon": e.expandIcon,
          "shrink-icon": e.shrinkIcon,
          "expand-icon-color": e.expandIconColor,
          "shrink-icon-color": e.shrinkIconColor,
          node: g,
          props: e.props,
          "render-after-expand": e.renderAfterExpand,
          "show-checkbox": e.showCheckbox,
          key: e.getNodeKey(g),
          "node-key": e.nodeKey,
          "render-content": e.renderContent,
          onNodeExpand: e.handleNodeExpand,
          "check-easily": e.state.checkEasily,
          "show-line": e.showLine,
          "show-checked-mark": e.showCheckedMark
        }, {
          prefix: q(function(m) {
            return [G(e.$slots, "prefix", {
              node: m.node
            })];
          }),
          suffix: q(function(m) {
            return [G(e.$slots, "suffix", {
              node: m.node
            })];
          }),
          operation: q(function(m) {
            return [G(e.$slots, "operation", {
              node: m.node
            })];
          }),
          _: 2
          /* DYNAMIC */
        }, 1032, ["action", "show-radio", "theme", "show-number", "is-show-focus-bg", "collapsible", "node-height", "current-radio", "expand-icon", "shrink-icon", "expand-icon-color", "shrink-icon-color", "node", "props", "render-after-expand", "show-checkbox", "node-key", "render-content", "onNodeExpand", "check-easily", "show-line", "show-checked-mark"])), [[p, e.highlightQuery ? e.state.filterText : ""]]);
      }),
      128
      /* KEYED_FRAGMENT */
    )) : e.viewType === "plain" ? (C(!0), k(
      ie,
      {
        key: 1
      },
      $e(e.state.plainNodeStore.filteredNodes, function(g, m) {
        return C(), k("div", {
          key: g.nodeKeyPath + "-" + m,
          class: "tiny-tree__plain-node"
        }, [T("div", gA, [e.showCheckbox ? (C(), z(a, {
          key: 0,
          "model-value": g.node.checked,
          indeterminate: g.node.indeterminate,
          disabled: !!g.node.disabled,
          onChange: function(y) {
            return e.handleCheckPlainNode(y, g);
          }
        }, null, 8, ["model-value", "indeterminate", "disabled", "onChange"])) : P("v-if", !0), e.showRadio ? (C(), z(s, {
          key: 1,
          modelValue: e.state.currentRadio.value,
          "onUpdate:modelValue": t[1] || (t[1] = function(b) {
            return e.state.currentRadio.value = b;
          }),
          "validate-event": !1,
          label: g.node.id,
          disabled: !!g.node.disabled,
          onChange: function(y) {
            return e.handleCheckPlainNode(y === g.node.id, g);
          }
        }, null, 8, ["modelValue", "label", "disabled", "onChange"])) : P("v-if", !0), G(e.$slots, "prefix", {
          node: g.node
        }), G(e.$slots, "default", {
          node: g.node
        }, function() {
          return [ae((C(), k("span", mA, [de(
            j(g.title),
            1
            /* TEXT */
          )])), [[p, e.highlightQuery ? e.state.filterText : ""]])];
        }), G(e.$slots, "suffix", {
          node: g.node
        }, function() {
          return [T("span", yA, [E(d, {
            onClick: function(y) {
              return e.handleClickPlainNode(y, g);
            }
          }, null, 8, ["onClick"])])];
        })]), e.showAuxi && g.auxi ? (C(), k("div", bA, [T(
          "div",
          null,
          j(g.auxi),
          1
          /* TEXT */
        )])) : P("v-if", !0)]);
      }),
      128
      /* KEYED_FRAGMENT */
    )) : P("v-if", !0), e.state.isEmpty ? (C(), k("div", CA, [G(e.$slots, "empty", {}, function() {
      return [T(
        "span",
        wA,
        j(e.state.loaded ? e.state.showEmptyText : e.t("ui.tree.loading")),
        1
        /* TEXT */
      )];
    })])) : P("v-if", !0), ae(T(
      "div",
      SA,
      null,
      512
      /* NEED_PATCH */
    ), [[De, e.state.dragState.showDropIndicator]]), e.state.store.checkStrictly && e.showCheckEasily ? (C(), k("div", $A, [T("div", kA, [E(u, {
      mini: "",
      onChange: e.switchToggle,
      modelValue: e.state.checkEasily,
      "onUpdate:modelValue": t[2] || (t[2] = function(g) {
        return e.state.checkEasily = g;
      })
    }, null, 8, ["onChange", "modelValue"]), T("div", TA, [G(e.$slots, "switchText", {}, function() {
      return [T(
        "span",
        null,
        j(e.t("ui.tree.switchText")),
        1
        /* TEXT */
      )];
    })])])])) : P("v-if", !0), e.state.action.show ? ae((C(), z(h, {
      key: 4,
      ref: "deletePopover",
      modelValue: e.state.action.popoverVisible,
      "onUpdate:modelValue": t[4] || (t[4] = function(g) {
        return e.state.action.popoverVisible = g;
      }),
      "popper-class": "tiny-tree__del-popover",
      placement: "top",
      width: e.state.action.isLeaf ? 200 : 270,
      trigger: "manual",
      reference: e.state.action.referenceElm
    }, {
      default: q(function() {
        return [ae((C(), k("div", _A, [T("div", IA, [E(c)]), T("div", EA, [e.state.action.isLeaf ? (C(), k(
          "div",
          OA,
          j(e.t("ui.tree.deleteTip1")),
          1
          /* TEXT */
        )) : (C(), k(
          ie,
          {
            key: 1
          },
          [T(
            "div",
            null,
            j(e.t("ui.tree.deleteTip2")),
            1
            /* TEXT */
          ), T("div", MA, [E(a, {
            modelValue: e.state.action.isSaveChildNode,
            "onUpdate:modelValue": t[3] || (t[3] = function(g) {
              return e.state.action.isSaveChildNode = g;
            }),
            ref: "deleteCheckbox"
          }, {
            default: q(function() {
              return [de(
                j(e.t("ui.tree.deleteTip3")),
                1
                /* TEXT */
              )];
            }),
            _: 1
            /* STABLE */
          }, 8, ["modelValue"])])],
          64
          /* STABLE_FRAGMENT */
        ))])])), [[v, e.cancelDelete]]), T("div", xA, [E(f, {
          onClick: e.cancelDelete,
          size: "mini"
        }, {
          default: q(function() {
            return [de(
              j(e.t("ui.base.cancel")),
              1
              /* TEXT */
            )];
          }),
          _: 1
          /* STABLE */
        }, 8, ["onClick"]), E(f, {
          type: "primary",
          onClick: e.deleteAction,
          size: "mini"
        }, {
          default: q(function() {
            return [de(
              j(e.t("ui.base.confirm")),
              1
              /* TEXT */
            )];
          }),
          _: 1
          /* STABLE */
        }, 8, ["onClick"])])];
      }),
      _: 1
      /* STABLE */
    }, 8, ["modelValue", "width", "reference"])), [[De, e.state.action.popoverVisible]]) : P("v-if", !0)],
    2
    /* CLASS */
  );
}
var AA = /* @__PURE__ */ sd(vA, [["render", DA]]);
function ei() {
  return ei = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, ei.apply(null, arguments);
}
var LA = function(t) {
  var n;
  return typeof process == "object" && ((n = process.env) == null || n.TINY_MODE), AA;
}, RA = {
  EMPTY_TEXT_LOCAL: "ui.tree.emptyText"
}, Un = U({
  name: te + "Tree",
  props: ei({}, le, {
    _constants: {
      type: Object,
      default: function() {
        return RA;
      }
    },
    accordion: Boolean,
    allowDrag: Function,
    allowDrop: Function,
    autoExpandParent: {
      type: Boolean,
      default: !0
    },
    checkDescendants: {
      type: Boolean,
      default: !1
    },
    checkOnClickNode: Boolean,
    checkStrictly: Boolean,
    currentNodeKey: [String, Number],
    data: {
      type: Array
    },
    dataset: Object,
    defaultCheckedKeys: Array,
    defaultExpandAll: Boolean,
    defaultExpandedKeys: Array,
    defaultExpandedKeysHighlight: [Number, String],
    draggable: {
      type: Boolean,
      default: !1
    },
    emptyText: String,
    expandIcon: Object,
    expandOnClickNode: {
      type: Boolean,
      default: !0
    },
    filterNodeMethod: Function,
    highlightCurrent: Boolean,
    icon: Object,
    iconTriggerClickNode: {
      type: Boolean,
      default: !0
    },
    indent: {
      type: Number,
      default: 16
    },
    lazy: {
      type: Boolean,
      default: !1
    },
    load: Function,
    nodeKey: String,
    parentKey: String,
    props: {
      default: function() {
        return {
          children: "children",
          label: "label",
          disabled: "disabled",
          isLeaf: "isLeaf"
        };
      }
    },
    renderAfterExpand: {
      type: Boolean,
      default: !0
    },
    renderContent: Function,
    showCheckbox: {
      type: Boolean,
      default: !1
    },
    showContextmenu: {
      type: Boolean,
      default: !1
    },
    showRadio: {
      type: Boolean,
      default: !1
    },
    showNumber: {
      type: Boolean,
      default: !1
    },
    collapsible: {
      type: Boolean,
      default: !0
    },
    showCheckEasily: {
      type: Boolean,
      default: !1
    },
    nodeHeight: Number,
    shrinkIcon: Object,
    expandIconColor: String,
    shrinkIconColor: String,
    size: {
      type: String,
      default: "medium"
    },
    deleteDisabledKeys: Array,
    editDisabledKeys: Array,
    addDisabledKeys: Array,
    theme: String,
    viewType: {
      type: String,
      default: "tree",
      validator: function(t) {
        return ~["tree", "plain"].indexOf(t);
      }
    },
    // 平铺视图时，是否显示下面的辅助信息
    showAuxi: {
      type: Boolean,
      default: !0
    },
    pathSplit: {
      type: String,
      default: "/"
    },
    filterPlainMethod: Function,
    afterLoad: Function,
    lazyCurrent: Boolean,
    baseIndent: {
      type: Number,
      default: 0
    },
    deleteNodeMethod: Function,
    showCheckedMark: Boolean,
    willChangeView: {
      type: Boolean,
      default: !0
    },
    onlyCheckChildren: Boolean,
    editConfig: {
      type: Object,
      default: function() {
        return {};
      }
    },
    // tiny 新增
    showLine: Boolean,
    // tiny 新增，是否显示树节点聚焦时的背景颜色
    isShowFocusBg: {
      type: Boolean,
      default: !0
    },
    // 是否在匹配的节点中，高亮搜索文字
    highlightQuery: {
      type: Boolean,
      default: !1
    }
  }),
  setup: function(t, n) {
    return Ie({
      props: t,
      context: n,
      template: LA
    });
  }
}), VA = "3.undefined";
Un.install = function(e) {
  e.component(Un.name, Un);
};
Un.version = VA;
function NA(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = PA(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function PA(e, t) {
  if (e) {
    if (typeof e == "string") return Zl(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Zl(e, t) : void 0;
  }
}
function Zl(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var FA = function(t, n) {
  for (var r = t.__vccOpts || t, o = NA(n), i; !(i = o()).done; ) {
    var l = i.value, a = l[0], s = l[1];
    r[a] = s;
  }
  return r;
};
function ti() {
  return ti = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, ti.apply(null, arguments);
}
var Yl = function(t, n, r) {
  var o = n.expression ? n.value : n.arg, i = r.context.$refs[o];
  i && (Array.isArray(i) ? i[0].$refs.reference = t : i.$refs.reference = t);
}, zA = U({
  emits: ["update:modelValue", "change", "focus", "blur", "clear", "remove-tag", "visible-change", "handleDropdownClick", "dropdown-click", "top-create-click"],
  directives: Dn({
    Clickoutside: sr,
    popover: {
      bind: function(t, n, r) {
        Yl(t, n, r);
      },
      inserted: function(t, n, r) {
        Yl(t, n, r);
      }
    }
  }),
  components: {
    TinyTag: Qt,
    TinyInput: Yn,
    TinyOption: Jt,
    TinyGrid: ct,
    TinyTree: Un,
    TinyButton: Be,
    IconClose: dn(),
    TinyScrollbar: wn,
    IconCopy: Ia(),
    IconAddCircle: Na(),
    IconLoadingShadow: An(),
    TinySelectDropdown: en,
    IconHalfselect: Xt(),
    IconCheck: Vt(),
    IconCheckedSur: Nt(),
    TinyFilterBox: $n,
    TinyTooltip: $t,
    TinyRecycleScroller: rn,
    // tiny 新增，
    IconSearch: fi(),
    IconDownWard: Hn(),
    // 默认下拉图标
    IconEllipsis: Vr(),
    IconChevronUp: _a()
  },
  props: [].concat(Ne, [
    "id",
    "multiple",
    "name",
    "dataset",
    "readonly",
    "tabindex",
    "dropStyle",
    "valueField",
    "textField",
    "copyable",
    "size",
    "options",
    "showCheck",
    "showAlloption",
    "hideDrop",
    "modelValue",
    "showOverflowTooltip",
    "remote",
    "remoteConfig",
    "placement",
    "loading",
    "disabled",
    "valueKey",
    "clearable",
    "noDataText",
    "filterable",
    "loadingText",
    "noMatchText",
    "popperClass",
    "allowCreate",
    "placeholder",
    "remoteMethod",
    "filterMethod",
    "collapseTags",
    "autocomplete",
    "multipleLimit",
    "reserveKeyword",
    "automaticDropdown",
    "defaultFirstOption",
    "popperAppendToBody",
    "showDropdown",
    "expandTags",
    "renderType",
    "gridOp",
    "treeOp",
    "delay",
    "cacheOp",
    "isDropInheritWidth",
    "tagSelectable",
    "selectConfig",
    "radioConfig",
    "allowCopy",
    "textSplit",
    "autoClose",
    "queryDebounce",
    "ignoreEnter",
    "dropdownIcon",
    "disabledTooltipContent",
    "hoverExpand",
    "optimization",
    "displayOnly",
    "initQuery",
    "extraQueryParams",
    "shape",
    "label",
    "tip",
    "updateDelay",
    "showTips",
    "popperOptions",
    "trim",
    "topCreate",
    "topCreateText",
    "keepFocus",
    "initLabel",
    "blank",
    "tooltipConfig",
    "showEmptyValue",
    "stopPropagation",
    // 以下为 tiny 新增
    "searchable",
    "showEmptyImage",
    "inputBoxType",
    "tagType",
    "clearNoMatchValue",
    "showLimitText",
    "showProportion",
    "clickExpand",
    "maxVisibleRows",
    "showAllTextTag",
    "allText",
    "maxTagWidth"
  ]),
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: RC,
      api: EC
    });
  }
}), HA = ["title"], BA = {
  key: 0
}, jA = {
  key: 0
}, WA = {
  class: "tiny-select__tags-text"
}, KA = {
  key: 0
}, qA = {
  class: "tiny-select__tags-text"
}, GA = {
  key: 1,
  ref: "tags-content"
}, UA = {
  key: 0,
  class: "tiny-select__tags-text"
}, ZA = {
  key: 1,
  class: "tiny-select__tags-text"
}, YA = {
  key: 0
}, XA = {
  key: 1
}, QA = ["disabled", "autocomplete"], JA = {
  key: 0,
  class: "tiny-select__limit-txt"
}, e9 = {
  key: 1,
  class: "tiny-select__proportion-txt"
}, t9 = {
  key: 1,
  class: "tiny-select__top-create"
}, n9 = {
  class: "tiny-icon-close"
}, r9 = {
  class: "tiny-option__checkbox-wrap tiny-select-dropdown__item-checkbox"
}, o9 = {
  class: "tiny-option-wrapper calc-width"
}, i9 = {
  class: "tiny-option-label"
}, l9 = {
  class: "tiny-option__checkbox-wrap tiny-select-dropdown__item-checkbox"
}, a9 = {
  class: "tiny-option-wrapper calc-width"
}, s9 = {
  class: "tiny-option-label"
}, d9 = {
  key: 0,
  class: "tiny-select-dropdown__empty-wrap"
}, u9 = {
  key: 1,
  class: "tiny-select-dropdown__empty-images"
}, c9 = {
  key: 2,
  class: "tiny-select-dropdown__empty"
}, f9 = {
  key: 0,
  class: "tiny-select-dropdown__empty-images"
}, h9 = {
  key: 1,
  class: "tiny-select-dropdown__empty"
}, p9 = {
  key: 0,
  class: "tiny-select__placeholder"
}, v9 = /* @__PURE__ */ T(
  "input",
  {
    class: "tiny-input__inner",
    disabled: ""
  },
  null,
  -1
  /* HOISTED */
), g9 = [v9];
function m9(e, t, n, r, o, i) {
  var l = K("tiny-filter-box"), a = K("tiny-tooltip"), s = K("tiny-tag"), d = K("icon-ellipsis"), u = K("icon-chevron-up"), c = K("icon-copy"), f = K("icon-close"), h = K("tiny-input"), p = K("tiny-grid"), v = K("tiny-tree"), g = K("icon-search"), m = K("tiny-option"), b = K("tiny-recycle-scroller"), y = K("tiny-scrollbar"), S = K("tiny-select-dropdown"), w = Qe("popover"), _ = Qe("clickoutside");
  return ae((C(), k(
    "div",
    {
      ref: "select",
      class: W(["tiny-select", [e.state.selectSize ? "tiny-select--" + e.state.selectSize : "", e.state.collapseTags ? "tiny-select__collapse-tags" : "", e.filterable ? "tiny-select__filterable" : "", e.multiple ? "tiny-select__multiple" : "", (e.state.inputHovering || e.state.visible) && !e.clickExpand ? "is-hover" : "", e.state.isDisplayOnly ? "is-display-only" : "", e.hoverExpand ? "is-hover-expand" : "", e.clickExpand ? "is-click-expand" : "", e.state.showCollapseTag ? "collapse-tag-clicked" : "", e.state.isDisabled ? "is-disabled" : ""]]),
      onMouseleave: t[41] || (t[41] = X(function() {
        e.state.selectHover = !1, e.state.inputHovering = !1;
      }, ["self"])),
      onMouseenter: t[42] || (t[42] = X(function() {
        return e.onMouseenterSelf && e.onMouseenterSelf.apply(e, arguments);
      }, ["self"])),
      onClick: t[43] || (t[43] = function() {
        return e.toggleMenu && e.toggleMenu.apply(e, arguments);
      })
    },
    [T("div", {
      ref: "tagsGroup",
      style: ke(e.state.selectFiexd),
      class: W(["tiny-select__tags-group", {
        "is-expand": e.state.isExpand
      }]),
      title: e.state.displayOnlyContent
    }, [G(e.$slots, "reference", {}, function() {
      return [e.shape === "filter" ? (C(), z(l, {
        key: 0,
        ref: "reference",
        onClick: e.toggleMenu,
        "show-close": e.clearable,
        placeholder: e.placeholder,
        disabled: e.state.selectDisabled,
        label: e.label,
        tip: e.tip,
        value: e.multiple ? e.state.selected.map(function($) {
          return $.state ? $.state.currentLabel : $.currentLabel;
        }).join("; ") : e.state.selectedLabel,
        "drop-down-visible": e.state.visible,
        blank: e.blank
      }, null, 8, ["onClick", "show-close", "placeholder", "disabled", "label", "tip", "value", "drop-down-visible", "blank"])) : P("v-if", !0), e.multiple && !e.state.isDisplayOnly && !e.shape ? (C(), k(
        "div",
        {
          key: 1,
          ref: "tags",
          class: W(["tiny-select__tags", {
            "is-showicon": e.slots.prefix,
            "not-selected": !e.state.selected.length
          }, {
            "is-show-tag": !e.state.isShowTagText
          }]),
          style: ke(e.state.tagsStyle)
        },
        [e.state.isShowTagText ? (C(), k(
          "span",
          {
            key: 1,
            class: W(["tiny-select__tags-text", "is-display-only", {
              "is-disabled": e.state.isDisabled
            }])
          },
          [T("span", null, [(C(!0), k(
            ie,
            null,
            $e(e.state.selected, function($) {
              return C(), k("span", {
                key: $.value
              }, [G(e.$slots, "label", {
                item: $
              }, function() {
                return [de(
                  j($.state ? $.state.currentLabel : $.currentLabel),
                  1
                  /* TEXT */
                )];
              }), de("; ")]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))])],
          2
          /* CLASS */
        )) : (C(), k("span", BA, [e.collapseTags && e.state.selected.length ? (C(), k("span", jA, [(C(), z(s, {
          class: W({
            "is-required": e.state.selected[0].required
          }),
          closable: e.isTagClosable(e.state.selected[0]),
          size: e.state.collapseTagSize,
          hit: e.state.selected[0].state ? e.state.selected[0].state.hitState : e.state.selected[0].hitState,
          key: e.state.key,
          disabled: e.state.selected[0].disabled || e.state.isDisabled,
          type: e.state.getTagType,
          onClose: t[1] || (t[1] = function($) {
            return e.deleteTag($, e.state.selected[0]);
          }),
          "disable-transitions": "",
          maxWidth: e.maxTagWidth
        }, {
          default: q(function() {
            return [E(a, {
              effect: e.tooltipConfig.effect || "light",
              placement: e.tooltipConfig.placement || "top",
              "popper-class": e.tooltipConfig.popperClass || "",
              onMouseenter: t[0] || (t[0] = function($) {
                return e.handleEnterTag($, e.getValueKey(e.state.selected[0]));
              })
            }, {
              content: q(function() {
                return [e.state.tooltipContent[e.getValueKey(e.state.selected[0])] ? (C(), k("span", KA, [G(e.$slots, "label", {
                  item: e.getLabelSlotValue(e.state.selected[0])
                }, function() {
                  return [de(
                    j(e.state.selected[0].state ? e.state.selected[0].state.currentLabel : e.state.selected[0].currentLabel),
                    1
                    /* TEXT */
                  )];
                })])) : P("v-if", !0)];
              }),
              default: q(function() {
                return [T("span", WA, [G(e.$slots, "label", {
                  item: e.getLabelSlotValue(e.state.selected[0])
                }, function() {
                  return [de(
                    j(e.state.selected[0].state ? e.state.selected[0].state.currentLabel : e.state.selected[0].currentLabel),
                    1
                    /* TEXT */
                  )];
                })])];
              }),
              _: 3
              /* FORWARDED */
            }, 8, ["effect", "placement", "popper-class"])];
          }),
          _: 3
          /* FORWARDED */
        }, 8, ["class", "closable", "size", "hit", "disabled", "type", "maxWidth"])), e.state.selected.length > 1 ? (C(), z(s, {
          key: 0,
          closable: !1,
          size: e.state.collapseTagSize,
          type: e.state.getTagType,
          disabled: e.state.isDisabled,
          "disable-transitions": "",
          class: "tiny-select__tags-number",
          maxWidth: e.maxTagWidth
        }, {
          default: q(function() {
            return [T(
              "span",
              qA,
              "+ " + j(e.state.selected.length - 1),
              1
              /* TEXT */
            )];
          }),
          _: 1
          /* STABLE */
        }, 8, ["size", "type", "disabled", "maxWidth"])) : P("v-if", !0)])) : P("v-if", !0), e.collapseTags ? P("v-if", !0) : (C(), k(
          "span",
          GA,
          [e.showAllTextTag && e.state.selectCls === "checked-sur" ? (C(), z(s, {
            type: e.state.getTagType,
            key: "tags-all-text-tag",
            "data-tag": "tags-all-text-tag",
            disabled: e.state.isDisabled,
            closable: !0,
            size: e.state.collapseTagSize,
            onClose: t[2] || (t[2] = function($) {
              return e.toggleCheckAll(!1);
            }),
            maxWidth: e.maxTagWidth
          }, {
            default: q(function() {
              return [de(
                j(e.allText || e.t("ui.base.all")),
                1
                /* TEXT */
              )];
            }),
            _: 1
            /* STABLE */
          }, 8, ["type", "disabled", "size", "maxWidth"])) : (C(), k(
            ie,
            {
              key: 1
            },
            [e.hoverExpand || e.clickExpand ? (C(), z(s, {
              class: W(["tiny-select__tags-collapse", {
                "is-hidden": e.state.isHidden || e.state.isDisabled
              }]),
              type: e.state.getTagType,
              key: "tags-collapse",
              "data-tag": "tags-collapse",
              "only-icon": !e.hoverExpand,
              closable: !1,
              size: e.state.collapseTagSize,
              onClick: t[3] || (t[3] = function($) {
                return e.onClickCollapseTag($);
              }),
              maxWidth: e.maxTagWidth
            }, {
              default: q(function() {
                return [e.hoverExpand ? (C(), k(
                  ie,
                  {
                    key: 0
                  },
                  [de(
                    " + " + j(e.state.collapseTagsLength),
                    1
                    /* TEXT */
                  )],
                  64
                  /* STABLE_FRAGMENT */
                )) : (C(), z(d, {
                  key: 1
                }))];
              }),
              _: 1
              /* STABLE */
            }, 8, ["class", "type", "only-icon", "size", "maxWidth"])) : P("v-if", !0), (C(!0), k(
              ie,
              null,
              $e(e.state.selected, function($, I) {
                return C(), z(s, {
                  key: e.getValueKey($),
                  class: W({
                    "not-visible": e.state.toHideIndex <= I && !e.state.isExpand,
                    "is-required": $.required
                  }),
                  closable: e.isTagClosable($),
                  disabled: e.state.isDisabled || $.disabled,
                  size: e.state.collapseTagSize,
                  hit: $.state ? $.state.hitState : $.hitState,
                  type: e.state.getTagType,
                  onClose: function(x) {
                    return e.deleteTag(x, $);
                  },
                  "disable-transitions": "",
                  maxWidth: e.maxTagWidth
                }, {
                  default: q(function() {
                    return [E(a, {
                      effect: e.tooltipConfig.effect || "light",
                      placement: e.tooltipConfig.placement || "top",
                      "popper-class": e.tooltipConfig.popperClass || "",
                      onMouseenter: function(x) {
                        return e.handleEnterTag(x, e.getValueKey($));
                      }
                    }, kr({
                      default: q(function() {
                        return [!e.state.visible && e.state.overflow === I ? (C(), k(
                          "span",
                          UA,
                          j($.state ? $.state.currentLabel + "... " : $.currentLabel + "... "),
                          1
                          /* TEXT */
                        )) : (C(), k("span", ZA, [G(e.$slots, "label", {
                          item: e.getLabelSlotValue($)
                        }, function() {
                          return [de(
                            j($.state ? $.state.currentLabel : $.currentLabel),
                            1
                            /* TEXT */
                          )];
                        })]))];
                      }),
                      _: 2
                      /* DYNAMIC */
                    }, [e.state.tooltipContent[e.getValueKey($)] ? {
                      name: "content",
                      fn: q(function() {
                        return [!e.state.visible && e.state.overflow === I ? (C(), k(
                          "span",
                          YA,
                          j($.state ? $.state.currentLabel + "... " : $.currentLabel + "... "),
                          1
                          /* TEXT */
                        )) : (C(), k("span", XA, [G(e.$slots, "label", {
                          item: e.getLabelSlotValue($)
                        }, function() {
                          return [de(
                            j($.state ? $.state.currentLabel : $.currentLabel),
                            1
                            /* TEXT */
                          )];
                        })]))];
                      }),
                      key: "0"
                    } : void 0]), 1032, ["effect", "placement", "popper-class", "onMouseenter"])];
                  }),
                  _: 2
                  /* DYNAMIC */
                }, 1032, ["class", "closable", "disabled", "size", "hit", "type", "onClose", "maxWidth"]);
              }),
              128
              /* KEYED_FRAGMENT */
            )), e.clickExpand && e.state.showCollapseTag ? (C(), k("span", {
              key: 1,
              class: "tiny-select__collapse-text",
              onClick: t[4] || (t[4] = function($) {
                return e.onClickCollapseTag($);
              })
            }, [de(
              j(e.t("ui.select.collapse")) + " ",
              1
              /* TEXT */
            ), E(u)])) : P("v-if", !0)],
            64
            /* STABLE_FRAGMENT */
          ))],
          512
          /* NEED_PATCH */
        ))])), ae(T("input", {
          ref: "input",
          "onUpdate:modelValue": t[5] || (t[5] = function($) {
            return e.state.query = $;
          }),
          type: "text",
          class: W(["tiny-select__input", [e.state.selectSize ? "is-" + e.state.selectSize : ""]]),
          disabled: e.state.selectDisabled,
          autocomplete: e.autocomplete,
          onFocus: t[6] || (t[6] = function() {
            return e.handleFocus && e.handleFocus.apply(e, arguments);
          }),
          onBlur: t[7] || (t[7] = function() {
            return e.handleBlur && e.handleBlur.apply(e, arguments);
          }),
          onKeyup: t[8] || (t[8] = function() {
            return e.managePlaceholder && e.managePlaceholder.apply(e, arguments);
          }),
          onKeydown: [t[9] || (t[9] = function() {
            return e.resetInputState && e.resetInputState.apply(e, arguments);
          }), t[10] || (t[10] = Se(X(function($) {
            return e.navigateOptions("next");
          }, ["prevent"]), ["down"])), t[11] || (t[11] = Se(X(function($) {
            return e.navigateOptions("prev");
          }, ["prevent"]), ["up"])), t[12] || (t[12] = Se(X(function() {
            return e.selectOption && e.selectOption.apply(e, arguments);
          }, ["prevent"]), ["enter"])), t[13] || (t[13] = Se(X(function($) {
            return e.state.visible = !1;
          }, ["stop", "prevent"]), ["esc"])), t[14] || (t[14] = Se(function() {
            return e.deletePrevTag && e.deletePrevTag.apply(e, arguments);
          }, ["delete"])), t[15] || (t[15] = Se(function($) {
            return e.state.visible = !1;
          }, ["tab"]))],
          onCompositionstart: t[16] || (t[16] = function() {
            return e.handleComposition && e.handleComposition.apply(e, arguments);
          }),
          onCompositionupdate: t[17] || (t[17] = function() {
            return e.handleComposition && e.handleComposition.apply(e, arguments);
          }),
          onCompositionend: t[18] || (t[18] = function() {
            return e.handleComposition && e.handleComposition.apply(e, arguments);
          }),
          onInput: t[19] || (t[19] = function() {
            return e.debouncedQueryChange && e.debouncedQueryChange.apply(e, arguments);
          }),
          style: ke({
            "flex-grow": "1",
            width: e.state.inputLength / (e.state.inputWidth - 32) + "%",
            "max-width": e.state.inputWidth - 42 + "px",
            height: "auto"
          })
        }, null, 46, QA), [[De, e.filterable && !e.searchable && !e.state.selectDisabled], [Yt, e.state.query]])],
        6
        /* CLASS, STYLE */
      )) : P("v-if", !0), e.shape ? P("v-if", !0) : (C(), z(h, {
        key: 2,
        tiny_mode: "pc",
        ref: "reference",
        modelValue: e.state.selectedLabel,
        "onUpdate:modelValue": t[22] || (t[22] = function($) {
          return e.state.selectedLabel = $;
        }),
        type: "text",
        placeholder: e.state.currentPlaceholder,
        name: e.name,
        id: e.id,
        autocomplete: e.autocomplete,
        size: e.state.selectSize,
        showTooltip: !1,
        disabled: e.state.selectDisabled,
        readonly: e.state.readonly,
        "display-only": e.state.isDisplayOnly,
        "display-only-content": e.state.displayOnlyContent,
        unselectable: e.state.readonly ? "on" : "off",
        "validate-event": !1,
        "show-empty-value": e.showEmptyValue,
        inputBoxType: e.inputBoxType,
        class: W({
          "is-focus": e.state.visible,
          overflow: e.state.overflow,
          "is-show-close": e.state.showClose,
          "show-copy": e.copyable,
          "show-clear": e.clearable
        }),
        tabindex: e.multiple && e.filterable ? "-1" : e.tabindex,
        onFocus: e.handleFocus,
        onBlur: e.handleBlur,
        onKeyup: e.debouncedOnInputChange,
        onKeydown: [t[23] || (t[23] = Se(X(function($) {
          return e.navigateOptions("next");
        }, ["stop", "prevent"]), ["down"])), t[24] || (t[24] = Se(X(function($) {
          return e.navigateOptions("prev");
        }, ["stop", "prevent"]), ["up"])), Se(X(e.selectOption, ["prevent"]), ["enter"]), t[25] || (t[25] = Se(X(function($) {
          return e.state.visible = !1;
        }, ["stop", "prevent"]), ["esc"])), t[26] || (t[26] = Se(function($) {
          return e.state.visible = !1;
        }, ["tab"]))],
        onPaste: e.debouncedOnInputChange,
        onMouseenter: e.onMouseenterNative,
        onMouseleave: e.onMouseleaveNative,
        onCompositionend: e.handleComposition
      }, kr({
        suffix: q(function() {
          return [G(e.$slots, "suffix"), e.showLimitText && e.multiple && e.multipleLimit && !e.state.showCopy ? (C(), k(
            "span",
            JA,
            j(e.state.selected.length) + "/" + j(e.multipleLimit),
            1
            /* TEXT */
          )) : e.showProportion && e.state.selected.length > 0 && e.state.options.length > 1 ? (C(), k(
            "span",
            e9,
            j(e.state.selected.length + "/" + e.state.options.length),
            1
            /* TEXT */
          )) : P("v-if", !0), e.state.showCopy ? (C(), k("span", {
            key: 2,
            class: "tiny-select__copy",
            onClick: t[20] || (t[20] = X(function() {
              return e.handleCopyClick && e.handleCopyClick.apply(e, arguments);
            }, ["stop"]))
          }, [E(c, {
            class: "tiny-svg-size tiny-select__caret"
          })])) : P("v-if", !0), e.state.showClose ? (C(), z(f, {
            key: 3,
            class: "tiny-svg-size tiny-select__caret tiny-select__close",
            onClick: e.handleClearClick,
            onMouseenter: t[21] || (t[21] = function($) {
              return e.state.inputHovering = !0;
            })
          }, null, 8, ["onClick"])) : P("v-if", !0), ae((C(), z(Te(e.state.getIcon.icon), {
            class: W(["tiny-svg-size", "tiny-select__caret", e.state.iconClass, {
              "is-reverse": !e.state.visible && e.state.getIcon.isDefault
            }, {
              "not-reverse": !e.state.getIcon.isDefault
            }]),
            onClick: e.handleDropdownClick
          }, null, 8, ["class", "onClick"])), [[De, e.state.autoHideDownIcon ? !e.state.showClose && !(e.remote && e.filterable && !e.remoteConfig.showIcon) : !(e.remote && e.filterable && !e.remoteConfig.showIcon)]])];
        }),
        _: 2
        /* DYNAMIC */
      }, [e.slots.prefix ? {
        name: "prefix",
        fn: q(function() {
          return [G(e.$slots, "prefix")];
        }),
        key: "0"
      } : void 0]), 1032, ["modelValue", "placeholder", "name", "id", "autocomplete", "size", "disabled", "readonly", "display-only", "display-only-content", "unselectable", "show-empty-value", "inputBoxType", "class", "tabindex", "onFocus", "onBlur", "onKeyup", "onKeydown", "onPaste", "onMouseenter", "onMouseleave", "onCompositionend"]))];
    }), E(Ot, {
      name: "tiny-zoom-in-top",
      onBeforeEnter: e.handleMenuEnter,
      onAfterLeave: e.doDestroy,
      persisted: ""
    }, {
      default: q(function() {
        return [ae(E(S, {
          ref: "popper",
          "is-drop-inherit-width": e.isDropInheritWidth,
          placement: e.placement,
          "append-to-body": e.popperAppendToBody,
          style: ke(e.dropStyle),
          "popper-options": e.popperOptions
        }, {
          default: q(function() {
            var $, I;
            return [e.shape && e.filterable ? (C(), k(
              "div",
              {
                key: 0,
                class: W(["tiny-select__filter-input", [e.remote && !e.state.options.length ? "tiny-select__remote-input" : ""]])
              },
              [E(h, {
                ref: "input",
                modelValue: e.state.query,
                "onUpdate:modelValue": t[27] || (t[27] = function(A) {
                  return e.state.query = A;
                }),
                placeholder: e.placeholder,
                onInput: e.debouncedQueryChange,
                onFocus: e.handleFocus,
                autofocus: ""
              }, null, 8, ["modelValue", "placeholder", "onInput", "onFocus"])],
              2
              /* CLASS */
            )) : P("v-if", !0), e.topCreate ? (C(), k("div", t9, [T("div", {
              onClick: t[28] || (t[28] = function(A) {
                return e.$emit("top-create-click", A);
              })
            }, [(C(), z(Te((($ = e.state.designConfig) == null || (I = $.icons) == null ? void 0 : I.addIcon) || "icon-add-circle"))), T(
              "span",
              null,
              j(e.topCreateText),
              1
              /* TEXT */
            )])])) : P("v-if", !0), e.renderType === "grid" ? (C(), z(p, it({
              key: 2,
              "auto-resize": "",
              "row-id": e.gridOp.rowId || e.valueField,
              "select-config": e.buildSelectConfig(),
              "radio-config": e.buildRadioConfig(),
              ref: "selectGrid",
              "highlight-current-row": !0,
              columns: e.gridOp.columns,
              data: e.state.gridData,
              onSelectAll: e.selectChange,
              onSelectChange: e.selectChange,
              onRadioChange: e.radioChange,
              onMousedown: t[29] || (t[29] = X(function() {
              }, ["stop"]))
            }, e.gridOp), null, 16, ["row-id", "select-config", "radio-config", "columns", "data", "onSelectAll", "onSelectChange", "onRadioChange"])) : P("v-if", !0), e.renderType === "tree" ? (C(), z(v, it({
              key: 3,
              "filter-node-method": e.filterMethod,
              props: ti({
                label: e.textField,
                isLeaf: "isLeaf"
              }, e.treeOp.props),
              "expand-on-click-node": !1,
              "icon-trigger-click-node": !1,
              "node-key": e.valueField,
              "default-expand-all": e.state.isExpandAll,
              "check-strictly": e.treeOp.checkStrictly,
              "default-checked-keys": e.multiple ? e.state.defaultCheckedKeys : e.treeOp.defaultCheckedKeys || [],
              ref: "selectTree",
              "current-node-key": e.multiple ? "" : e.state.currentKey,
              "show-checkbox": e.multiple,
              onLoadData: e.loadTreeData,
              onNodeCollapse: e.nodeCollapse,
              onNodeExpand: e.nodeExpand,
              onCheck: e.nodeCheckClick,
              onNodeClick: e.treeNodeClick
            }, e.treeOp), null, 16, ["filter-node-method", "props", "node-key", "default-expand-all", "check-strictly", "default-checked-keys", "current-node-key", "show-checkbox", "onLoadData", "onNodeCollapse", "onNodeExpand", "onCheck", "onNodeClick"])) : P("v-if", !0), e.searchable ? (C(), z(h, {
              key: 4,
              "input-box-type": "underline",
              modelValue: e.state.query,
              "onUpdate:modelValue": [t[30] || (t[30] = function(A) {
                return e.state.query = A;
              }), t[31] || (t[31] = function(A) {
                return e.handleQueryChange(e.state.query);
              })],
              placeholder: e.t("ui.search.placeholder"),
              class: "tiny-select-dropdown__search"
            }, {
              prefix: q(function() {
                return [E(g, {
                  class: "tiny-select-dropdown__search-prefix"
                })];
              }),
              suffix: q(function() {
                return [ae(T(
                  "span",
                  n9,
                  [E(f, {
                    onClick: e.clearSearchText
                  }, null, 8, ["onClick"])],
                  512
                  /* NEED_PATCH */
                ), [[De, e.state.query]]), E(g, {
                  class: "tiny-select-dropdown__search-suffix"
                })];
              }),
              _: 1
              /* STABLE */
            }, 8, ["modelValue", "placeholder"])) : P("v-if", !0), e.optimization && !~["grid", "tree"].indexOf(e.renderType) ? (C(), k(
              "div",
              {
                key: 5,
                style: ke({
                  height: e.state.optimizeStore.recycleScrollerHeight + "px"
                })
              },
              [ae(E(b, {
                ref: "scrollbar",
                style: {
                  height: "100%"
                },
                "key-field": e.valueField,
                "list-class": ["tiny-select-dropdown__wrap"],
                "item-class": ["tiny-select-dropdown__item-view"],
                items: e.state.datas,
                "item-size": e.state.optimizeOpts.optionHeight
              }, {
                before: q(function() {
                  return [e.state.showNewOption ? (C(), z(m, {
                    key: 0,
                    value: e.state.query,
                    created: ""
                  }, null, 8, ["value"])) : P("v-if", !0)];
                }),
                default: q(function(A) {
                  var x = A.item;
                  return [G(e.$slots, "default", {
                    item: x
                  }, function() {
                    return [(C(), z(m, {
                      key: "" + x[e.valueField],
                      label: x[e.textField],
                      value: x[e.valueField],
                      disabled: x.disabled,
                      required: x.required,
                      "highlight-class": x._highlightClass,
                      events: x.events,
                      icon: x.icon,
                      onMousedown: t[32] || (t[32] = X(function() {
                      }, ["stop"]))
                    }, null, 8, ["label", "value", "disabled", "required", "highlight-class", "events", "icon"]))];
                  })];
                }),
                _: 3
                /* FORWARDED */
              }, 8, ["key-field", "items", "item-size"]), [[De, !e.state.emptyFlag && !e.loading]])],
              4
              /* STYLE */
            )) : P("v-if", !0), !e.optimization && !~["grid", "tree"].indexOf(e.renderType) && !(e.state.isDisplayOnly && e.options) ? ae((C(), z(y, {
              key: 6,
              ref: "scrollbar",
              show: "",
              tag: "ul",
              "wrap-class": ["tiny-select-dropdown__wrap"],
              "view-class": ["tiny-select-dropdown__list"],
              onMousedown: t[40] || (t[40] = X(function() {
              }, ["stop"])),
              class: W({
                "is-empty": !e.allowCreate && e.state.query && e.state.filteredOptionsCount === 0
              })
            }, {
              default: q(function() {
                return [G(e.$slots, "dropdown"), e.multiple && e.showCheck && e.showAlloption && !e.state.multipleLimit && !e.state.query && !e.remote ? (C(), k(
                  "li",
                  {
                    key: 0,
                    class: W(["tiny-option tiny-option_all tiny-select-dropdown__item", [{
                      hover: e.state.hoverIndex === -9 && e.state.selectCls !== "checked-sur"
                    }, {
                      selected: e.state.selectCls === "checked-sur"
                    }]]),
                    "data-tag": "tiny-option",
                    onClick: t[33] || (t[33] = X(function(A) {
                      return e.toggleCheckAll(!1);
                    }, ["stop"])),
                    onMousedown: t[34] || (t[34] = X(function() {
                    }, ["stop"])),
                    onMouseenter: t[35] || (t[35] = function(A) {
                      return e.state.hoverIndex = -9;
                    })
                  },
                  [T("span", r9, [(C(), z(Te("icon-" + e.state.selectCls), {
                    class: W(["tiny-svg-size", e.state.selectCls])
                  }, null, 8, ["class"]))]), T("div", o9, [T(
                    "span",
                    i9,
                    j(e.allText || e.t("ui.base.all")),
                    1
                    /* TEXT */
                  )])],
                  34
                  /* CLASS, NEED_HYDRATION */
                )) : P("v-if", !0), e.multiple && e.showCheck && e.showAlloption && !e.state.multipleLimit && e.state.query && !e.state.emptyText && !e.remote ? (C(), k(
                  "li",
                  {
                    key: 1,
                    class: W(["tiny-option tiny-select-dropdown__item", [{
                      hover: e.state.hoverIndex === -9 && e.state.filteredSelectCls !== "checked-sur"
                    }, {
                      selected: e.state.filteredSelectCls === "checked-sur"
                    }]]),
                    "data-tag": "tiny-option",
                    onClick: t[36] || (t[36] = X(function(A) {
                      return e.toggleCheckAll(!0);
                    }, ["stop"])),
                    onMousedown: t[37] || (t[37] = X(function() {
                    }, ["stop"])),
                    onMouseenter: t[38] || (t[38] = function(A) {
                      return e.state.hoverIndex = -9;
                    })
                  },
                  [T("span", l9, [(C(), z(Te("icon-" + e.state.filteredSelectCls), {
                    class: W(["tiny-svg-size", e.state.filteredSelectCls])
                  }, null, 8, ["class"]))]), T("div", a9, [T(
                    "span",
                    s9,
                    j(e.allText || e.t("ui.base.all")),
                    1
                    /* TEXT */
                  )])],
                  34
                  /* CLASS, NEED_HYDRATION */
                )) : P("v-if", !0), e.state.showNewOption ? (C(), z(m, {
                  key: 2,
                  value: e.state.query,
                  created: ""
                }, null, 8, ["value"])) : P("v-if", !0), G(e.$slots, "default", {}, function() {
                  return [(C(!0), k(
                    ie,
                    null,
                    $e(e.state.datas, function(A) {
                      return C(), z(m, {
                        key: "" + A[e.valueField],
                        label: A[e.textField],
                        value: A[e.valueField],
                        disabled: A.disabled,
                        required: A.required,
                        "highlight-class": A._highlightClass,
                        events: A.events,
                        onMousedown: t[39] || (t[39] = X(function() {
                        }, ["stop"])),
                        icon: A.icon
                      }, null, 8, ["label", "value", "disabled", "required", "highlight-class", "events", "icon"]);
                    }),
                    128
                    /* KEYED_FRAGMENT */
                  ))];
                })];
              }),
              _: 3
              /* FORWARDED */
            }, 8, ["class"])), [[De, e.state.options.length > 0 && !e.loading]]) : P("v-if", !0), e.renderType !== "grid" && e.renderType !== "tree" && e.state.emptyText && (!e.allowCreate || e.loading || e.allowCreate && e.state.emptyFlag) ? (C(), k(
              ie,
              {
                key: 7
              },
              [e.loadingText || e.slots.empty ? (C(), k("div", d9, [e.slots.empty ? G(e.$slots, "empty", {
                key: 0
              }) : e.showEmptyImage ? (C(), k("span", u9)) : (C(), k(
                "p",
                c9,
                j(e.state.emptyText),
                1
                /* TEXT */
              ))])) : (C(), k(
                "div",
                {
                  key: 1,
                  class: W(["tiny-select-dropdown__loading", {
                    "show-loading-icon": e.loading
                  }])
                },
                [e.loading ? (C(), z(Te(e.state.designConfig && e.state.designConfig.icons && e.state.designConfig.icons.loadingIcon || "icon-loading-shadow"), {
                  key: 0,
                  class: "circular"
                })) : (C(), k(
                  ie,
                  {
                    key: 1
                  },
                  [e.showEmptyImage ? (C(), k("span", f9)) : (C(), k(
                    "span",
                    h9,
                    j(e.state.emptyText),
                    1
                    /* TEXT */
                  ))],
                  64
                  /* STABLE_FRAGMENT */
                ))],
                2
                /* CLASS */
              ))],
              64
              /* STABLE_FRAGMENT */
            )) : P("v-if", !0), G(e.$slots, "footer")];
          }),
          _: 3
          /* FORWARDED */
        }, 8, ["is-drop-inherit-width", "placement", "append-to-body", "style", "popper-options"]), [[De, !e.onCopying() && !e.hideDrop && e.state.visible && e.state.emptyText !== !1]])];
      }),
      _: 3
      /* FORWARDED */
    }, 8, ["onBeforeEnter", "onAfterLeave"])], 14, HA), e.hoverExpand && !e.state.isDisplayOnly ? (C(), k("div", p9, g9)) : P("v-if", !0)],
    34
    /* CLASS, NEED_HYDRATION */
  )), [[w, void 0, "popover"], [_, e.handleClose]]);
}
var bo = /* @__PURE__ */ FA(zA, [["render", m9]]);
function ni() {
  return ni = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, ni.apply(null, arguments);
}
var y9 = function(t) {
  var n, r = typeof process == "object" ? (n = process.env) == null ? void 0 : n.TINY_MODE : null;
  return bo;
}, Xl = {
  CLASS: {
    SelectDropdownWrap: ".tiny-select-dropdown__wrap",
    IsReverse: "is-reverse"
  },
  I18N: {
    noData: "ui.select.noData",
    noMatch: "ui.select.noMatch",
    loading: "ui.select.loading"
  },
  COMPONENT_NAME: {
    Form: "Form",
    Select: "Select",
    Option: "Option",
    FormItem: "FormItem",
    OptionGroup: "OptionGroup",
    SelectDropdown: "SelectDropdown"
  },
  EVENT_NAME: {
    removeTag: "remove-tag",
    formChange: "form.change",
    formBlur: "form.blur",
    queryChange: "queryChange",
    setSelected: "setSelected",
    updatePopper: "updatePopper",
    destroyPopper: "destroyPopper",
    visibleChange: "visible-change",
    handleOptionClick: "handleOptionClick",
    handleGroupDisabled: "handleGroupDisabled",
    initValue: "initValue"
  },
  TYPE: {
    Grid: "grid",
    Tree: "tree"
  },
  MAX_WIDTH: 132,
  RECYCLE: {
    SAAS_HEIGHT: 220,
    AURORA_HEIGHT: 180,
    ITEM_HEIGHT: 34,
    SAFE_MARGIN: 4
  },
  SAAS_SIZE: {
    mini: 24,
    small: 28,
    medium: 32
  },
  AURORA_SIZE: {
    mini: 24,
    small: 36,
    medium: 42
  },
  SPACING_HEIGHT: 0,
  MAX_VISIBLE_ROWS: 1
  // 多选默认最大显示行数，超出后自动隐藏
}, Tn = U({
  name: te + "Select",
  componentName: "Select",
  inject: {
    form: {
      default: ""
    },
    formItem: {
      default: ""
    }
  },
  provide: function() {
    return {
      select: this
    };
  },
  props: ni({}, le, {
    _constants: {
      type: Object,
      default: function() {
        return Xl;
      }
    },
    id: [Number, String],
    name: String,
    size: String,
    remote: Boolean,
    remoteConfig: {
      type: Object,
      default: function() {
        return {
          showIcon: !1,
          clearData: !1,
          autoSearch: !1
        };
      }
    },
    title: String,
    shape: String,
    tip: String,
    label: String,
    loading: Boolean,
    disabled: Boolean,
    options: Array,
    dataset: Object,
    textField: {
      type: String,
      default: "label"
    },
    tabindex: {
      type: String,
      default: "1"
    },
    valueField: {
      type: String,
      default: "value"
    },
    placement: {
      type: String,
      default: "bottom-start"
    },
    showCheck: {
      type: Boolean,
      default: !0
    },
    showAlloption: {
      type: Boolean,
      default: !0
    },
    multiple: Boolean,
    clearable: Boolean,
    noDataText: String,
    filterable: Boolean,
    loadingText: String,
    noMatchText: String,
    popperClass: String,
    allowCreate: Boolean,
    collapseTags: Boolean,
    remoteMethod: Function,
    filterMethod: Function,
    reserveKeyword: Boolean,
    automaticDropdown: Boolean,
    defaultFirstOption: Boolean,
    modelValue: {},
    valueKey: {
      type: String,
      default: "value"
    },
    placeholder: {
      type: String,
      default: function() {
        return lt("ui.select.placeholder");
      }
    },
    searchPlaceholder: {
      type: String,
      default: function() {
        return lt("ui.select.pleaseSearch");
      }
    },
    autocomplete: {
      type: String,
      default: "off"
    },
    multipleLimit: {
      type: Number,
      default: 0
    },
    popperAppendToBody: {
      type: Boolean,
      default: !0
    },
    hideDrop: {
      type: Boolean,
      default: !1
    },
    copyable: {
      type: Boolean,
      default: !1
    },
    renderType: String,
    gridOp: {
      type: Object,
      default: function() {
        return {};
      }
    },
    treeOp: {
      type: Object,
      default: function() {
        return {};
      }
    },
    delay: {
      type: Number,
      default: 200
    },
    readonly: Boolean,
    dropStyle: {
      type: Object,
      default: function() {
        return {};
      }
    },
    cacheOp: Object,
    isDropInheritWidth: Boolean,
    tagSelectable: {
      type: Boolean,
      default: !1
    },
    selectConfig: {
      type: Object,
      default: function() {
        return {
          checkMethod: function() {
            return !0;
          }
        };
      }
    },
    radioConfig: {
      type: Object,
      default: function() {
        return {
          checkMethod: function() {
            return !0;
          }
        };
      }
    },
    allowCopy: {
      type: Boolean,
      default: !1
    },
    textSplit: {
      type: String,
      default: ","
    },
    autoClose: Boolean,
    queryDebounce: Number,
    ignoreEnter: {
      type: Boolean,
      default: !1
    },
    dropdownIcon: {
      type: [Object, String],
      default: ""
    },
    disabledTooltipContent: String,
    hoverExpand: {
      type: Boolean,
      default: !1
    },
    optimization: [Boolean, Object],
    displayOnly: {
      type: Boolean,
      default: !1
    },
    initQuery: Function,
    extraQueryParams: {
      type: [Object, String, Boolean, Array, Number],
      default: ""
    },
    updateDelay: {
      type: Number,
      default: 0
    },
    showTips: {
      type: Boolean,
      default: !0
    },
    closeByMask: {
      type: Boolean,
      default: !0
    },
    keepFocus: {
      type: Boolean,
      default: !1
    },
    popperOptions: {
      type: Object,
      default: function() {
        return {
          gpuAcceleration: !1,
          boundariesPadding: 0
        };
      }
    },
    trim: {
      type: Boolean,
      default: !1
    },
    topCreate: {
      type: Boolean,
      default: !1
    },
    topCreateText: {
      type: String,
      default: function() {
        return lt("ui.select.add");
      }
    },
    initLabel: {
      type: String,
      default: ""
    },
    blank: {
      type: Boolean,
      default: !1
    },
    tooltipConfig: {
      type: Object,
      default: function() {
        return {};
      }
    },
    showEmptyValue: Boolean,
    dropdownHeight: {
      type: String,
      default: "initial"
    },
    stopPropagation: {
      type: Boolean,
      default: void 0
    },
    // 以下为 tiny 新增
    searchable: {
      type: Boolean,
      default: !1
    },
    showEmptyImage: {
      type: Boolean,
      default: !1
    },
    InputBoxType: {
      type: String,
      default: "input",
      validator: function(t) {
        return ["input", "underline"].includes(t);
      }
    },
    tagType: {
      type: String,
      default: ""
    },
    clearNoMatchValue: {
      type: Boolean,
      default: !1
    },
    showLimitText: {
      type: Boolean,
      default: !1
    },
    showProportion: {
      type: Boolean,
      default: !1
    },
    clickExpand: {
      type: Boolean,
      default: !1
    },
    maxVisibleRows: {
      type: Number,
      default: Xl.MAX_VISIBLE_ROWS
    },
    allText: {
      type: String,
      default: ""
    },
    showAllTextTag: {
      type: Boolean,
      default: !1
    },
    // 配置多选时，Tag的最大宽度
    maxTagWidth: {
      type: [String, Number],
      default: null
    }
  }),
  setup: function(t, n) {
    return Ie({
      props: t,
      context: n,
      template: y9
    });
  }
}), b9 = "3.undefined";
Tn.model = {
  prop: "modelValue",
  event: "update:modelValue"
};
Tn.install = function(e) {
  e.component(Tn.name, Tn);
};
Tn.version = b9;
const C9 = { class: "plugin-card__main" }, w9 = ["src"], S9 = { class: "plugin-card__content" }, $9 = { class: "plugin-card__info" }, k9 = { class: "plugin-card__name" }, T9 = {
  key: 0,
  class: "plugin-card__count"
}, _9 = { class: "plugin-card__desc" }, I9 = { class: "plugin-card__actions" }, E9 = { class: "plugin-card__operations" }, O9 = {
  key: 1,
  class: "plugin-card__add"
}, M9 = { class: "plugin-card__tools" }, x9 = { class: "plugin-card__tool" }, D9 = { class: "plugin-card__content" }, A9 = { class: "plugin-card__info" }, L9 = { class: "plugin-card__name" }, R9 = { class: "plugin-card__desc" }, V9 = { class: "plugin-card__actions plugin-card__actions--tool" }, N9 = {
  key: 0,
  class: "plugin-card__divider"
}, P9 = /* @__PURE__ */ rr({
  __name: "PluginCard",
  props: {
    plugin: {},
    mode: { default: "installed" },
    showToolCount: { type: Boolean, default: !0 }
  },
  emits: ["toggle-plugin", "toggle-tool", "add-plugin", "delete-plugin"],
  setup(e, { emit: t }) {
    const n = e, r = t, o = ut(!1), i = ot(() => {
      var v;
      return ((v = n.plugin.tools) == null ? void 0 : v.length) || 0;
    }), l = ot(() => i.value > 0), a = ot(() => ({
      "plugin-card--expandable": l.value,
      "plugin-card--expanded": o.value,
      [`plugin-card--${n.mode}`]: !0
    })), s = () => {
      l.value && (o.value = !o.value);
    }, d = ot(() => {
      if (!l.value)
        return { checked: n.plugin.enabled || !1, indeterminate: !1 };
      const v = n.plugin.tools.filter((m) => m.enabled), g = n.plugin.tools.length;
      return v.length === 0 ? { checked: !1, indeterminate: !1 } : v.length === g ? { checked: !0, indeterminate: !1 } : { checked: !0, indeterminate: !0 };
    }), u = (v) => {
      l.value && n.plugin.tools.forEach((g) => {
        g.enabled !== v && (g.enabled = v, r("toggle-tool", g.id, v));
      }), r("toggle-plugin", v);
    }, c = (v, g) => {
      r("toggle-tool", v, g);
    }, f = () => {
      r("delete-plugin");
    }, h = ot(() => n.plugin.added || !1), p = () => {
      const v = !h.value;
      r("add-plugin", v);
    };
    return (v, g) => (C(), k("div", {
      class: W(["plugin-card", a.value])
    }, [
      T("div", C9, [
        T("img", {
          src: v.plugin.icon,
          class: "plugin-card__icon"
        }, null, 8, w9),
        T("div", S9, [
          T("div", $9, [
            T("span", k9, j(v.plugin.name), 1),
            v.showToolCount && i.value ? (C(), k("span", T9, j(i.value) + " 个工具 ", 1)) : P("", !0)
          ]),
          T("div", _9, j(v.plugin.description), 1)
        ]),
        T("div", I9, [
          G(v.$slots, "actions", {
            plugin: v.plugin,
            expanded: o.value,
            mode: v.mode
          }, () => [
            v.mode === "installed" ? (C(), k(ie, { key: 0 }, [
              l.value ? (C(), k("div", {
                key: 0,
                class: "plugin-card__expand",
                onClick: s
              }, [
                G(v.$slots, "expand-icon", { expanded: o.value }, () => [
                  o.value ? (C(), z(Oe(jd), {
                    key: 1,
                    style: { "font-size": "16px", cursor: "pointer" }
                  })) : (C(), z(Oe(Bd), {
                    key: 0,
                    style: { "font-size": "16px", cursor: "pointer" }
                  }))
                ], !0)
              ])) : P("", !0),
              T("div", E9, [
                E(Oe(nn), {
                  title: "确定删除该插件吗？",
                  style: { height: "16px" },
                  type: "info",
                  onConfirm: f,
                  trigger: "click"
                }, {
                  reference: q(() => [
                    G(v.$slots, "delete-icon", {}, () => [
                      E(Oe(Wd), { style: { "font-size": "16px", cursor: "pointer" } })
                    ], !0)
                  ]),
                  _: 3
                }),
                E(Oe(jt), {
                  "model-value": d.value.checked,
                  indeterminate: d.value.indeterminate,
                  "onUpdate:modelValue": u
                }, null, 8, ["model-value", "indeterminate"])
              ])
            ], 64)) : v.mode === "market" ? (C(), k("div", O9, [
              G(v.$slots, "add-button", {}, () => [
                T("div", {
                  class: W(["plugin-card__add-button", { "plugin-card__add-button--added": h.value }]),
                  onClick: p
                }, [
                  T("span", null, j(h.value ? "已添加" : "添加"), 1)
                ], 2)
              ], !0)
            ])) : P("", !0)
          ], !0)
        ])
      ]),
      l.value ? (C(), z(Ot, {
        key: 0,
        name: "plugin-card-slide"
      }, {
        default: q(() => [
          ae(T("div", M9, [
            g[1] || (g[1] = T("div", { class: "plugin-card__divider" }, null, -1)),
            (C(!0), k(ie, null, $e(v.plugin.tools, (m, b) => {
              var y;
              return C(), k("div", {
                key: m.id,
                class: "plugin-card__tool-item"
              }, [
                T("div", x9, [
                  g[0] || (g[0] = T("div", { class: "plugin-card__icon plugin-card__icon--placeholder" }, null, -1)),
                  T("div", D9, [
                    T("div", A9, [
                      T("span", L9, j(m.name), 1)
                    ]),
                    T("div", R9, j(m.description), 1)
                  ]),
                  T("div", V9, [
                    E(Oe(jt), {
                      "model-value": m.enabled,
                      "onUpdate:modelValue": (S) => c(m.id, S)
                    }, null, 8, ["model-value", "onUpdate:modelValue"])
                  ])
                ]),
                b < (((y = v.plugin.tools) == null ? void 0 : y.length) || 0) - 1 ? (C(), k("div", N9)) : P("", !0)
              ]);
            }), 128))
          ], 512), [
            [De, o.value]
          ])
        ]),
        _: 1
      })) : P("", !0)
    ], 2));
  }
}), Ql = /* @__PURE__ */ dr(P9, [["__scopeId", "data-v-dca2ba4f"]]), F9 = (e) => (t) => {
  const n = t.target, r = (n == null ? void 0 : n.nodeName) === "INPUT" ? "[type=radio]" : "[role=radio]", o = e.$el.querySelectorAll(r), i = o.length, l = [].indexOf.call(o, n), a = e.$el.querySelectorAll("[role=radio]");
  switch (t.keyCode) {
    case be.ArrowDown:
    case be.ArrowRight:
      t.stopPropagation(), t.preventDefault(), l === i - 1 ? (a[0].click(), a[0].focus()) : (a[l + 1].click(), a[l + 1].focus());
      break;
    case be.ArrowUp:
    case be.ArrowLeft:
      t.stopPropagation(), t.preventDefault(), l === 0 ? (a[i - 1].click(), a[i - 1].focus()) : (a[l - 1].click(), a[l - 1].focus());
      break;
  }
}, z9 = (e) => () => {
  const t = e.$el.querySelectorAll("[type=radio]"), n = e.$el.querySelectorAll("[role=radio]")[0];
  ![].some.call(t, (r) => r.checked) && n && (n.tabIndex = 0);
}, H9 = ["state", "handleKeydown"], B9 = (e, { computed: t, onMounted: n, reactive: r, watch: o, provide: i }, { parent: l, dispatch: a }) => {
  const s = r({
    radioGroupSize: t(() => e.size),
    tag: "div",
    activeStyle: e.fill
  });
  l.$on("handleChange", (u) => {
    l.$emit("change", u);
  });
  const d = {
    state: s,
    dispatch: a,
    onMounted: z9(l),
    handleKeydown: F9(l)
  };
  return o(
    () => e.modelValue,
    (u) => {
      d.dispatch("FormItem", "form.change", [u]);
    }
  ), n(d.onMounted), i("radioVertical", e.vertical), i("showTips", e.showTips), i("size", e.size), d;
}, j9 = ({
  constants: e,
  nextTick: t,
  dispatch: n,
  state: r
}) => () => {
  t(() => {
    n(e.RADIO_GROUP, "handleChange", [r.value]);
  });
}, W9 = (e) => () => {
  var t;
  return (t = e.radioGroup) == null ? void 0 : t.modelValue;
}, K9 = ({ state: e }) => (t) => {
  var n;
  return (n = e.radioGroup) == null ? void 0 : n.$emit("update:modelValue", t);
}, q9 = ({ constants: e, parent: t }) => () => {
  let n = t.$parent;
  for (; n; )
    if (n.$options.componentName !== e.RADIO_GROUP)
      n = n.$parent;
    else
      return n;
  return null;
}, G9 = (e) => () => {
  var t, n, r, o;
  return {
    backgroundColor: ((t = e.radioGroup) == null ? void 0 : t.fill) || "",
    borderColor: ((n = e.radioGroup) == null ? void 0 : n.fill) || "",
    boxShadow: (r = e.radioGroup) != null && r.fill ? `-1px 0 0 0 ${e.radioGroup.fill}` : "",
    color: ((o = e.radioGroup) == null ? void 0 : o.textColor) || ""
  };
}, U9 = ({ vm: e, props: t }) => (n = !1) => {
  const r = e.$refs.radio;
  Object.keys(t.events).forEach((o) => {
    r[(n ? "remove" : "add") + "EventListener"](o, t.events[o]);
  });
}, Z9 = ({ state: e, props: t }) => () => {
  e.value = e.isDisabled ? e.value : t.label;
}, Y9 = (e) => () => e.focus = !0, X9 = (e) => () => e.focus = !1, Q9 = ["state", "handleChange", "keydownHandle", "handleFocus", "handleBlur"], J9 = (e, { computed: t, reactive: n, onMounted: r, onBeforeUnmount: o, inject: i }, { parent: l, dispatch: a, constants: s, nextTick: d, vm: u }) => {
  const c = {
    getGroup: q9({ constants: s, parent: l }),
    toggleEvents: U9({ vm: u, props: e })
  }, f = n({
    focus: !1,
    value: t({
      get: () => c.getValue(),
      set: (h) => c.setValue(h)
    }),
    radioGroup: t(() => c.getGroup()),
    activeStyle: t(() => c.getStyle()),
    size: t(() => {
      var h;
      return (h = f.radioGroup) == null ? void 0 : h.state.radioGroupSize;
    }),
    isDisabled: t(() => {
      var h;
      return e.disabled || ((h = f.radioGroup) == null ? void 0 : h.disabled);
    }),
    tabIndex: t(() => f.isDisabled || f.radioGroup && f.value !== e.label ? -1 : 0),
    showTips: i("showTips", !1),
    tipContent: e.tipContent
  });
  return Object.assign(c, {
    state: f,
    getValue: W9(f),
    getStyle: G9(f),
    setValue: K9({ state: f }),
    handleChange: j9({ constants: s, dispatch: a, nextTick: d, state: f }),
    keydownHandle: Z9({ state: f, props: e }),
    handleFocus: Y9(f),
    handleBlur: X9(f)
  }), r(() => {
    c.toggleEvents(!1);
  }), o(() => {
    c.toggleEvents(!0);
  }), c;
};
function eL(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = tL(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function tL(e, t) {
  if (e) {
    if (typeof e == "string") return Jl(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Jl(e, t) : void 0;
  }
}
function Jl(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var nL = function(t, n) {
  for (var r = t.__vccOpts || t, o = eL(n), i; !(i = o()).done; ) {
    var l = i.value, a = l[0], s = l[1];
    r[a] = s;
  }
  return r;
}, rL = U({
  emits: ["change"],
  props: [].concat(Ne, ["label", "events", "text", "disabled", "name"]),
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: J9,
      api: Q9
    });
  }
}), oL = ["aria-checked", "aria-disabled", "tabindex"], iL = ["value", "name", "disabled"];
function lL(e, t, n, r, o, i) {
  return C(), k("label", {
    class: W(["tiny-radio-button", [e.state.size ? "tiny-radio-button--" + e.state.size : "tiny-radio-button--default", {
      "is-active": e.state.value === e.label
    }, {
      "is-disabled": e.state.isDisabled
    }, {
      "is-focus": e.state.focus
    }]]),
    role: "radio",
    "aria-checked": e.state.value === e.label,
    "aria-disabled": e.state.isDisabled,
    tabindex: e.state.tabIndex,
    onKeydown: t[5] || (t[5] = Se(X(function(l) {
      return e.state.value = e.state.isDisabled ? e.state.value : e.label;
    }, ["stop", "prevent"]), ["space"]))
  }, [ae(T("input", {
    ref: "radio",
    class: "tiny-radio-button__orig-radio",
    value: e.label,
    type: "radio",
    "onUpdate:modelValue": t[0] || (t[0] = function(l) {
      return e.state.value = l;
    }),
    name: e.name,
    onChange: t[1] || (t[1] = function() {
      return e.handleChange && e.handleChange.apply(e, arguments);
    }),
    disabled: e.state.isDisabled,
    tabindex: "-1",
    onFocus: t[2] || (t[2] = function(l) {
      return e.state.focus = !0;
    }),
    onBlur: t[3] || (t[3] = function(l) {
      return e.state.focus = !1;
    })
  }, null, 40, iL), [[ra, e.state.value]]), T(
    "span",
    {
      class: "tiny-radio-button__inner",
      style: ke(e.state.value === e.label ? e.state.activeStyle : void 0),
      onKeydown: t[4] || (t[4] = X(function() {
      }, ["stop"]))
    },
    [G(e.$slots, "default"), e.slots.default ? P("v-if", !0) : (C(), k(
      ie,
      {
        key: 0
      },
      [de(
        j(e.text || e.label),
        1
        /* TEXT */
      )],
      64
      /* STABLE_FRAGMENT */
    ))],
    36
    /* STYLE, NEED_HYDRATION */
  )], 42, oL);
}
var Co = /* @__PURE__ */ nL(rL, [["render", lL]]);
function ri() {
  return ri = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, ri.apply(null, arguments);
}
var aL = function(t) {
  var n, r = typeof process == "object" ? (n = process.env) == null ? void 0 : n.TINY_MODE : null;
  return Co;
}, sL = {
  RADIO_GROUP: "RadioGroup"
}, dL = ri({}, le, {
  _constants: {
    type: Object,
    default: function() {
      return sL;
    }
  },
  name: String,
  text: String,
  events: {
    type: Object,
    default: function() {
      return {};
    }
  },
  label: {},
  disabled: Boolean,
  tipContent: String
}), Zn = U({
  name: te + "RadioButton",
  props: dL,
  setup: function(t, n) {
    return Ie({
      props: t,
      context: n,
      template: aL
    });
  }
}), uL = "3.undefined";
Zn.install = function(e) {
  e.component(Zn.name, Zn);
};
Zn.version = uL;
function cL(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n) return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = fL(e)) || t) {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function fL(e, t) {
  if (e) {
    if (typeof e == "string") return ea(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? ea(e, t) : void 0;
  }
}
function ea(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var hL = function(t, n) {
  for (var r = t.__vccOpts || t, o = cL(n), i; !(i = o()).done; ) {
    var l = i.value, a = l[0], s = l[1];
    r[a] = s;
  }
  return r;
}, pL = U({
  components: {
    Radio: Wt,
    RadioButton: Zn
  },
  emits: ["change", "update:modelValue"],
  props: [].concat(Ne, ["options", "modelValue", "type", "size", "fill", "textColor", "disabled", "vertical", "displayOnly"]),
  setup: function(t, n) {
    return ve({
      props: t,
      context: n,
      renderless: B9,
      api: H9
    });
  }
});
function vL(e, t, n, r, o, i) {
  var l = K("radio"), a = K("radio-button");
  return C(), z(Te(e.state.tag), {
    class: W(["tiny-radio-group", [e.vertical ? "list-inline" : ""]]),
    role: "radiogroup",
    onKeydown: e.handleKeydown,
    ref: "group"
  }, {
    default: q(function() {
      return [G(e.$slots, "default", {}, function() {
        return [e.type === "radio" ? (C(!0), k(
          ie,
          {
            key: 0
          },
          $e(e.options, function(s, d) {
            return C(), z(l, it({
              "display-only": e.displayOnly,
              key: d,
              ref_for: !0
            }, s), null, 16, ["display-only"]);
          }),
          128
          /* KEYED_FRAGMENT */
        )) : P("v-if", !0), e.type === "button" ? (C(!0), k(
          ie,
          {
            key: 1
          },
          $e(e.options, function(s, d) {
            return C(), z(
              a,
              it({
                key: d,
                ref_for: !0
              }, s),
              null,
              16
              /* FULL_PROPS */
            );
          }),
          128
          /* KEYED_FRAGMENT */
        )) : P("v-if", !0)];
      })];
    }),
    _: 3
    /* FORWARDED */
  }, 40, ["class", "onKeydown"]);
}
var wo = /* @__PURE__ */ hL(pL, [["render", vL]]);
function oi() {
  return oi = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, oi.apply(null, arguments);
}
var gL = function(t) {
  var n, r = typeof process == "object" ? (n = process.env) == null ? void 0 : n.TINY_MODE : null;
  return wo;
}, mL = oi({}, le, {
  modelValue: {},
  size: {
    type: String,
    default: ""
  },
  fill: String,
  textColor: String,
  disabled: Boolean,
  vertical: Boolean,
  options: {
    type: Array,
    default: function() {
      return [];
    }
  },
  type: {
    type: String,
    default: "radio"
  },
  showTips: {
    type: Boolean,
    default: !1
  },
  displayOnly: {
    type: Boolean,
    default: !1
  }
}), on = U({
  name: te + "RadioGroup",
  componentName: "RadioGroup",
  props: mL,
  setup: function(t, n) {
    return Ie({
      props: t,
      context: n,
      template: gL
    });
  }
}), yL = "3.undefined";
on.model = {
  prop: "modelValue",
  event: "update:modelValue"
};
on.install = function(e) {
  e.component(on.name, on);
};
on.version = yL;
const bL = { class: "code-editor__container" }, CL = { class: "code-editor__section" }, wL = { class: "code-editor__area" }, SL = /* @__PURE__ */ rr({
  __name: "CodeEditor",
  props: {
    codeData: { required: !0 },
    codeDataModifiers: {}
  },
  emits: ["update:codeData"],
  setup(e) {
    const t = Ar(e, "codeData");
    return (n, r) => (C(), k("div", bL, [
      T("div", CL, [
        r[1] || (r[1] = T("div", { class: "code-editor__header" }, [
          T("span", { class: "code-editor__title" }, "ai_plugin（填写json）")
        ], -1)),
        T("div", wL, [
          ae(T("textarea", {
            "onUpdate:modelValue": r[0] || (r[0] = (o) => t.value = o),
            class: "code-editor__textarea",
            placeholder: "请输入 JSON 配置..."
          }, null, 512), [
            [Yt, t.value]
          ])
        ])
      ])
    ]));
  }
}), $L = /* @__PURE__ */ dr(SL, [["__scopeId", "data-v-dcd8e8aa"]]), kL = { class: "form-editor__container" }, TL = { class: "form-editor__item" }, _L = { class: "form-editor__item" }, IL = { class: "form-editor__item" }, EL = { class: "form-editor__item" }, OL = { class: "form-editor__item" }, ML = { class: "form-editor__item" }, xL = ["src"], ta = "https://res.hc-cdn.com/tinyui-design/1.1.0.20250526191525/home/images/tiny-ng.svg", DL = /* @__PURE__ */ rr({
  __name: "FormEditor",
  props: {
    formData: { required: !0 },
    formDataModifiers: {}
  },
  emits: ["update:formData"],
  setup(e) {
    const t = ut(""), n = Ar(e, "formData"), r = [
      { label: "sse", text: "服务器发送事件（SSE）" },
      { label: "streamableHttp", text: "流式HTTP（Streamable HTTP）" }
    ], { open: o, files: i } = qd({
      accept: "image/*",
      // 只接受图片文件
      multiple: !1
      // 只允许选择单个文件
    }), l = () => {
      t.value && t.value !== ta && (URL.revokeObjectURL(t.value), t.value = "");
    };
    gn(i, (s) => {
      if (s && s.length > 0) {
        const d = s[0];
        if (!d.type.startsWith("image/"))
          return;
        const u = 5 * 1024 * 1024;
        if (d.size > u)
          return;
        l(), t.value = URL.createObjectURL(d), n.value.thumbnail = d;
      }
    });
    const a = () => {
      o();
    };
    return cd(() => {
      l();
    }), (s, d) => (C(), k("form", kL, [
      T("div", TL, [
        d[5] || (d[5] = T("label", { class: "form-editor__label" }, "名称", -1)),
        ae(T("input", {
          "onUpdate:modelValue": d[0] || (d[0] = (u) => n.value.name = u),
          class: "form-editor__input",
          type: "text",
          placeholder: "请输入插件名称"
        }, null, 512), [
          [Yt, n.value.name]
        ])
      ]),
      T("div", _L, [
        d[6] || (d[6] = T("label", { class: "form-editor__label" }, "描述", -1)),
        ae(T("textarea", {
          "onUpdate:modelValue": d[1] || (d[1] = (u) => n.value.description = u),
          class: "form-editor__textarea",
          placeholder: "请输入插件描述",
          rows: "4"
        }, null, 512), [
          [Yt, n.value.description]
        ])
      ]),
      T("div", IL, [
        d[7] || (d[7] = T("label", { class: "form-editor__label" }, "类型", -1)),
        E(Oe(on), {
          modelValue: n.value.type,
          "onUpdate:modelValue": d[2] || (d[2] = (u) => n.value.type = u),
          options: r,
          style: { padding: "1px 0" }
        }, null, 8, ["modelValue"])
      ]),
      T("div", EL, [
        d[8] || (d[8] = T("label", { class: "form-editor__label" }, "URL", -1)),
        ae(T("input", {
          "onUpdate:modelValue": d[3] || (d[3] = (u) => n.value.url = u),
          class: "form-editor__input",
          type: "url",
          placeholder: "请输入插件URL"
        }, null, 512), [
          [Yt, n.value.url]
        ])
      ]),
      T("div", OL, [
        d[9] || (d[9] = T("label", { class: "form-editor__label" }, "请求头", -1)),
        ae(T("textarea", {
          "onUpdate:modelValue": d[4] || (d[4] = (u) => n.value.headers = u),
          class: "form-editor__textarea",
          placeholder: "请输入请求头，格式为JSON",
          rows: "4"
        }, null, 512), [
          [Yt, n.value.headers]
        ])
      ]),
      T("div", ML, [
        d[11] || (d[11] = T("label", { class: "form-editor__label" }, "缩略图", -1)),
        T("div", {
          class: "form-editor__file-upload",
          onClick: a
        }, [
          T("img", {
            src: t.value || ta,
            alt: "缩略图预览",
            class: "form-editor__file-preview-image"
          }, null, 8, xL),
          d[10] || (d[10] = T("div", { class: "form-editor__file-overlay" }, [
            T("div", { class: "form-editor__file-icon" })
          ], -1))
        ])
      ])
    ]));
  }
}), AL = /* @__PURE__ */ dr(DL, [["__scopeId", "data-v-74c40dab"]]), LL = {
  key: 0,
  class: "plugin-editor__backdrop"
}, RL = { class: "plugin-editor__header" }, VL = { class: "plugin-editor__content" }, NL = { class: "plugin-editor__add-type" }, PL = {
  key: 0,
  class: "plugin-editor__form-editor"
}, FL = {
  key: 1,
  class: "plugin-editor__code-editor"
}, zL = /* @__PURE__ */ rr({
  __name: "PluginModal",
  props: {
    visible: { type: Boolean, required: !0 },
    visibleModifiers: {}
  },
  emits: /* @__PURE__ */ So(["update:visible", "confirm"], ["update:visible"]),
  setup(e, { emit: t }) {
    const n = t, r = Ar(e, "visible"), o = ut(null), i = ut({
      name: "",
      description: "",
      type: "sse",
      url: "",
      headers: "",
      thumbnail: null
    }), l = ut(""), a = ut("form"), s = [
      { label: "form", text: "表单添加" },
      { label: "code", text: "代码添加" }
    ], d = () => {
      r.value = !1;
    };
    Gd(o, () => {
      r.value && d();
    });
    const u = () => {
      a.value === "form" ? n("confirm", "form", i.value) : n("confirm", "code", l.value), d();
    };
    return (c, f) => (C(), k(ie, null, [
      r.value ? (C(), k("div", LL)) : P("", !0),
      E(Ot, { name: "plugin-editor" }, {
        default: q(() => [
          r.value ? (C(), k("div", {
            key: 0,
            class: "plugin-editor",
            ref_key: "dialogRef",
            ref: o
          }, [
            T("div", RL, [
              f[3] || (f[3] = T("h3", { class: "plugin-editor__title" }, "添加插件", -1)),
              E(Oe(Sa), {
                class: "plugin-editor__close",
                onClick: d
              })
            ]),
            T("div", VL, [
              T("div", NL, [
                f[4] || (f[4] = T("span", { class: "plugin-editor__add-type-label" }, "添加方式", -1)),
                E(Oe(on), {
                  modelValue: a.value,
                  "onUpdate:modelValue": f[0] || (f[0] = (h) => a.value = h),
                  type: "button",
                  options: s
                }, null, 8, ["modelValue"])
              ]),
              a.value === "form" ? (C(), k("div", PL, [
                E(AL, {
                  "form-data": i.value,
                  "onUpdate:formData": f[1] || (f[1] = (h) => i.value = h)
                }, null, 8, ["form-data"])
              ])) : P("", !0),
              a.value === "code" ? (C(), k("div", FL, [
                E($L, {
                  "code-data": l.value,
                  "onUpdate:codeData": f[2] || (f[2] = (h) => l.value = h)
                }, null, 8, ["code-data"])
              ])) : P("", !0)
            ]),
            T("div", { class: "plugin-editor__footer" }, [
              T("div", {
                class: "button cancel",
                onClick: d
              }, f[5] || (f[5] = [
                T("span", null, "取消", -1)
              ])),
              T("div", {
                class: "button confirm",
                onClick: u
              }, f[6] || (f[6] = [
                T("span", null, "确定", -1)
              ]))
            ])
          ], 512)) : P("", !0)
        ]),
        _: 1
      })
    ], 64));
  }
}), HL = /* @__PURE__ */ dr(zL, [["__scopeId", "data-v-b709f5c5"]]), BL = { class: "mcp-server-picker__header" }, jL = { class: "mcp-server-picker__header-left" }, WL = { class: "mcp-server-picker__header-right" }, KL = { class: "mcp-server-picker__content" }, qL = { class: "mcp-server-picker__content-item" }, GL = {
  key: 0,
  class: "mcp-server-picker__content-installed-search"
}, UL = { class: "mcp-server-picker__content-installed-list" }, ZL = {
  key: 0,
  class: "mcp-server-picker__loading"
}, YL = {
  key: 0,
  class: "mcp-server-picker__content-market-header"
}, XL = {
  key: 0,
  style: { width: "168px" }
}, QL = {
  key: 1,
  style: { width: "264px", "flex-shrink": "0" }
}, JL = { class: "mcp-server-picker__content-market-list" }, eR = {
  key: 0,
  class: "mcp-server-picker__loading"
}, tR = /* @__PURE__ */ rr({
  __name: "index",
  props: /* @__PURE__ */ So({
    installedPlugins: { default: () => [] },
    marketPlugins: { default: () => [] },
    searchPlaceholder: { default: "搜索插件" },
    enableSearch: { type: Boolean, default: !0 },
    marketCategoryOptions: { default: () => [] },
    marketCategoryPlaceholder: { default: "按照分类筛选" },
    enableMarketCategoryFilter: { type: Boolean, default: !0 },
    defaultActiveTab: { default: "installed" },
    showInstalledTab: { type: Boolean, default: !0 },
    showMarketTab: { type: Boolean, default: !0 },
    visible: { type: Boolean },
    popupConfig: { default: () => ({
      type: "fixed",
      position: {},
      drawer: { direction: "right" }
    }) },
    activeCount: {},
    installedTabTitle: { default: "已安装插件" },
    marketTabTitle: { default: "市场" },
    title: { default: "插件" },
    showCustomAddButton: { type: Boolean, default: !0 },
    customAddButtonText: { default: "自定义添加" },
    allowPluginToggle: { type: Boolean, default: !0 },
    allowToolToggle: { type: Boolean, default: !0 },
    allowPluginDelete: { type: Boolean, default: !0 },
    allowPluginAdd: { type: Boolean, default: !0 },
    loading: { type: Boolean, default: !1 },
    marketLoading: { type: Boolean, default: !1 }
  }, {
    visible: { type: Boolean, required: !0 },
    visibleModifiers: {}
  }),
  emits: /* @__PURE__ */ So(["search", "market-category-change", "tab-change", "plugin-toggle", "plugin-delete", "plugin-add", "plugin-create", "tool-toggle", "refresh", "update:activeCount", "update:visible"], ["update:visible"]),
  setup(e, { emit: t }) {
    const n = e, r = t, o = ut(n.defaultActiveTab), i = ut(""), l = ut(""), a = ut(""), s = ot(
      () => o.value === "installed" ? n.searchPlaceholder : "搜索市场插件"
    ), d = ot(() => n.installedPlugins), u = ot(() => n.marketPlugins), c = ot(() => d.value.filter((x) => x.enabled).length);
    gn(
      c,
      (x) => {
        r("update:activeCount", x);
      },
      { immediate: !0 }
    ), gn(o, (x, D) => {
      x !== D && r("tab-change", x);
    }), gn(i, (x) => {
      r("search", x, "installed");
    }), gn(l, (x) => {
      r("search", x, "market");
    }), gn(a, (x) => {
      r("market-category-change", x);
    });
    const f = (x, D) => {
      var R;
      n.allowPluginToggle && (r("plugin-toggle", x, D), (R = x.tools) != null && R.length && (D ? x.tools.filter((L) => L.enabled).length === 0 && x.tools.forEach((L) => {
        r("tool-toggle", x, L.id, !0);
      }) : x.tools.forEach((O) => {
        O.enabled && r("tool-toggle", x, O.id, !1);
      })));
    }, h = (x, D, R) => {
      var O;
      if (n.allowToolToggle && (r("tool-toggle", x, D, R), (O = x.tools) != null && O.length)) {
        const L = x.tools.filter((V) => V.id !== D).some((V) => V.enabled), M = R || L;
        x.enabled !== M && r("plugin-toggle", x, M);
      }
    }, p = (x) => {
      n.allowPluginDelete && r("plugin-delete", x);
    }, v = (x, D) => {
      n.allowPluginAdd && r("plugin-add", x, D);
    }, g = ut(!1), m = () => {
      g.value = !0;
    }, b = (x, D) => {
      r("plugin-create", x, D), g.value = !1;
    }, y = Ar(e, "visible"), S = () => {
      r("update:visible", !1);
    }, w = ot(() => {
      const { type: x, position: D, drawer: R } = n.popupConfig || {}, O = {
        "z-index": "1000",
        position: "fixed"
      };
      return x === "fixed" ? {
        ...O,
        ..._(D)
      } : x === "drawer" ? {
        ...O,
        ...$(R)
      } : O;
    }), _ = (x = {}) => {
      const D = {};
      return Object.entries(x).forEach(([R, O]) => {
        O !== void 0 && (D[R] = typeof O == "number" ? `${O}px` : O);
      }), Object.keys(D).length === 0 ? {
        top: "50%",
        left: "50%",
        transform: "translate(-50%, -50%)"
      } : D;
    }, $ = (x = { direction: "right" }) => {
      const { direction: D } = x, R = {
        top: "0",
        bottom: "0",
        height: "100%"
      };
      return D === "left" ? {
        ...R,
        left: "0",
        "border-right": "1px solid rgb(219, 219, 219)"
      } : {
        ...R,
        right: "0",
        "border-left": "1px solid rgb(219, 219, 219)"
      };
    }, I = ot(() => {
      const { type: x, drawer: D } = n.popupConfig || {};
      return x !== "drawer" ? "" : `drawer-${(D == null ? void 0 : D.direction) || "right"}`;
    }), A = ot(() => {
      const { type: x } = n.popupConfig || {};
      return x === "drawer" ? I.value : "fade";
    });
    return (x, D) => (C(), z(Ot, { name: A.value }, {
      default: q(() => {
        var R;
        return [
          y.value ? (C(), k("div", {
            key: 0,
            class: W(["mcp-server-picker", [`popup-type-${((R = n.popupConfig) == null ? void 0 : R.type) || "fixed"}`, I.value]]),
            style: ke(w.value)
          }, [
            T("div", BL, [
              T("div", jL, j(n.title), 1),
              T("div", WL, [
                n.showCustomAddButton ? (C(), k("div", {
                  key: 0,
                  class: "mcp-server-picker__header-right-item",
                  onClick: m
                }, [
                  E(Oe(Kd), { style: { "font-size": "16px", cursor: "pointer" } }),
                  T("span", null, j(n.customAddButtonText), 1)
                ])) : P("", !0),
                E(Oe(Sa), {
                  class: "mcp-server-picker__header-right-close",
                  onClick: S
                })
              ])
            ]),
            T("div", KL, [
              E(Oe(bn), {
                modelValue: o.value,
                "onUpdate:modelValue": D[3] || (D[3] = (O) => o.value = O)
              }, {
                default: q(() => [
                  n.showInstalledTab ? (C(), z(Oe(Cn), {
                    key: 0,
                    title: n.installedTabTitle,
                    name: "installed"
                  }, {
                    default: q(() => [
                      T("div", qL, [
                        n.enableSearch ? (C(), k("div", GL, [
                          E(Oe(Yn), {
                            modelValue: i.value,
                            "onUpdate:modelValue": D[0] || (D[0] = (O) => i.value = O),
                            placeholder: n.searchPlaceholder
                          }, {
                            suffix: q(() => [
                              E(Oe(Li), { style: { "font-size": "16px", cursor: "pointer" } })
                            ]),
                            _: 1
                          }, 8, ["modelValue", "placeholder"])
                        ])) : P("", !0),
                        T("div", UL, [
                          n.loading ? (C(), k("div", ZL, "加载中...")) : (C(!0), k(ie, { key: 1 }, $e(d.value, (O) => {
                            var L;
                            return C(), z(Oe(Ql), {
                              key: O.id,
                              plugin: O,
                              mode: "installed",
                              expandable: !!((L = O.tools) != null && L.length),
                              onTogglePlugin: (M) => f(O, M),
                              onToggleTool: (M, V) => h(O, M, V),
                              onDeletePlugin: () => p(O)
                            }, null, 8, ["plugin", "expandable", "onTogglePlugin", "onToggleTool", "onDeletePlugin"]);
                          }), 128))
                        ])
                      ])
                    ]),
                    _: 1
                  }, 8, ["title"])) : P("", !0),
                  n.showMarketTab ? (C(), z(Oe(Cn), {
                    key: 1,
                    title: n.marketTabTitle,
                    name: "market"
                  }, {
                    default: q(() => [
                      n.enableSearch || n.enableMarketCategoryFilter ? (C(), k("div", YL, [
                        n.enableMarketCategoryFilter ? (C(), k("div", XL, [
                          E(Oe(Tn), {
                            modelValue: a.value,
                            "onUpdate:modelValue": D[1] || (D[1] = (O) => a.value = O),
                            placeholder: n.marketCategoryPlaceholder
                          }, {
                            default: q(() => [
                              (C(!0), k(ie, null, $e(n.marketCategoryOptions, (O) => (C(), z(Oe(Jt), {
                                key: O.value,
                                label: O.label,
                                value: O.value
                              }, {
                                default: q(() => [
                                  de(j(O.label), 1)
                                ]),
                                _: 2
                              }, 1032, ["label", "value"]))), 128))
                            ]),
                            _: 1
                          }, 8, ["modelValue", "placeholder"])
                        ])) : P("", !0),
                        n.enableSearch ? (C(), k("div", QL, [
                          E(Oe(Yn), {
                            modelValue: l.value,
                            "onUpdate:modelValue": D[2] || (D[2] = (O) => l.value = O),
                            placeholder: s.value
                          }, {
                            suffix: q(() => [
                              E(Oe(Li), { style: { "font-size": "16px", cursor: "pointer" } })
                            ]),
                            _: 1
                          }, 8, ["modelValue", "placeholder"])
                        ])) : P("", !0)
                      ])) : P("", !0),
                      T("div", JL, [
                        n.marketLoading ? (C(), k("div", eR, "加载中...")) : (C(!0), k(ie, { key: 1 }, $e(u.value, (O) => (C(), z(Oe(Ql), {
                          key: O.id,
                          plugin: O,
                          mode: "market",
                          expandable: !1,
                          "show-tool-count": !1,
                          onAddPlugin: (L) => v(O, L)
                        }, null, 8, ["plugin", "onAddPlugin"]))), 128))
                      ])
                    ]),
                    _: 1
                  }, 8, ["title"])) : P("", !0)
                ]),
                _: 1
              }, 8, ["modelValue"])
            ]),
            E(Oe(HL), {
              visible: g.value,
              "onUpdate:visible": D[4] || (D[4] = (O) => g.value = O),
              onConfirm: b
            }, null, 8, ["visible"])
          ], 6)) : P("", !0)
        ];
      }),
      _: 1
    }, 8, ["name"]));
  }
}), Dr = /* @__PURE__ */ dr(tR, [["__scopeId", "data-v-389bca82"]]);
Dr.name = "McpServerPicker";
const nR = function(e) {
  e.component(Dr.name, Dr);
};
Dr.install = nR;
export {
  Dr as default
};
